"use strict";var Gl=Object.create;var zr=Object.defineProperty;var ql=Object.getOwnPropertyDescriptor;var $l=Object.getOwnPropertyNames;var Hl=Object.getPrototypeOf,zl=Object.prototype.hasOwnProperty;var M=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),Xl=(t,r)=>{for(var e in r)zr(t,e,{get:r[e],enumerable:!0})},ti=(t,r,e,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of $l(r))!zl.call(t,i)&&i!==e&&zr(t,i,{get:()=>r[i],enumerable:!(s=ql(r,i))||s.enumerable});return t};var zt=(t,r,e)=>(e=t!=null?Gl(Hl(t)):{},ti(r||!t||!t.__esModule?zr(e,"default",{value:t,enumerable:!0}):e,t)),kl=t=>ti(zr({},"__esModule",{value:!0}),t);var cr=M((gg,si)=>{var Yl="2.0.0",Kl=Number.MAX_SAFE_INTEGER||9007199254740991,Jl=16,Ql=250,Zl=["major","premajor","minor","preminor","patch","prepatch","prerelease"];si.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Jl,MAX_SAFE_BUILD_LENGTH:Ql,MAX_SAFE_INTEGER:Kl,RELEASE_TYPES:Zl,SEMVER_SPEC_VERSION:Yl,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var pr=M((hg,ni)=>{var eu=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ni.exports=eu});var Xt=M((je,ii)=>{var{MAX_SAFE_COMPONENT_LENGTH:Ms,MAX_SAFE_BUILD_LENGTH:tu,MAX_LENGTH:ru}=cr(),su=pr();je=ii.exports={};var nu=je.re=[],iu=je.safeRe=[],N=je.src=[],A=je.t={},ou=0,Rs="[a-zA-Z0-9-]",au=[["\\s",1],["\\d",ru],[Rs,tu]],lu=t=>{for(let[r,e]of au)t=t.split(`${r}*`).join(`${r}{0,${e}}`).split(`${r}+`).join(`${r}{1,${e}}`);return t},H=(t,r,e)=>{let s=lu(r),i=ou++;su(t,i,r),A[t]=i,N[i]=r,nu[i]=new RegExp(r,e?"g":void 0),iu[i]=new RegExp(s,e?"g":void 0)};H("NUMERICIDENTIFIER","0|[1-9]\\d*");H("NUMERICIDENTIFIERLOOSE","\\d+");H("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Rs}*`);H("MAINVERSION",`(${N[A.NUMERICIDENTIFIER]})\\.(${N[A.NUMERICIDENTIFIER]})\\.(${N[A.NUMERICIDENTIFIER]})`);H("MAINVERSIONLOOSE",`(${N[A.NUMERICIDENTIFIERLOOSE]})\\.(${N[A.NUMERICIDENTIFIERLOOSE]})\\.(${N[A.NUMERICIDENTIFIERLOOSE]})`);H("PRERELEASEIDENTIFIER",`(?:${N[A.NUMERICIDENTIFIER]}|${N[A.NONNUMERICIDENTIFIER]})`);H("PRERELEASEIDENTIFIERLOOSE",`(?:${N[A.NUMERICIDENTIFIERLOOSE]}|${N[A.NONNUMERICIDENTIFIER]})`);H("PRERELEASE",`(?:-(${N[A.PRERELEASEIDENTIFIER]}(?:\\.${N[A.PRERELEASEIDENTIFIER]})*))`);H("PRERELEASELOOSE",`(?:-?(${N[A.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${N[A.PRERELEASEIDENTIFIERLOOSE]})*))`);H("BUILDIDENTIFIER",`${Rs}+`);H("BUILD",`(?:\\+(${N[A.BUILDIDENTIFIER]}(?:\\.${N[A.BUILDIDENTIFIER]})*))`);H("FULLPLAIN",`v?${N[A.MAINVERSION]}${N[A.PRERELEASE]}?${N[A.BUILD]}?`);H("FULL",`^${N[A.FULLPLAIN]}$`);H("LOOSEPLAIN",`[v=\\s]*${N[A.MAINVERSIONLOOSE]}${N[A.PRERELEASELOOSE]}?${N[A.BUILD]}?`);H("LOOSE",`^${N[A.LOOSEPLAIN]}$`);H("GTLT","((?:<|>)?=?)");H("XRANGEIDENTIFIERLOOSE",`${N[A.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);H("XRANGEIDENTIFIER",`${N[A.NUMERICIDENTIFIER]}|x|X|\\*`);H("XRANGEPLAIN",`[v=\\s]*(${N[A.XRANGEIDENTIFIER]})(?:\\.(${N[A.XRANGEIDENTIFIER]})(?:\\.(${N[A.XRANGEIDENTIFIER]})(?:${N[A.PRERELEASE]})?${N[A.BUILD]}?)?)?`);H("XRANGEPLAINLOOSE",`[v=\\s]*(${N[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${N[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${N[A.XRANGEIDENTIFIERLOOSE]})(?:${N[A.PRERELEASELOOSE]})?${N[A.BUILD]}?)?)?`);H("XRANGE",`^${N[A.GTLT]}\\s*${N[A.XRANGEPLAIN]}$`);H("XRANGELOOSE",`^${N[A.GTLT]}\\s*${N[A.XRANGEPLAINLOOSE]}$`);H("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Ms}})(?:\\.(\\d{1,${Ms}}))?(?:\\.(\\d{1,${Ms}}))?`);H("COERCE",`${N[A.COERCEPLAIN]}(?:$|[^\\d])`);H("COERCEFULL",N[A.COERCEPLAIN]+`(?:${N[A.PRERELEASE]})?(?:${N[A.BUILD]})?(?:$|[^\\d])`);H("COERCERTL",N[A.COERCE],!0);H("COERCERTLFULL",N[A.COERCEFULL],!0);H("LONETILDE","(?:~>?)");H("TILDETRIM",`(\\s*)${N[A.LONETILDE]}\\s+`,!0);je.tildeTrimReplace="$1~";H("TILDE",`^${N[A.LONETILDE]}${N[A.XRANGEPLAIN]}$`);H("TILDELOOSE",`^${N[A.LONETILDE]}${N[A.XRANGEPLAINLOOSE]}$`);H("LONECARET","(?:\\^)");H("CARETTRIM",`(\\s*)${N[A.LONECARET]}\\s+`,!0);je.caretTrimReplace="$1^";H("CARET",`^${N[A.LONECARET]}${N[A.XRANGEPLAIN]}$`);H("CARETLOOSE",`^${N[A.LONECARET]}${N[A.XRANGEPLAINLOOSE]}$`);H("COMPARATORLOOSE",`^${N[A.GTLT]}\\s*(${N[A.LOOSEPLAIN]})$|^$`);H("COMPARATOR",`^${N[A.GTLT]}\\s*(${N[A.FULLPLAIN]})$|^$`);H("COMPARATORTRIM",`(\\s*)${N[A.GTLT]}\\s*(${N[A.LOOSEPLAIN]}|${N[A.XRANGEPLAIN]})`,!0);je.comparatorTrimReplace="$1$2$3";H("HYPHENRANGE",`^\\s*(${N[A.XRANGEPLAIN]})\\s+-\\s+(${N[A.XRANGEPLAIN]})\\s*$`);H("HYPHENRANGELOOSE",`^\\s*(${N[A.XRANGEPLAINLOOSE]})\\s+-\\s+(${N[A.XRANGEPLAINLOOSE]})\\s*$`);H("STAR","(<|>)?=?\\s*\\*");H("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");H("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Xr=M((yg,oi)=>{var uu=Object.freeze({loose:!0}),cu=Object.freeze({}),pu=t=>t?typeof t!="object"?uu:t:cu;oi.exports=pu});var bs=M((Sg,ui)=>{var ai=/^[0-9]+$/,li=(t,r)=>{let e=ai.test(t),s=ai.test(r);return e&&s&&(t=+t,r=+r),t===r?0:e&&!s?-1:s&&!e?1:t<r?-1:1},fu=(t,r)=>li(r,t);ui.exports={compareIdentifiers:li,rcompareIdentifiers:fu}});var he=M((wg,di)=>{var kr=pr(),{MAX_LENGTH:ci,MAX_SAFE_INTEGER:jr}=cr(),{safeRe:pi,t:fi}=Xt(),du=Xr(),{compareIdentifiers:kt}=bs(),Fs=class t{constructor(r,e){if(e=du(e),r instanceof t){if(r.loose===!!e.loose&&r.includePrerelease===!!e.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>ci)throw new TypeError(`version is longer than ${ci} characters`);kr("SemVer",r,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;let s=r.trim().match(e.loose?pi[fi.LOOSE]:pi[fi.FULL]);if(!s)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>jr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>jr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>jr||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let n=+i;if(n>=0&&n<jr)return n}return i}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(kr("SemVer.compare",this.version,this.options,r),!(r instanceof t)){if(typeof r=="string"&&r===this.version)return 0;r=new t(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof t||(r=new t(r,this.options)),kt(this.major,r.major)||kt(this.minor,r.minor)||kt(this.patch,r.patch)}comparePre(r){if(r instanceof t||(r=new t(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let e=0;do{let s=this.prerelease[e],i=r.prerelease[e];if(kr("prerelease compare",e,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return kt(s,i)}while(++e)}compareBuild(r){r instanceof t||(r=new t(r,this.options));let e=0;do{let s=this.build[e],i=r.build[e];if(kr("build compare",e,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return kt(s,i)}while(++e)}inc(r,e,s){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,s),this.inc("pre",e,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e,s),this.inc("pre",e,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(s)?1:0;if(!e&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);if(n===-1){if(e===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(e){let n=[e,i];s===!1&&(n=[e]),kt(this.prerelease[0],e)===0?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${r}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};di.exports=Fs});var Nt=M((xg,gi)=>{var mi=he(),mu=(t,r,e=!1)=>{if(t instanceof mi)return t;try{return new mi(t,r)}catch(s){if(!e)return null;throw s}};gi.exports=mu});var yi=M((Cg,hi)=>{var gu=Nt(),hu=(t,r)=>{let e=gu(t,r);return e?e.version:null};hi.exports=hu});var wi=M((Ig,Si)=>{var yu=Nt(),Su=(t,r)=>{let e=yu(t.trim().replace(/^[=v]+/,""),r);return e?e.version:null};Si.exports=Su});var Ii=M((Og,Ci)=>{var xi=he(),wu=(t,r,e,s,i)=>{typeof e=="string"&&(i=s,s=e,e=void 0);try{return new xi(t instanceof xi?t.version:t,e).inc(r,s,i).version}catch{return null}};Ci.exports=wu});var _i=M((Lg,Li)=>{var Oi=Nt(),xu=(t,r)=>{let e=Oi(t,null,!0),s=Oi(r,null,!0),i=e.compare(s);if(i===0)return null;let n=i>0,o=n?e:s,a=n?s:e,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let c=l?"pre":"";return e.major!==s.major?c+"major":e.minor!==s.minor?c+"minor":e.patch!==s.patch?c+"patch":"prerelease"};Li.exports=xu});var vi=M((_g,Ei)=>{var Cu=he(),Iu=(t,r)=>new Cu(t,r).major;Ei.exports=Iu});var Vi=M((Eg,Pi)=>{var Ou=he(),Lu=(t,r)=>new Ou(t,r).minor;Pi.exports=Lu});var Di=M((vg,Ti)=>{var _u=he(),Eu=(t,r)=>new _u(t,r).patch;Ti.exports=Eu});var Ai=M((Pg,Ni)=>{var vu=Nt(),Pu=(t,r)=>{let e=vu(t,r);return e&&e.prerelease.length?e.prerelease:null};Ni.exports=Pu});var Pe=M((Vg,Ri)=>{var Mi=he(),Vu=(t,r,e)=>new Mi(t,e).compare(new Mi(r,e));Ri.exports=Vu});var Fi=M((Tg,bi)=>{var Tu=Pe(),Du=(t,r,e)=>Tu(r,t,e);bi.exports=Du});var Bi=M((Dg,Wi)=>{var Nu=Pe(),Au=(t,r)=>Nu(t,r,!0);Wi.exports=Au});var Yr=M((Ng,Gi)=>{var Ui=he(),Mu=(t,r,e)=>{let s=new Ui(t,e),i=new Ui(r,e);return s.compare(i)||s.compareBuild(i)};Gi.exports=Mu});var $i=M((Ag,qi)=>{var Ru=Yr(),bu=(t,r)=>t.sort((e,s)=>Ru(e,s,r));qi.exports=bu});var zi=M((Mg,Hi)=>{var Fu=Yr(),Wu=(t,r)=>t.sort((e,s)=>Fu(s,e,r));Hi.exports=Wu});var fr=M((Rg,Xi)=>{var Bu=Pe(),Uu=(t,r,e)=>Bu(t,r,e)>0;Xi.exports=Uu});var Kr=M((bg,ki)=>{var Gu=Pe(),qu=(t,r,e)=>Gu(t,r,e)<0;ki.exports=qu});var Ws=M((Fg,ji)=>{var $u=Pe(),Hu=(t,r,e)=>$u(t,r,e)===0;ji.exports=Hu});var Bs=M((Wg,Yi)=>{var zu=Pe(),Xu=(t,r,e)=>zu(t,r,e)!==0;Yi.exports=Xu});var Jr=M((Bg,Ki)=>{var ku=Pe(),ju=(t,r,e)=>ku(t,r,e)>=0;Ki.exports=ju});var Qr=M((Ug,Ji)=>{var Yu=Pe(),Ku=(t,r,e)=>Yu(t,r,e)<=0;Ji.exports=Ku});var Us=M((Gg,Qi)=>{var Ju=Ws(),Qu=Bs(),Zu=fr(),ec=Jr(),tc=Kr(),rc=Qr(),sc=(t,r,e,s)=>{switch(r){case"===":return typeof t=="object"&&(t=t.version),typeof e=="object"&&(e=e.version),t===e;case"!==":return typeof t=="object"&&(t=t.version),typeof e=="object"&&(e=e.version),t!==e;case"":case"=":case"==":return Ju(t,e,s);case"!=":return Qu(t,e,s);case">":return Zu(t,e,s);case">=":return ec(t,e,s);case"<":return tc(t,e,s);case"<=":return rc(t,e,s);default:throw new TypeError(`Invalid operator: ${r}`)}};Qi.exports=sc});var eo=M((qg,Zi)=>{var nc=he(),ic=Nt(),{safeRe:Zr,t:es}=Xt(),oc=(t,r)=>{if(t instanceof nc)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;r=r||{};let e=null;if(!r.rtl)e=t.match(r.includePrerelease?Zr[es.COERCEFULL]:Zr[es.COERCE]);else{let l=r.includePrerelease?Zr[es.COERCERTLFULL]:Zr[es.COERCERTL],u;for(;(u=l.exec(t))&&(!e||e.index+e[0].length!==t.length);)(!e||u.index+u[0].length!==e.index+e[0].length)&&(e=u),l.lastIndex=u.index+u[1].length+u[2].length;l.lastIndex=-1}if(e===null)return null;let s=e[2],i=e[3]||"0",n=e[4]||"0",o=r.includePrerelease&&e[5]?`-${e[5]}`:"",a=r.includePrerelease&&e[6]?`+${e[6]}`:"";return ic(`${s}.${i}.${n}${o}${a}`,r)};Zi.exports=oc});var ro=M(($g,to)=>{var Gs=class{constructor(){this.max=1e3,this.map=new Map}get(r){let e=this.map.get(r);if(e!==void 0)return this.map.delete(r),this.map.set(r,e),e}delete(r){return this.map.delete(r)}set(r,e){if(!this.delete(r)&&e!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(r,e)}return this}};to.exports=Gs});var Ve=M((Hg,oo)=>{var ac=/\s+/g,qs=class t{constructor(r,e){if(e=uc(e),r instanceof t)return r.loose===!!e.loose&&r.includePrerelease===!!e.includePrerelease?r:new t(r.raw,e);if(r instanceof $s)return this.raw=r.value,this.set=[[r]],this.formatted=void 0,this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=r.trim().replace(ac," "),this.set=this.raw.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(i=>!no(i[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&hc(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let r=0;r<this.set.length;r++){r>0&&(this.formatted+="||");let e=this.set[r];for(let s=0;s<e.length;s++)s>0&&(this.formatted+=" "),this.formatted+=e[s].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(r){let s=((this.options.includePrerelease&&mc)|(this.options.loose&&gc))+":"+r,i=so.get(s);if(i)return i;let n=this.options.loose,o=n?Oe[we.HYPHENRANGELOOSE]:Oe[we.HYPHENRANGE];r=r.replace(o,Ec(this.options.includePrerelease)),se("hyphen replace",r),r=r.replace(Oe[we.COMPARATORTRIM],pc),se("comparator trim",r),r=r.replace(Oe[we.TILDETRIM],fc),se("tilde trim",r),r=r.replace(Oe[we.CARETTRIM],dc),se("caret trim",r);let a=r.split(" ").map(p=>yc(p,this.options)).join(" ").split(/\s+/).map(p=>_c(p,this.options));n&&(a=a.filter(p=>(se("loose invalid filter",p,this.options),!!p.match(Oe[we.COMPARATORLOOSE])))),se("range list",a);let l=new Map,u=a.map(p=>new $s(p,this.options));for(let p of u){if(no(p))return[p];l.set(p.value,p)}l.size>1&&l.has("")&&l.delete("");let c=[...l.values()];return so.set(s,c),c}intersects(r,e){if(!(r instanceof t))throw new TypeError("a Range is required");return this.set.some(s=>io(s,e)&&r.set.some(i=>io(i,e)&&s.every(n=>i.every(o=>n.intersects(o,e)))))}test(r){if(!r)return!1;if(typeof r=="string")try{r=new cc(r,this.options)}catch{return!1}for(let e=0;e<this.set.length;e++)if(vc(this.set[e],r,this.options))return!0;return!1}};oo.exports=qs;var lc=ro(),so=new lc,uc=Xr(),$s=dr(),se=pr(),cc=he(),{safeRe:Oe,t:we,comparatorTrimReplace:pc,tildeTrimReplace:fc,caretTrimReplace:dc}=Xt(),{FLAG_INCLUDE_PRERELEASE:mc,FLAG_LOOSE:gc}=cr(),no=t=>t.value==="<0.0.0-0",hc=t=>t.value==="",io=(t,r)=>{let e=!0,s=t.slice(),i=s.pop();for(;e&&s.length;)e=s.every(n=>i.intersects(n,r)),i=s.pop();return e},yc=(t,r)=>(se("comp",t,r),t=xc(t,r),se("caret",t),t=Sc(t,r),se("tildes",t),t=Ic(t,r),se("xrange",t),t=Lc(t,r),se("stars",t),t),xe=t=>!t||t.toLowerCase()==="x"||t==="*",Sc=(t,r)=>t.trim().split(/\s+/).map(e=>wc(e,r)).join(" "),wc=(t,r)=>{let e=r.loose?Oe[we.TILDELOOSE]:Oe[we.TILDE];return t.replace(e,(s,i,n,o,a)=>{se("tilde",t,s,i,n,o,a);let l;return xe(i)?l="":xe(n)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:xe(o)?l=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:a?(se("replaceTilde pr",a),l=`>=${i}.${n}.${o}-${a} <${i}.${+n+1}.0-0`):l=`>=${i}.${n}.${o} <${i}.${+n+1}.0-0`,se("tilde return",l),l})},xc=(t,r)=>t.trim().split(/\s+/).map(e=>Cc(e,r)).join(" "),Cc=(t,r)=>{se("caret",t,r);let e=r.loose?Oe[we.CARETLOOSE]:Oe[we.CARET],s=r.includePrerelease?"-0":"";return t.replace(e,(i,n,o,a,l)=>{se("caret",t,i,n,o,a,l);let u;return xe(n)?u="":xe(o)?u=`>=${n}.0.0${s} <${+n+1}.0.0-0`:xe(a)?n==="0"?u=`>=${n}.${o}.0${s} <${n}.${+o+1}.0-0`:u=`>=${n}.${o}.0${s} <${+n+1}.0.0-0`:l?(se("replaceCaret pr",l),n==="0"?o==="0"?u=`>=${n}.${o}.${a}-${l} <${n}.${o}.${+a+1}-0`:u=`>=${n}.${o}.${a}-${l} <${n}.${+o+1}.0-0`:u=`>=${n}.${o}.${a}-${l} <${+n+1}.0.0-0`):(se("no pr"),n==="0"?o==="0"?u=`>=${n}.${o}.${a}${s} <${n}.${o}.${+a+1}-0`:u=`>=${n}.${o}.${a}${s} <${n}.${+o+1}.0-0`:u=`>=${n}.${o}.${a} <${+n+1}.0.0-0`),se("caret return",u),u})},Ic=(t,r)=>(se("replaceXRanges",t,r),t.split(/\s+/).map(e=>Oc(e,r)).join(" ")),Oc=(t,r)=>{t=t.trim();let e=r.loose?Oe[we.XRANGELOOSE]:Oe[we.XRANGE];return t.replace(e,(s,i,n,o,a,l)=>{se("xRange",t,s,i,n,o,a,l);let u=xe(n),c=u||xe(o),p=c||xe(a),f=p;return i==="="&&f&&(i=""),l=r.includePrerelease?"-0":"",u?i===">"||i==="<"?s="<0.0.0-0":s="*":i&&f?(c&&(o=0),a=0,i===">"?(i=">=",c?(n=+n+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",c?n=+n+1:o=+o+1),i==="<"&&(l="-0"),s=`${i+n}.${o}.${a}${l}`):c?s=`>=${n}.0.0${l} <${+n+1}.0.0-0`:p&&(s=`>=${n}.${o}.0${l} <${n}.${+o+1}.0-0`),se("xRange return",s),s})},Lc=(t,r)=>(se("replaceStars",t,r),t.trim().replace(Oe[we.STAR],"")),_c=(t,r)=>(se("replaceGTE0",t,r),t.trim().replace(Oe[r.includePrerelease?we.GTE0PRE:we.GTE0],"")),Ec=t=>(r,e,s,i,n,o,a,l,u,c,p,f)=>(xe(s)?e="":xe(i)?e=`>=${s}.0.0${t?"-0":""}`:xe(n)?e=`>=${s}.${i}.0${t?"-0":""}`:o?e=`>=${e}`:e=`>=${e}${t?"-0":""}`,xe(u)?l="":xe(c)?l=`<${+u+1}.0.0-0`:xe(p)?l=`<${u}.${+c+1}.0-0`:f?l=`<=${u}.${c}.${p}-${f}`:t?l=`<${u}.${c}.${+p+1}-0`:l=`<=${l}`,`${e} ${l}`.trim()),vc=(t,r,e)=>{for(let s=0;s<t.length;s++)if(!t[s].test(r))return!1;if(r.prerelease.length&&!e.includePrerelease){for(let s=0;s<t.length;s++)if(se(t[s].semver),t[s].semver!==$s.ANY&&t[s].semver.prerelease.length>0){let i=t[s].semver;if(i.major===r.major&&i.minor===r.minor&&i.patch===r.patch)return!0}return!1}return!0}});var dr=M((zg,fo)=>{var mr=Symbol("SemVer ANY"),Xs=class t{static get ANY(){return mr}constructor(r,e){if(e=ao(e),r instanceof t){if(r.loose===!!e.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),zs("comparator",r,e),this.options=e,this.loose=!!e.loose,this.parse(r),this.semver===mr?this.value="":this.value=this.operator+this.semver.version,zs("comp",this)}parse(r){let e=this.options.loose?lo[uo.COMPARATORLOOSE]:lo[uo.COMPARATOR],s=r.match(e);if(!s)throw new TypeError(`Invalid comparator: ${r}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new co(s[2],this.options.loose):this.semver=mr}toString(){return this.value}test(r){if(zs("Comparator.test",r,this.options.loose),this.semver===mr||r===mr)return!0;if(typeof r=="string")try{r=new co(r,this.options)}catch{return!1}return Hs(r,this.operator,this.semver,this.options)}intersects(r,e){if(!(r instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new po(r.value,e).test(this.value):r.operator===""?r.value===""?!0:new po(this.value,e).test(r.semver):(e=ao(e),e.includePrerelease&&(this.value==="<0.0.0-0"||r.value==="<0.0.0-0")||!e.includePrerelease&&(this.value.startsWith("<0.0.0")||r.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&r.operator.startsWith(">")||this.operator.startsWith("<")&&r.operator.startsWith("<")||this.semver.version===r.semver.version&&this.operator.includes("=")&&r.operator.includes("=")||Hs(this.semver,"<",r.semver,e)&&this.operator.startsWith(">")&&r.operator.startsWith("<")||Hs(this.semver,">",r.semver,e)&&this.operator.startsWith("<")&&r.operator.startsWith(">")))}};fo.exports=Xs;var ao=Xr(),{safeRe:lo,t:uo}=Xt(),Hs=Us(),zs=pr(),co=he(),po=Ve()});var gr=M((Xg,mo)=>{var Pc=Ve(),Vc=(t,r,e)=>{try{r=new Pc(r,e)}catch{return!1}return r.test(t)};mo.exports=Vc});var ho=M((kg,go)=>{var Tc=Ve(),Dc=(t,r)=>new Tc(t,r).set.map(e=>e.map(s=>s.value).join(" ").trim().split(" "));go.exports=Dc});var So=M((jg,yo)=>{var Nc=he(),Ac=Ve(),Mc=(t,r,e)=>{let s=null,i=null,n=null;try{n=new Ac(r,e)}catch{return null}return t.forEach(o=>{n.test(o)&&(!s||i.compare(o)===-1)&&(s=o,i=new Nc(s,e))}),s};yo.exports=Mc});var xo=M((Yg,wo)=>{var Rc=he(),bc=Ve(),Fc=(t,r,e)=>{let s=null,i=null,n=null;try{n=new bc(r,e)}catch{return null}return t.forEach(o=>{n.test(o)&&(!s||i.compare(o)===1)&&(s=o,i=new Rc(s,e))}),s};wo.exports=Fc});var Oo=M((Kg,Io)=>{var ks=he(),Wc=Ve(),Co=fr(),Bc=(t,r)=>{t=new Wc(t,r);let e=new ks("0.0.0");if(t.test(e)||(e=new ks("0.0.0-0"),t.test(e)))return e;e=null;for(let s=0;s<t.set.length;++s){let i=t.set[s],n=null;i.forEach(o=>{let a=new ks(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!n||Co(a,n))&&(n=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),n&&(!e||Co(e,n))&&(e=n)}return e&&t.test(e)?e:null};Io.exports=Bc});var _o=M((Jg,Lo)=>{var Uc=Ve(),Gc=(t,r)=>{try{return new Uc(t,r).range||"*"}catch{return null}};Lo.exports=Gc});var ts=M((Qg,Vo)=>{var qc=he(),Po=dr(),{ANY:$c}=Po,Hc=Ve(),zc=gr(),Eo=fr(),vo=Kr(),Xc=Qr(),kc=Jr(),jc=(t,r,e,s)=>{t=new qc(t,s),r=new Hc(r,s);let i,n,o,a,l;switch(e){case">":i=Eo,n=Xc,o=vo,a=">",l=">=";break;case"<":i=vo,n=kc,o=Eo,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(zc(t,r,s))return!1;for(let u=0;u<r.set.length;++u){let c=r.set[u],p=null,f=null;if(c.forEach(d=>{d.semver===$c&&(d=new Po(">=0.0.0")),p=p||d,f=f||d,i(d.semver,p.semver,s)?p=d:o(d.semver,f.semver,s)&&(f=d)}),p.operator===a||p.operator===l||(!f.operator||f.operator===a)&&n(t,f.semver))return!1;if(f.operator===l&&o(t,f.semver))return!1}return!0};Vo.exports=jc});var Do=M((Zg,To)=>{var Yc=ts(),Kc=(t,r,e)=>Yc(t,r,">",e);To.exports=Kc});var Ao=M((eh,No)=>{var Jc=ts(),Qc=(t,r,e)=>Jc(t,r,"<",e);No.exports=Qc});var bo=M((th,Ro)=>{var Mo=Ve(),Zc=(t,r,e)=>(t=new Mo(t,e),r=new Mo(r,e),t.intersects(r,e));Ro.exports=Zc});var Wo=M((rh,Fo)=>{var ep=gr(),tp=Pe();Fo.exports=(t,r,e)=>{let s=[],i=null,n=null,o=t.sort((c,p)=>tp(c,p,e));for(let c of o)ep(c,r,e)?(n=c,i||(i=c)):(n&&s.push([i,n]),n=null,i=null);i&&s.push([i,null]);let a=[];for(let[c,p]of s)c===p?a.push(c):!p&&c===o[0]?a.push("*"):p?c===o[0]?a.push(`<=${p}`):a.push(`${c} - ${p}`):a.push(`>=${c}`);let l=a.join(" || "),u=typeof r.raw=="string"?r.raw:String(r);return l.length<u.length?l:r}});var Ho=M((sh,$o)=>{var Bo=Ve(),Ys=dr(),{ANY:js}=Ys,hr=gr(),Ks=Pe(),rp=(t,r,e={})=>{if(t===r)return!0;t=new Bo(t,e),r=new Bo(r,e);let s=!1;e:for(let i of t.set){for(let n of r.set){let o=np(i,n,e);if(s=s||o!==null,o)continue e}if(s)return!1}return!0},sp=[new Ys(">=0.0.0-0")],Uo=[new Ys(">=0.0.0")],np=(t,r,e)=>{if(t===r)return!0;if(t.length===1&&t[0].semver===js){if(r.length===1&&r[0].semver===js)return!0;e.includePrerelease?t=sp:t=Uo}if(r.length===1&&r[0].semver===js){if(e.includePrerelease)return!0;r=Uo}let s=new Set,i,n;for(let d of t)d.operator===">"||d.operator===">="?i=Go(i,d,e):d.operator==="<"||d.operator==="<="?n=qo(n,d,e):s.add(d.semver);if(s.size>1)return null;let o;if(i&&n){if(o=Ks(i.semver,n.semver,e),o>0)return null;if(o===0&&(i.operator!==">="||n.operator!=="<="))return null}for(let d of s){if(i&&!hr(d,String(i),e)||n&&!hr(d,String(n),e))return null;for(let m of r)if(!hr(d,String(m),e))return!1;return!0}let a,l,u,c,p=n&&!e.includePrerelease&&n.semver.prerelease.length?n.semver:!1,f=i&&!e.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&n.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let d of r){if(c=c||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator===">"||d.operator===">="){if(a=Go(i,d,e),a===d&&a!==i)return!1}else if(i.operator===">="&&!hr(i.semver,String(d),e))return!1}if(n){if(p&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===p.major&&d.semver.minor===p.minor&&d.semver.patch===p.patch&&(p=!1),d.operator==="<"||d.operator==="<="){if(l=qo(n,d,e),l===d&&l!==n)return!1}else if(n.operator==="<="&&!hr(n.semver,String(d),e))return!1}if(!d.operator&&(n||i)&&o!==0)return!1}return!(i&&u&&!n&&o!==0||n&&c&&!i&&o!==0||f||p)},Go=(t,r,e)=>{if(!t)return r;let s=Ks(t.semver,r.semver,e);return s>0?t:s<0||r.operator===">"&&t.operator===">="?r:t},qo=(t,r,e)=>{if(!t)return r;let s=Ks(t.semver,r.semver,e);return s<0?t:s>0||r.operator==="<"&&t.operator==="<="?r:t};$o.exports=rp});var jo=M((nh,ko)=>{var Js=Xt(),zo=cr(),ip=he(),Xo=bs(),op=Nt(),ap=yi(),lp=wi(),up=Ii(),cp=_i(),pp=vi(),fp=Vi(),dp=Di(),mp=Ai(),gp=Pe(),hp=Fi(),yp=Bi(),Sp=Yr(),wp=$i(),xp=zi(),Cp=fr(),Ip=Kr(),Op=Ws(),Lp=Bs(),_p=Jr(),Ep=Qr(),vp=Us(),Pp=eo(),Vp=dr(),Tp=Ve(),Dp=gr(),Np=ho(),Ap=So(),Mp=xo(),Rp=Oo(),bp=_o(),Fp=ts(),Wp=Do(),Bp=Ao(),Up=bo(),Gp=Wo(),qp=Ho();ko.exports={parse:op,valid:ap,clean:lp,inc:up,diff:cp,major:pp,minor:fp,patch:dp,prerelease:mp,compare:gp,rcompare:hp,compareLoose:yp,compareBuild:Sp,sort:wp,rsort:xp,gt:Cp,lt:Ip,eq:Op,neq:Lp,gte:_p,lte:Ep,cmp:vp,coerce:Pp,Comparator:Vp,Range:Tp,satisfies:Dp,toComparators:Np,maxSatisfying:Ap,minSatisfying:Mp,minVersion:Rp,validRange:bp,outside:Fp,gtr:Wp,ltr:Bp,intersects:Up,simplifyRange:Gp,subset:qp,SemVer:ip,re:Js.re,src:Js.src,tokens:Js.t,SEMVER_SPEC_VERSION:zo.SEMVER_SPEC_VERSION,RELEASE_TYPES:zo.RELEASE_TYPES,compareIdentifiers:Xo.compareIdentifiers,rcompareIdentifiers:Xo.rcompareIdentifiers}});var Jo=M((oh,Xp)=>{Xp.exports={name:"systeminformation",version:"5.23.5",description:"Advanced, lightweight system and OS information library",license:"MIT",author:"Sebastian Hildebrandt <hildebrandt@plus-innovations.com> (https://plus-innovations.com)",homepage:"https://systeminformation.io",main:"./lib/index.js",bin:{systeminformation:"lib/cli.js"},types:"./lib/index.d.ts",scripts:{test:"node ./test/test.js"},files:["lib/"],keywords:["system information","sysinfo","monitor","monitoring","os","linux","osx","windows","freebsd","openbsd","netbsd","cpu","cpuload","physical cores","logical cores","processor","cores","threads","socket type","memory","file system","fsstats","diskio","block devices","netstats","network","network interfaces","network connections","network stats","iface","printer","processes","users","internet","battery","docker","docker stats","docker processes","graphics","graphic card","graphic controller","gpu","display","smart","disk layout","usb","audio","bluetooth","wifi","wifinetworks","virtual box","virtualbox","vm","backend","hardware","BIOS","chassis"],repository:{type:"git",url:"https://github.com/sebhildebrandt/systeminformation.git"},funding:{type:"Buy me a coffee",url:"https://www.buymeacoffee.com/systeminfo"},os:["darwin","linux","win32","freebsd","openbsd","netbsd","sunos","android"],engines:{node:">=8.0.0"}}});var oe=M(U=>{"use strict";var rt=require("os"),qe=require("fs"),kp=require("path"),an=require("child_process").spawn,jp=require("child_process").exec,Yt=require("child_process").execSync,ln=require("util"),Rt=process.platform,un=Rt==="linux"||Rt==="android",ta=Rt==="darwin",cn=Rt==="win32",ra=Rt==="freebsd",sa=Rt==="openbsd",na=Rt==="netbsd",en=0,At="",We="",tt=null,st=null,ia=process.env.WINDIR||"C:\\Windows",pe,jt="",Sr=[],pn=!1,Qo="$OutputEncoding = [System.Console]::OutputEncoding = [System.Console]::InputEncoding = [System.Text.Encoding]::UTF8 ; ",rn="--###START###--",Zo="--ERROR--",rs="--###ENDCMD###--",sn="--##ID##--",wr={windowsHide:!0,maxBuffer:1024*2e4,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})},oa={maxBuffer:1024*2e4,encoding:"UTF-8",stdio:["pipe","pipe","ignore"]};function Yp(t){let r=parseInt(t,10);return isNaN(r)&&(r=0),r}function Kp(t){let r=!1,e="",s="";for(let i of t)i>="0"&&i<="9"||r?(r=!0,e+=i):s+=i;return[s,e]}var nn=new String().replace,on=new String().toLowerCase,aa=new String().toString,la=new String().substr,Jp=new String().trim,Qp=new String().startsWith,ua=Math.min;function Zp(t){return t&&{}.toString.call(t)==="[object Function]"}function ef(t){let r=[],e={};for(let s=0;s<t.length;s++){let i=Object.keys(t[s]);i.sort(function(o,a){return o-a});let n="";for(let o=0;o<i.length;o++)n+=JSON.stringify(i[o]),n+=JSON.stringify(t[s][i[o]]);({}).hasOwnProperty.call(e,n)||(r.push(t[s]),e[n]=!0)}return r}function tf(t,r){return t.sort(function(e,s){let i="",n="";return r.forEach(function(o){i=i+e[o],n=n+s[o]}),i<n?-1:i>n?1:0})}function rf(){return en===0&&(en=rt.cpus().length),en}function Mt(t,r,e,s,i){e=e||":",r=r.toLowerCase(),s=s||!1,i=i||!1;let n="";return t.some(o=>{let a=o.toLowerCase().replace(/\t/g,"");if(s&&(a=a.trim()),a.startsWith(r)&&(!i||a.match(r+e)||a.match(r+" "+e))){let l=s?o.trim().split(e):o.split(e);if(l.length>=2)return l.shift(),n=l.join(e).trim(),!0}}),n}function sf(t,r){return r=r||16,t.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],r))})}function nf(t){let r="",e=0;return t.split("").forEach(s=>{s>="0"&&s<="9"?e===1&&e++:(e===0&&e++,e===1&&(r+=s))}),r}function of(t,r){r=r||"",t=t.toUpperCase();let e=0,s=0,i=nf(t),n=t.split(i);if(n.length>=2){n[2]&&(n[1]+=n[2]);let o=n[1]&&n[1].toLowerCase().indexOf("pm")>-1||n[1].toLowerCase().indexOf("p.m.")>-1||n[1].toLowerCase().indexOf("p. m.")>-1||n[1].toLowerCase().indexOf("n")>-1||n[1].toLowerCase().indexOf("ch")>-1||n[1].toLowerCase().indexOf("\xF6s")>-1||r&&n[1].toLowerCase().indexOf(r)>-1;return e=parseInt(n[0],10),s=parseInt(n[1],10),e=o&&e<12?e+12:e,("0"+e).substr(-2)+":"+("0"+s).substr(-2)}}function af(t,r){let e={date:"",time:""};r=r||{};let s=(r.dateFormat||"").toLowerCase(),i=r.pmDesignator||"",n=t.split(" ");if(n[0]){if(n[0].indexOf("/")>=0){let o=n[0].split("/");o.length===3&&(o[0].length===4?e.date=o[0]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[2]).substr(-2):o[2].length===2?(s.indexOf("/d/")>-1||s.indexOf("/dd/")>-1,e.date="20"+o[2]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[0]).substr(-2)):(t.toLowerCase().indexOf("pm")>-1||t.toLowerCase().indexOf("p.m.")>-1||t.toLowerCase().indexOf("p. m.")>-1||t.toLowerCase().indexOf("am")>-1||t.toLowerCase().indexOf("a.m.")>-1||t.toLowerCase().indexOf("a. m.")>-1||s.indexOf("/d/")>-1||s.indexOf("/dd/")>-1)&&s.indexOf("dd/")!==0?e.date=o[2]+"-"+("0"+o[0]).substr(-2)+"-"+("0"+o[1]).substr(-2):e.date=o[2]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[0]).substr(-2))}if(n[0].indexOf(".")>=0){let o=n[0].split(".");o.length===3&&(s.indexOf(".d.")>-1||s.indexOf(".dd.")>-1?e.date=o[2]+"-"+("0"+o[0]).substr(-2)+"-"+("0"+o[1]).substr(-2):e.date=o[2]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[0]).substr(-2))}if(n[0].indexOf("-")>=0){let o=n[0].split("-");o.length===3&&(e.date=o[0]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[2]).substr(-2))}}if(n[1]){n.shift();let o=n.join(" ");e.time=of(o,i)}return e}function lf(t,r){let e=r>0,s=1,i=0,n=0,o=[];for(let l=0;l<t.length;l++)s<=r?(/\s/.test(t[l])&&!e&&(n=l-1,o.push({from:i,to:n+1,cap:t.substring(i,n+1)}),i=n+2,s++),e=t[l]===" "):(!/\s/.test(t[l])&&e&&(n=l-1,i<n&&o.push({from:i,to:n,cap:t.substring(i,n)}),i=n+1,s++),e=t[l]===" ");n=5e3,o.push({from:i,to:n,cap:t.substring(i,n)});let a=o.length;for(let l=0;l<a;l++)o[l].cap.replace(/\s/g,"").length===0&&l+1<a&&(o[l].to=o[l+1].to,o[l].cap=o[l].cap+o[l+1].cap,o.splice(l+1,1),a=a-1);return o}function uf(t,r,e){for(let s=0;s<t.length;s++)if(t[s][r]===e)return s;return-1}function ca(){if(rt.type()==="Windows_NT"&&!At&&(At=ia+"\\system32\\wbem\\wmic.exe",!qe.existsSync(At)))try{let t=Yt("WHERE WMIC",wr).toString().split(`\r
`);t&&t.length?At=t[0]:At="wmic"}catch{At="wmic"}return At}function cf(t){return new Promise(r=>{process.nextTick(()=>{try{pa(ca()+" "+t).then(e=>{r(e,"")})}catch(e){r("",e)}})})}function pf(){return cn?`"${process.env.VBOX_INSTALL_PATH||process.env.VBOX_MSI_INSTALL_PATH}\\VBoxManage.exe"`:"vboxmanage"}function tn(t){let r="",e,s="";if(t.indexOf(rn)>=0){e=t.split(rn);let n=e[1].split(sn);r=n[0],n.length>1&&(t=n.slice(1).join(sn))}t.indexOf(rs)>=0&&(e=t.split(rs),s=e[0]);let i=-1;for(let n=0;n<Sr.length;n++)Sr[n].id===r&&(i=n,Sr[n].callback(s));i>=0&&Sr.splice(i,1)}function ff(){pe||(pe=an("powershell.exe",["-NoProfile","-NoLogo","-InputFormat","Text","-NoExit","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:1024*2e4,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})}),pe&&pe.pid&&(pn=!0,pe.stdout.on("data",function(t){jt=jt+t.toString("utf8"),t.indexOf(rs)>=0&&(tn(jt),jt="")}),pe.stderr.on("data",function(){tn(jt+Zo)}),pe.on("error",function(){tn(jt+Zo)}),pe.on("close",function(){pe&&pe.kill()})))}function df(){try{pe&&(pe.stdin.write("exit"+rt.EOL),pe.stdin.end(),pn=!1)}catch{pe&&pe.kill()}pe=null}function pa(t){if(pn){let r=Math.random().toString(36).substring(2,12);return new Promise(e=>{process.nextTick(()=>{function s(i){e(i)}Sr.push({id:r,cmd:t,callback:s,start:new Date});try{pe&&pe.pid&&pe.stdin.write(Qo+"echo "+rn+r+sn+"; "+rt.EOL+t+rt.EOL+"echo "+rs+rt.EOL)}catch{e("")}})})}else{let r="";return new Promise(e=>{process.nextTick(()=>{try{let s=an("powershell.exe",["-NoProfile","-NoLogo","-InputFormat","Text","-NoExit","-ExecutionPolicy","Unrestricted","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:2048e4,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})});if(s&&!s.pid&&s.on("error",function(){e(r)}),s&&s.pid){s.stdout.on("data",function(i){r=r+i.toString("utf8")}),s.stderr.on("data",function(){s.kill(),e(r)}),s.on("close",function(){s.kill(),e(r)}),s.on("error",function(){s.kill(),e(r)});try{s.stdin.write(Qo+t+rt.EOL),s.stdin.write("exit"+rt.EOL),s.stdin.end()}catch{s.kill(),e(r)}}else e(r)}catch{e(r)}})})}}function mf(t,r,e){let s="";return e=e||{},new Promise(i=>{process.nextTick(()=>{try{let n=an(t,r,e);n&&!n.pid&&n.on("error",function(){i(s)}),n&&n.pid?(n.stdout.on("data",function(o){s+=o.toString()}),n.on("close",function(){n.kill(),i(s)}),n.on("error",function(){n.kill(),i(s)})):i(s)}catch{i(s)}})})}function gf(){if(cn){if(!We)try{let e=Yt("chcp",wr).toString().split(`\r
`)[0].split(":");We=e.length>1?e[1].replace(".","").trim():""}catch{We="437"}return We}if(un||ta||ra||sa||na){if(!We)try{let e=Yt("echo $LANG",ln.execOptsLinux).toString().split(`\r
`)[0].split(".");We=e.length>1?e[1].trim():"",We||(We="UTF-8")}catch{We="UTF-8"}return We}}function hf(){if(tt!==null)return tt;if(tt=!1,cn)try{let t=Yt("WHERE smartctl 2>nul",wr).toString().split(`\r
`);t&&t.length?tt=t[0].indexOf(":\\")>=0:tt=!1}catch{tt=!1}if(un||ta||ra||sa||na)try{tt=Yt("which smartctl 2>/dev/null",oa).toString().split(`\r
`).length>0}catch{ln.noop()}return tt}function yf(){let t=["BCM2708","BCM2709","BCM2710","BCM2711","BCM2712","BCM2835","BCM2836","BCM2837","BCM2837B0"],r=[];if(st!==null)r=st;else try{r=qe.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),st=r}catch{return!1}let e=Mt(r,"hardware");return e&&t.indexOf(e)>-1}function Sf(){let t=[];try{t=qe.readFileSync("/etc/os-release",{encoding:"utf8"}).toString().split(`
`)}catch{return!1}let r=Mt(t,"id","=");return r&&r.indexOf("raspbian")>-1}function wf(t,r,e){e||(e=r,r=wr);let s="chcp 65001 > nul && cmd /C "+t+" && chcp "+We+" > nul";jp(s,r,function(i,n){e(i,n)})}function xf(){let t=qe.existsSync("/Library/Developer/CommandLineTools/usr/bin/"),r=qe.existsSync("/Applications/Xcode.app/Contents/Developer/Tools"),e=qe.existsSync("/Library/Developer/Xcode/");return t||e||r}function Cf(){let t=process.hrtime();return!Array.isArray(t)||t.length!==2?0:+t[0]*1e9+ +t[1]}function If(t,r){r=r||"";let e=[];return t.forEach(s=>{s.startsWith(r)&&e.indexOf(s)===-1&&e.push(s)}),e.length}function Of(t,r){r=r||"";let e=[];return t.forEach(s=>{s.startsWith(r)&&e.push(s)}),e.length}function Lf(t,r){typeof r>"u"&&(r=!1);let e=t||"",s="",i=ua(e.length,2e3);for(let n=0;n<=i;n++)e[n]===void 0||e[n]===">"||e[n]==="<"||e[n]==="*"||e[n]==="?"||e[n]==="["||e[n]==="]"||e[n]==="|"||e[n]==="\u02DA"||e[n]==="$"||e[n]===";"||e[n]==="&"||e[n]==="]"||e[n]==="#"||e[n]==="\\"||e[n]==="	"||e[n]===`
`||e[n]==="\r"||e[n]==="'"||e[n]==="`"||e[n]==='"'||e[n].length>1||r&&e[n]==="("||r&&e[n]===")"||r&&e[n]==="@"||r&&e[n]===" "||r&&e[n]=="{"||r&&e[n]==";"||r&&e[n]=="}"||(s=s+e[n]);return s}function _f(){let t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=!0,e="";e.__proto__.replace=nn,e.__proto__.toLowerCase=on,e.__proto__.toString=aa,e.__proto__.substr=la,r=r||t.length!==62;let s=Date.now();if(typeof s=="number"&&s>16e11){let i=s%100+15;for(let u=0;u<i;u++){let c=Math.random()*61.99999999+1,p=parseInt(Math.floor(c).toString(),10),f=parseInt(c.toString().split(".")[0],10),d=Math.random()*61.99999999+1,m=parseInt(Math.floor(d).toString(),10),h=parseInt(d.toString().split(".")[0],10);r=r&&c!==d,r=r&&p===f&&m===h,e+=t[p-1]}r=r&&e.length===i;let n=Math.random()*i*.9999999999,o=e.substr(0,n)+" "+e.substr(n,2e3);o.__proto__.replace=nn;let a=o.replace(/ /g,"");r=r&&e===a,n=Math.random()*i*.9999999999,o=e.substr(0,n)+"{"+e.substr(n,2e3),a=o.replace(/{/g,""),r=r&&e===a,n=Math.random()*i*.9999999999,o=e.substr(0,n)+"*"+e.substr(n,2e3),a=o.replace(/\*/g,""),r=r&&e===a,n=Math.random()*i*.9999999999,o=e.substr(0,n)+"$"+e.substr(n,2e3),a=o.replace(/\$/g,""),r=r&&e===a;let l=e.toLowerCase();r=r&&l.length===i&&l[i-1]&&!l[i];for(let u=0;u<i;u++){let c=e[u];c.__proto__.toLowerCase=on;let p=l?l[u]:"",f=c.toLowerCase();r=r&&f[0]===p&&f[0]&&!f[1]}}return!r}function Ef(t){return("00000000"+parseInt(t,16).toString(2)).substr(-8)}function vf(t){let r=qe.lstatSync,e=qe.readdirSync,s=kp.join;function i(u){return r(u).isDirectory()}function n(u){return r(u).isFile()}function o(u){return e(u).map(function(c){return s(u,c)}).filter(i)}function a(u){return e(u).map(function(c){return s(u,c)}).filter(n)}function l(u){try{return o(u).map(function(f){return l(f)}).reduce(function(f,d){return f.concat(d)},[]).concat(a(u))}catch{return[]}}return qe.existsSync(t)?l(t):[]}function fa(t){st===null&&(st=t);let r={"0002":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0003":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0004":{type:"B",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0005":{type:"B",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"0006":{type:"B",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0007":{type:"A",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0008":{type:"A",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0009":{type:"A",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"000d":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"000e":{type:"B",revision:"2.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"000f":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"0010":{type:"B+",revision:"1.2",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0011":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0012":{type:"A+",revision:"1.1",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0013":{type:"B+",revision:"1.2",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0014":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0015":{type:"A+",revision:"1.1",memory:256,manufacturer:"512MB	Embest",processor:"BCM2835"}},e=["BCM2835","BCM2836","BCM2837","BCM2711","BCM2712"],s=["Sony UK","Egoman","Embest","Sony Japan","Embest","Stadium"],i={"00":"A","01":"B","02":"A+","03":"B+","04":"2B","05":"Alpha (early prototype)","06":"CM1","08":"3B","09":"Zero","0a":"CM3","0c":"Zero W","0d":"3B+","0e":"3A+","0f":"Internal use only",10:"CM3+",11:"4B",12:"Zero 2 W",13:"400",14:"CM4",15:"CM4S",17:"5"},n=Mt(t,"revision",":",!0),o=Mt(t,"model:",":",!0),a=Mt(t,"serial",":",!0),l={};if({}.hasOwnProperty.call(r,n))l={model:o,serial:a,revisionCode:n,memory:r[n].memory,manufacturer:r[n].manufacturer,processor:r[n].processor,type:r[n].type,revision:r[n].revision};else{let u=("00000000"+Mt(t,"revision",":",!0).toLowerCase()).substr(-8),c=parseInt(Ef(u.substr(2,1)).substr(5,3),2)||0,p=s[parseInt(u.substr(3,1),10)],f=e[parseInt(u.substr(4,1),10)],d=u.substr(5,2);l={model:o,serial:a,revisionCode:n,memory:256*Math.pow(2,c),manufacturer:p,processor:f,type:{}.hasOwnProperty.call(i,d)?i[d]:"",revision:"1."+u.substr(7,1)}}return l}function Pf(){let t=null;if(st!==null)t=st;else try{t=qe.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),st=t}catch{return!1}let r=fa(t);return r.type==="4B"||r.type==="CM4"||r.type==="CM4S"||r.type==="400"?"VideoCore VI":r.type==="5"?"VideoCore VII":"VideoCore IV"}function Vf(t){let r=t.map(function(i){return new Promise(function(n){let o=new Array(2);i.then(function(a){o[0]=a}).catch(function(a){o[1]=a}).then(function(){n(o)})})}),e=[],s=[];return Promise.all(r).then(function(i){return i.forEach(function(n){n[1]?(e.push(n[1]),s.push(null)):(e.push(null),s.push(n[0]))}),{errors:e,results:s}})}function Tf(t){return function(){let r=Array.prototype.slice.call(arguments);return new Promise(function(e,s){r.push(function(i,n){i?s(i):e(n)}),t.apply(null,r)})}}function Df(t){return function(){let r=Array.prototype.slice.call(arguments);return new Promise(function(e){r.push(function(s,i){e(i)}),t.apply(null,r)})}}function Nf(){let t="";if(un)try{t=Yt("uname -v",ln.execOptsLinux).toString()}catch{t=""}return t}function Af(t){let r=["array","dict","key","string","integer","date","real","data","boolean","arrayEmpty"],s=t.indexOf("<plist version"),i=t.length;for(;t[s]!==">"&&s<i;)s++;let n=0,o=!1,a=!1,l=!1,u=[{tagStart:"",tagEnd:"",tagContent:"",key:"",data:null}],c="",p=t[s];for(;s<i;)c=p,s+1<i&&(p=t[s+1]),c==="<"?(a=!1,p==="/"?l=!0:u[n].tagStart?(u[n].tagContent="",u[n].data||(u[n].data=u[n].tagStart==="array"?[]:{}),n++,u.push({tagStart:"",tagEnd:"",tagContent:"",key:null,data:null}),o=!0,a=!1):o||(o=!0)):c===">"?(u[n].tagStart==="true/"&&(o=!1,l=!0,u[n].tagStart="",u[n].tagEnd="/boolean",u[n].data=!0),u[n].tagStart==="false/"&&(o=!1,l=!0,u[n].tagStart="",u[n].tagEnd="/boolean",u[n].data=!1),u[n].tagStart==="array/"&&(o=!1,l=!0,u[n].tagStart="",u[n].tagEnd="/arrayEmpty",u[n].data=[]),a&&(a=!1),o&&(o=!1,a=!0,u[n].tagStart==="array"&&(u[n].data=[]),u[n].tagStart==="dict"&&(u[n].data={})),l&&(l=!1,u[n].tagEnd&&r.indexOf(u[n].tagEnd.substr(1))>=0&&(u[n].tagEnd==="/dict"||u[n].tagEnd==="/array"?(n>1&&u[n-2].tagStart==="array"&&u[n-2].data.push(u[n-1].data),n>1&&u[n-2].tagStart==="dict"&&(u[n-2].data[u[n-1].key]=u[n-1].data),n--,u.pop(),u[n].tagContent="",u[n].tagStart="",u[n].tagEnd=""):(u[n].tagEnd==="/key"&&u[n].tagContent?u[n].key=u[n].tagContent:(u[n].tagEnd==="/real"&&u[n].tagContent&&(u[n].data=parseFloat(u[n].tagContent)||0),u[n].tagEnd==="/integer"&&u[n].tagContent&&(u[n].data=parseInt(u[n].tagContent)||0),u[n].tagEnd==="/string"&&u[n].tagContent&&(u[n].data=u[n].tagContent||""),u[n].tagEnd==="/boolean"&&(u[n].data=u[n].tagContent||!1),u[n].tagEnd==="/arrayEmpty"&&(u[n].data=u[n].tagContent||[]),n>0&&u[n-1].tagStart==="array"&&u[n-1].data.push(u[n].data),n>0&&u[n-1].tagStart==="dict"&&(u[n-1].data[u[n].key]=u[n].data)),u[n].tagContent="",u[n].tagStart="",u[n].tagEnd="")),u[n].tagEnd="",o=!1,a=!1)):(o&&(u[n].tagStart+=c),l&&(u[n].tagEnd+=c),a&&(u[n].tagContent+=c)),s++;return u[0].data}function ea(t){return typeof t=="string"&&!isNaN(t)&&!isNaN(parseFloat(t))}function Mf(t){let r=t.split(`
`);for(let s=0;s<r.length;s++){if(r[s].indexOf(" = ")>=0){let i=r[s].split(" = ");if(i[0]=i[0].trim(),i[0].startsWith('"')||(i[0]='"'+i[0]+'"'),i[1]=i[1].trim(),i[1].indexOf('"')===-1&&i[1].endsWith(";")){let n=i[1].substring(0,i[1].length-1);ea(n)||(i[1]=`"${n}";`)}if(i[1].indexOf('"')>=0&&i[1].endsWith(";")){let n=i[1].substring(0,i[1].length-1).replace(/"/g,"");ea(n)&&(i[1]=`${n};`)}r[s]=i.join(" : ")}r[s]=r[s].replace(/\(/g,"[").replace(/\)/g,"]").replace(/;/g,",").trim(),r[s].startsWith("}")&&r[s-1]&&r[s-1].endsWith(",")&&(r[s-1]=r[s-1].substring(0,r[s-1].length-1))}t=r.join("");let e={};try{e=JSON.parse(t)}catch{}return e}function Rf(t,r){let e=0,s=t.split("."),i=r.split(".");return s[0]<i[0]?e=1:s[0]>i[0]?e=-1:s[0]===i[0]&&s.length>=2&&i.length>=2&&(s[1]<i[1]?e=1:s[1]>i[1]?e=-1:s[1]===i[1]&&(s.length>=3&&i.length>=3?s[2]<i[2]?e=1:s[2]>i[2]&&(e=-1):i.length>=3&&(e=1))),e}function bf(){}U.toInt=Yp;U.splitByNumber=Kp;U.execOptsWin=wr;U.execOptsLinux=oa;U.getCodepage=gf;U.execWin=wf;U.isFunction=Zp;U.unique=ef;U.sortByKey=tf;U.cores=rf;U.getValue=Mt;U.decodeEscapeSequence=sf;U.parseDateTime=af;U.parseHead=lf;U.findObjectByKey=uf;U.getWmic=ca;U.wmic=cf;U.darwinXcodeExists=xf;U.getVboxmanage=pf;U.powerShell=pa;U.powerShellStart=ff;U.powerShellRelease=df;U.execSafe=mf;U.nanoSeconds=Cf;U.countUniqueLines=If;U.countLines=Of;U.noop=bf;U.isRaspberry=yf;U.isRaspbian=Sf;U.sanitizeShellString=Lf;U.isPrototypePolluted=_f;U.decodePiCpuinfo=fa;U.getRpiGpu=Pf;U.promiseAll=Vf;U.promisify=Tf;U.promisifySave=Df;U.smartMonToolsInstalled=hf;U.linuxVersion=Nf;U.plistParser=Af;U.plistReader=Mf;U.stringReplace=nn;U.stringToLower=on;U.stringToString=aa;U.stringSubstr=la;U.stringTrim=Jp;U.stringStartWith=Qp;U.mathMin=ua;U.WINDIR=ia;U.getFilesInPath=vf;U.semverCompare=Rf});var da=M(Or=>{"use strict";var ns=require("fs"),bt=require("os"),I=oe(),Jt=require("child_process").exec,Kt=require("child_process").execSync,ss=I.promisify(require("child_process").exec),nt=process.platform,is=nt==="linux"||nt==="android",os=nt==="darwin",as=nt==="win32",xr=nt==="freebsd",Cr=nt==="openbsd",Ir=nt==="netbsd",ls=nt==="sunos";function Ff(t){return new Promise(r=>{process.nextTick(()=>{let e={manufacturer:"",model:"Computer",version:"",serial:"-",uuid:"-",sku:"-",virtual:!1};if((is||xr||Cr||Ir)&&Jt("export LC_ALL=C; dmidecode -t system 2>/dev/null; unset LC_ALL",function(s,i){let n=i.toString().split(`
`);e.manufacturer=I.getValue(n,"manufacturer"),e.model=I.getValue(n,"product name"),e.version=I.getValue(n,"version"),e.serial=I.getValue(n,"serial number"),e.uuid=I.getValue(n,"uuid").toLowerCase(),e.sku=I.getValue(n,"sku number");let o=`echo -n "product_name: "; cat /sys/devices/virtual/dmi/id/product_name 2>/dev/null; echo;
            echo -n "product_serial: "; cat /sys/devices/virtual/dmi/id/product_serial 2>/dev/null; echo;
            echo -n "product_uuid: "; cat /sys/devices/virtual/dmi/id/product_uuid 2>/dev/null; echo;
            echo -n "product_version: "; cat /sys/devices/virtual/dmi/id/product_version 2>/dev/null; echo;
            echo -n "sys_vendor: "; cat /sys/devices/virtual/dmi/id/sys_vendor 2>/dev/null; echo;`;try{n=Kt(o,I.execOptsLinux).toString().split(`
`),e.manufacturer=e.manufacturer===""?I.getValue(n,"sys_vendor"):e.manufacturer,e.model=e.model===""?I.getValue(n,"product_name"):e.model,e.version=e.version===""?I.getValue(n,"product_version"):e.version,e.serial=e.serial===""?I.getValue(n,"product_serial"):e.serial,e.uuid=e.uuid===""?I.getValue(n,"product_uuid").toLowerCase():e.uuid}catch{I.noop()}if((!e.serial||e.serial.toLowerCase().indexOf("o.e.m.")!==-1)&&(e.serial="-"),(!e.manufacturer||e.manufacturer.toLowerCase().indexOf("o.e.m.")!==-1)&&(e.manufacturer=""),(!e.model||e.model.toLowerCase().indexOf("o.e.m.")!==-1)&&(e.model="Computer"),(!e.version||e.version.toLowerCase().indexOf("o.e.m.")!==-1)&&(e.version=""),(!e.sku||e.sku.toLowerCase().indexOf("o.e.m.")!==-1)&&(e.sku="-"),e.model.toLowerCase()==="virtualbox"||e.model.toLowerCase()==="kvm"||e.model.toLowerCase()==="virtual machine"||e.model.toLowerCase()==="bochs"||e.model.toLowerCase().startsWith("vmware")||e.model.toLowerCase().startsWith("droplet"))switch(e.virtual=!0,e.model.toLowerCase()){case"virtualbox":e.virtualHost="VirtualBox";break;case"vmware":e.virtualHost="VMware";break;case"kvm":e.virtualHost="KVM";break;case"bochs":e.virtualHost="bochs";break}if(e.manufacturer.toLowerCase().startsWith("vmware")||e.manufacturer.toLowerCase()==="xen")switch(e.virtual=!0,e.manufacturer.toLowerCase()){case"vmware":e.virtualHost="VMware";break;case"xen":e.virtualHost="Xen";break}if(!e.virtual)try{let a=Kt("ls -1 /dev/disk/by-id/ 2>/dev/null",I.execOptsLinux).toString();a.indexOf("_QEMU_")>=0&&(e.virtual=!0,e.virtualHost="QEMU"),a.indexOf("_VBOX_")>=0&&(e.virtual=!0,e.virtualHost="VirtualBox")}catch{I.noop()}if(!e.virtual&&(bt.release().toLowerCase().indexOf("microsoft")>=0||bt.release().toLowerCase().endsWith("wsl2"))){let a=parseFloat(bt.release().toLowerCase());e.virtual=!0,e.manufacturer="Microsoft",e.model="WSL",e.version=a<4.19?"1":"2"}if((xr||Cr||Ir)&&!e.virtualHost)try{let l=Kt("dmidecode -t 4",I.execOptsLinux).toString().split(`
`);switch(I.getValue(l,"manufacturer",":",!0).toLowerCase()){case"virtualbox":e.virtualHost="VirtualBox";break;case"vmware":e.virtualHost="VMware";break;case"kvm":e.virtualHost="KVM";break;case"bochs":e.virtualHost="bochs";break}}catch{I.noop()}(ns.existsSync("/.dockerenv")||ns.existsSync("/.dockerinit"))&&(e.model="Docker Container");try{let a=Kt('dmesg 2>/dev/null | grep -iE "virtual|hypervisor" | grep -iE "vmware|qemu|kvm|xen" | grep -viE "Nested Virtualization|/virtual/"');a.toString().split(`
`).length>0&&(e.model==="Computer"&&(e.model="Virtual machine"),e.virtual=!0,a.toString().toLowerCase().indexOf("vmware")>=0&&!e.virtualHost&&(e.virtualHost="VMware"),a.toString().toLowerCase().indexOf("qemu")>=0&&!e.virtualHost&&(e.virtualHost="QEMU"),a.toString().toLowerCase().indexOf("xen")>=0&&!e.virtualHost&&(e.virtualHost="Xen"),a.toString().toLowerCase().indexOf("kvm")>=0&&!e.virtualHost&&(e.virtualHost="KVM"))}catch{I.noop()}e.manufacturer===""&&e.model==="Computer"&&e.version===""?ns.readFile("/proc/cpuinfo",function(a,l){if(!a){let u=l.toString().split(`
`);e.model=I.getValue(u,"hardware",":",!0).toUpperCase(),e.version=I.getValue(u,"revision",":",!0).toLowerCase(),e.serial=I.getValue(u,"serial",":",!0);let c=I.getValue(u,"model:",":",!0);if((e.model==="BCM2835"||e.model==="BCM2708"||e.model==="BCM2709"||e.model==="BCM2710"||e.model==="BCM2711"||e.model==="BCM2836"||e.model==="BCM2837")&&c.toLowerCase().indexOf("raspberry")>=0){let p=I.decodePiCpuinfo(u);e.model=p.model,e.version=p.revisionCode,e.manufacturer="Raspberry Pi Foundation",e.raspberry={manufacturer:p.manufacturer,processor:p.processor,type:p.type,revision:p.revision}}}t&&t(e),r(e)}):(t&&t(e),r(e))}),os&&Jt("ioreg -c IOPlatformExpertDevice -d 2",function(s,i){if(!s){let n=i.toString().replace(/[<>"]/g,"").split(`
`),o=I.splitByNumber(I.getValue(n,"model","=",!0)),a=I.getValue(n,"version","=",!0);e.manufacturer=I.getValue(n,"manufacturer","=",!0),e.model=a?I.getValue(n,"model","=",!0):o[0],e.version=a||o[1],e.serial=I.getValue(n,"ioplatformserialnumber","=",!0),e.uuid=I.getValue(n,"ioplatformuuid","=",!0).toLowerCase(),e.sku=I.getValue(n,"board-id","=",!0)||I.getValue(n,"target-sub-type","=",!0)}t&&t(e),r(e)}),ls&&(t&&t(e),r(e)),as)try{I.powerShell("Get-CimInstance Win32_ComputerSystemProduct | select Name,Vendor,Version,IdentifyingNumber,UUID | fl").then((s,i)=>{if(i)t&&t(e),r(e);else{let n=s.split(`\r
`);e.manufacturer=I.getValue(n,"vendor",":"),e.model=I.getValue(n,"name",":"),e.version=I.getValue(n,"version",":"),e.serial=I.getValue(n,"identifyingnumber",":"),e.uuid=I.getValue(n,"uuid",":").toLowerCase();let o=e.model.toLowerCase();(o==="virtualbox"||o==="kvm"||o==="virtual machine"||o==="bochs"||o.startsWith("vmware")||o.startsWith("qemu")||o.startsWith("parallels"))&&(e.virtual=!0,o.startsWith("virtualbox")&&(e.virtualHost="VirtualBox"),o.startsWith("vmware")&&(e.virtualHost="VMware"),o.startsWith("kvm")&&(e.virtualHost="KVM"),o.startsWith("bochs")&&(e.virtualHost="bochs"),o.startsWith("qemu")&&(e.virtualHost="KVM"),o.startsWith("parallels")&&(e.virtualHost="Parallels"));let a=e.manufacturer.toLowerCase();(a.startsWith("vmware")||a.startsWith("qemu")||a==="xen"||a.startsWith("parallels"))&&(e.virtual=!0,a.startsWith("vmware")&&(e.virtualHost="VMware"),a.startsWith("xen")&&(e.virtualHost="Xen"),a.startsWith("qemu")&&(e.virtualHost="KVM"),a.startsWith("parallels")&&(e.virtualHost="Parallels")),I.powerShell('Get-CimInstance MS_Systeminformation -Namespace "root/wmi" | select systemsku | fl ').then((l,u)=>{if(!u){let c=l.split(`\r
`);e.sku=I.getValue(c,"systemsku",":")}e.virtual?(t&&t(e),r(e)):I.powerShell("Get-CimInstance Win32_bios | select Version, SerialNumber, SMBIOSBIOSVersion").then((c,p)=>{if(p)t&&t(e),r(e);else{let f=c.toString();(f.indexOf("VRTUAL")>=0||f.indexOf("A M I ")>=0||f.indexOf("VirtualBox")>=0||f.indexOf("VMWare")>=0||f.indexOf("Xen")>=0||f.indexOf("Parallels")>=0)&&(e.virtual=!0,f.indexOf("VirtualBox")>=0&&!e.virtualHost&&(e.virtualHost="VirtualBox"),f.indexOf("VMware")>=0&&!e.virtualHost&&(e.virtualHost="VMware"),f.indexOf("Xen")>=0&&!e.virtualHost&&(e.virtualHost="Xen"),f.indexOf("VRTUAL")>=0&&!e.virtualHost&&(e.virtualHost="Hyper-V"),f.indexOf("A M I")>=0&&!e.virtualHost&&(e.virtualHost="Virtual PC"),f.indexOf("Parallels")>=0&&!e.virtualHost&&(e.virtualHost="Parallels")),t&&t(e),r(e)}})})}})}catch{t&&t(e),r(e)}})})}Or.system=Ff;function ee(t){let r=t.toLowerCase();return r.indexOf("o.e.m.")===-1&&r.indexOf("default string")===-1&&r!=="default"&&t||""}function Wf(t){return new Promise(r=>{process.nextTick(()=>{let e={vendor:"",version:"",releaseDate:"",revision:""},s="";if((is||xr||Cr||Ir)&&(process.arch==="arm"?s="cat /proc/cpuinfo | grep Serial":s="export LC_ALL=C; dmidecode -t bios 2>/dev/null; unset LC_ALL",Jt(s,function(i,n){let o=n.toString().split(`
`);e.vendor=I.getValue(o,"Vendor"),e.version=I.getValue(o,"Version");let a=I.getValue(o,"Release Date");e.releaseDate=I.parseDateTime(a).date,e.revision=I.getValue(o,"BIOS Revision"),e.serial=I.getValue(o,"SerialNumber");let l=I.getValue(o,"Currently Installed Language").split("|")[0];if(l&&(e.language=l),o.length&&n.toString().indexOf("Characteristics:")>=0){let c=[];o.forEach(p=>{if(p.indexOf(" is supported")>=0){let f=p.split(" is supported")[0].trim();c.push(f)}}),e.features=c}let u=`echo -n "bios_date: "; cat /sys/devices/virtual/dmi/id/bios_date 2>/dev/null; echo;
            echo -n "bios_vendor: "; cat /sys/devices/virtual/dmi/id/bios_vendor 2>/dev/null; echo;
            echo -n "bios_version: "; cat /sys/devices/virtual/dmi/id/bios_version 2>/dev/null; echo;`;try{o=Kt(u,I.execOptsLinux).toString().split(`
`),e.vendor=e.vendor?e.vendor:I.getValue(o,"bios_vendor"),e.version=e.version?e.version:I.getValue(o,"bios_version"),a=I.getValue(o,"bios_date"),e.releaseDate=e.releaseDate?e.releaseDate:I.parseDateTime(a).date}catch{I.noop()}t&&t(e),r(e)})),os&&(e.vendor="Apple Inc.",Jt("system_profiler SPHardwareDataType -json",function(i,n){try{let o=JSON.parse(n.toString());if(o&&o.SPHardwareDataType&&o.SPHardwareDataType.length){let a=o.SPHardwareDataType[0].boot_rom_version;a=a?a.split("(")[0].trim():null,e.version=a}}catch{I.noop()}t&&t(e),r(e)})),ls&&(e.vendor="Sun Microsystems",t&&t(e),r(e)),as)try{I.powerShell('Get-CimInstance Win32_bios | select Description,Version,Manufacturer,@{n="ReleaseDate";e={$_.ReleaseDate.ToString("yyyy-MM-dd")}},BuildNumber,SerialNumber,SMBIOSBIOSVersion | fl').then((i,n)=>{if(!n){let o=i.toString().split(`\r
`),a=I.getValue(o,"description",":"),l=I.getValue(o,"SMBIOSBIOSVersion",":");a.indexOf(" Version ")!==-1?(e.vendor=a.split(" Version ")[0].trim(),e.version=a.split(" Version ")[1].trim()):a.indexOf(" Ver: ")!==-1?(e.vendor=I.getValue(o,"manufacturer",":"),e.version=a.split(" Ver: ")[1].trim()):(e.vendor=I.getValue(o,"manufacturer",":"),e.version=l||I.getValue(o,"version",":")),e.releaseDate=I.getValue(o,"releasedate",":"),e.revision=I.getValue(o,"buildnumber",":"),e.serial=ee(I.getValue(o,"serialnumber",":"))}t&&t(e),r(e)})}catch{t&&t(e),r(e)}})})}Or.bios=Wf;function Bf(t){return new Promise(r=>{process.nextTick(()=>{let e={manufacturer:"",model:"",version:"",serial:"-",assetTag:"-",memMax:null,memSlots:null},s="";if(is||xr||Cr||Ir){process.arch==="arm"?s="cat /proc/cpuinfo | grep Serial":s="export LC_ALL=C; dmidecode -t 2 2>/dev/null; unset LC_ALL";let i=[];i.push(ss(s)),i.push(ss("export LC_ALL=C; dmidecode -t memory 2>/dev/null")),I.promiseAll(i).then(n=>{let o=n.results[0]?n.results[0].toString().split(`
`):[""];e.manufacturer=ee(I.getValue(o,"Manufacturer")),e.model=ee(I.getValue(o,"Product Name")),e.version=ee(I.getValue(o,"Version")),e.serial=ee(I.getValue(o,"Serial Number")),e.assetTag=ee(I.getValue(o,"Asset Tag"));let a=`echo -n "board_asset_tag: "; cat /sys/devices/virtual/dmi/id/board_asset_tag 2>/dev/null; echo;
            echo -n "board_name: "; cat /sys/devices/virtual/dmi/id/board_name 2>/dev/null; echo;
            echo -n "board_serial: "; cat /sys/devices/virtual/dmi/id/board_serial 2>/dev/null; echo;
            echo -n "board_vendor: "; cat /sys/devices/virtual/dmi/id/board_vendor 2>/dev/null; echo;
            echo -n "board_version: "; cat /sys/devices/virtual/dmi/id/board_version 2>/dev/null; echo;`;try{o=Kt(a,I.execOptsLinux).toString().split(`
`),e.manufacturer=ee(e.manufacturer?e.manufacturer:I.getValue(o,"board_vendor")),e.model=ee(e.model?e.model:I.getValue(o,"board_name")),e.version=ee(e.version?e.version:I.getValue(o,"board_version")),e.serial=ee(e.serial?e.serial:I.getValue(o,"board_serial")),e.assetTag=ee(e.assetTag?e.assetTag:I.getValue(o,"board_asset_tag"))}catch{I.noop()}o=n.results[1]?n.results[1].toString().split(`
`):[""],e.memMax=I.toInt(I.getValue(o,"Maximum Capacity"))*1024*1024*1024||null,e.memSlots=I.toInt(I.getValue(o,"Number Of Devices"))||null;let l="";try{l=ns.readFileSync("/proc/cpuinfo").toString().split(`
`)}catch{I.noop()}if(l&&I.getValue(l,"hardware").startsWith("BCM")){let c=I.decodePiCpuinfo(l);e.manufacturer=c.manufacturer,e.model="Raspberry Pi",e.serial=c.serial,e.version=c.type+" - "+c.revision,e.memMax=bt.totalmem(),e.memSlots=0}t&&t(e),r(e)})}if(os){let i=[];i.push(ss("ioreg -c IOPlatformExpertDevice -d 2")),i.push(ss("system_profiler SPMemoryDataType")),I.promiseAll(i).then(n=>{let o=n.results[0]?n.results[0].toString().replace(/[<>"]/g,"").split(`
`):[""];e.manufacturer=I.getValue(o,"manufacturer","=",!0),e.model=I.getValue(o,"model","=",!0),e.version=I.getValue(o,"version","=",!0),e.serial=I.getValue(o,"ioplatformserialnumber","=",!0),e.assetTag=I.getValue(o,"board-id","=",!0);let a=n.results[1]?n.results[1].toString().split("        BANK "):[""];a.length===1&&(a=n.results[1]?n.results[1].toString().split("        DIMM"):[""]),a.shift(),e.memSlots=a.length,bt.arch()==="arm64"&&(e.memSlots=0,e.memMax=bt.totalmem()),t&&t(e),r(e)})}if(ls&&(t&&t(e),r(e)),as)try{let i=[],n=parseInt(bt.release())>=10,o=n?"MaxCapacityEx":"MaxCapacity";i.push(I.powerShell("Get-CimInstance Win32_baseboard | select Model,Manufacturer,Product,Version,SerialNumber,PartNumber,SKU | fl")),i.push(I.powerShell(`Get-CimInstance Win32_physicalmemoryarray | select ${o}, MemoryDevices | fl`)),I.promiseAll(i).then(a=>{let l=a.results[0]?a.results[0].toString().split(`\r
`):[""];e.manufacturer=ee(I.getValue(l,"manufacturer",":")),e.model=ee(I.getValue(l,"model",":")),e.model||(e.model=ee(I.getValue(l,"product",":"))),e.version=ee(I.getValue(l,"version",":")),e.serial=ee(I.getValue(l,"serialnumber",":")),e.assetTag=ee(I.getValue(l,"partnumber",":")),e.assetTag||(e.assetTag=ee(I.getValue(l,"sku",":"))),l=a.results[1]?a.results[1].toString().split(`\r
`):[""],e.memMax=I.toInt(I.getValue(l,o,":"))*(n?1024:1)||null,e.memSlots=I.toInt(I.getValue(l,"MemoryDevices",":"))||null,t&&t(e),r(e)})}catch{t&&t(e),r(e)}})})}Or.baseboard=Bf;function Uf(t){return t=t.toLowerCase(),t.startsWith("macbookair")?"Notebook":t.startsWith("macbookpro")?"Laptop":t.startsWith("macbook")?"Notebook":t.startsWith("macmini")||t.startsWith("imac")||t.startsWith("macstudio")?"Desktop":t.startsWith("macpro")?"Tower":"Other"}function Gf(t){let r=["Other","Unknown","Desktop","Low Profile Desktop","Pizza Box","Mini Tower","Tower","Portable","Laptop","Notebook","Hand Held","Docking Station","All in One","Sub Notebook","Space-Saving","Lunch Box","Main System Chassis","Expansion Chassis","SubChassis","Bus Expansion Chassis","Peripheral Chassis","Storage Chassis","Rack Mount Chassis","Sealed-Case PC","Multi-System Chassis","Compact PCI","Advanced TCA","Blade","Blade Enclosure","Tablet","Convertible","Detachable","IoT Gateway ","Embedded PC","Mini PC","Stick PC"];return new Promise(e=>{process.nextTick(()=>{let s={manufacturer:"",model:"",type:"",version:"",serial:"-",assetTag:"-",sku:""};if((is||xr||Cr||Ir)&&Jt(`echo -n "chassis_asset_tag: "; cat /sys/devices/virtual/dmi/id/chassis_asset_tag 2>/dev/null; echo;
            echo -n "chassis_serial: "; cat /sys/devices/virtual/dmi/id/chassis_serial 2>/dev/null; echo;
            echo -n "chassis_type: "; cat /sys/devices/virtual/dmi/id/chassis_type 2>/dev/null; echo;
            echo -n "chassis_vendor: "; cat /sys/devices/virtual/dmi/id/chassis_vendor 2>/dev/null; echo;
            echo -n "chassis_version: "; cat /sys/devices/virtual/dmi/id/chassis_version 2>/dev/null; echo;`,function(n,o){let a=o.toString().split(`
`);s.manufacturer=ee(I.getValue(a,"chassis_vendor"));let l=parseInt(I.getValue(a,"chassis_type").replace(/\D/g,""));s.type=ee(l&&!isNaN(l)&&l<r.length?r[l-1]:""),s.version=ee(I.getValue(a,"chassis_version")),s.serial=ee(I.getValue(a,"chassis_serial")),s.assetTag=ee(I.getValue(a,"chassis_asset_tag")),t&&t(s),e(s)}),os&&Jt("ioreg -c IOPlatformExpertDevice -d 2",function(i,n){if(!i){let o=n.toString().replace(/[<>"]/g,"").split(`
`),a=I.getValue(o,"model","=",!0),l=I.splitByNumber(a),u=I.getValue(o,"version","=",!0);s.manufacturer=I.getValue(o,"manufacturer","=",!0),s.model=u?I.getValue(o,"model","=",!0):l[0],s.type=Uf(s.model),s.version=u||a,s.serial=I.getValue(o,"ioplatformserialnumber","=",!0),s.assetTag=I.getValue(o,"board-id","=",!0)||I.getValue(o,"target-type","=",!0),s.sku=I.getValue(o,"target-sub-type","=",!0)}t&&t(s),e(s)}),ls&&(t&&t(s),e(s)),as)try{I.powerShell("Get-CimInstance Win32_SystemEnclosure | select Model,Manufacturer,ChassisTypes,Version,SerialNumber,PartNumber,SKU,SMBIOSAssetTag | fl").then((i,n)=>{if(!n){let o=i.toString().split(`\r
`);s.manufacturer=ee(I.getValue(o,"manufacturer",":")),s.model=ee(I.getValue(o,"model",":"));let a=parseInt(I.getValue(o,"ChassisTypes",":").replace(/\D/g,""));s.type=a&&!isNaN(a)&&a<r.length?r[a-1]:"",s.version=ee(I.getValue(o,"version",":")),s.serial=ee(I.getValue(o,"serialnumber",":")),s.assetTag=ee(I.getValue(o,"partnumber",":")),s.assetTag||(s.assetTag=ee(I.getValue(o,"SMBIOSAssetTag",":"))),s.sku=ee(I.getValue(o,"sku",":"))}t&&t(s),e(s)})}catch{t&&t(s),e(s)}})})}Or.chassis=Gf});var ga=M(Qt=>{"use strict";var $e=require("os"),Te=require("fs"),F=oe(),G=require("child_process").exec,_r=require("child_process").execSync,Ue=process.platform,Er=Ue==="linux"||Ue==="android",Be=Ue==="darwin",De=Ue==="win32",fn=Ue==="freebsd",dn=Ue==="openbsd",mn=Ue==="netbsd",qf=Ue==="sunos";function $f(){let t=new Date().toString().split(" ");return{current:Date.now(),uptime:$e.uptime(),timezone:t.length>=7?t[5]:"",timezoneName:Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:t.length>=7?t.slice(6).join(" ").replace(/\(/g,"").replace(/\)/g,""):""}}Qt.time=$f;function Lr(t){t=t||"",t=t.toLowerCase();let r=Ue;return De?r="windows":t.indexOf("mac os")!==-1?r="apple":t.indexOf("arch")!==-1?r="arch":t.indexOf("centos")!==-1?r="centos":t.indexOf("coreos")!==-1?r="coreos":t.indexOf("debian")!==-1?r="debian":t.indexOf("deepin")!==-1?r="deepin":t.indexOf("elementary")!==-1?r="elementary":t.indexOf("fedora")!==-1?r="fedora":t.indexOf("gentoo")!==-1?r="gentoo":t.indexOf("mageia")!==-1?r="mageia":t.indexOf("mandriva")!==-1?r="mandriva":t.indexOf("manjaro")!==-1?r="manjaro":t.indexOf("mint")!==-1?r="mint":t.indexOf("mx")!==-1?r="mx":t.indexOf("openbsd")!==-1?r="openbsd":t.indexOf("freebsd")!==-1?r="freebsd":t.indexOf("opensuse")!==-1?r="opensuse":t.indexOf("pclinuxos")!==-1?r="pclinuxos":t.indexOf("puppy")!==-1?r="puppy":t.indexOf("raspbian")!==-1?r="raspbian":t.indexOf("reactos")!==-1?r="reactos":t.indexOf("redhat")!==-1?r="redhat":t.indexOf("slackware")!==-1?r="slackware":t.indexOf("sugar")!==-1?r="sugar":t.indexOf("steam")!==-1?r="steam":t.indexOf("suse")!==-1?r="suse":t.indexOf("mate")!==-1?r="ubuntu-mate":t.indexOf("lubuntu")!==-1?r="lubuntu":t.indexOf("xubuntu")!==-1?r="xubuntu":t.indexOf("ubuntu")!==-1?r="ubuntu":t.indexOf("solaris")!==-1?r="solaris":t.indexOf("tails")!==-1?r="tails":t.indexOf("feren")!==-1?r="ferenos":t.indexOf("robolinux")!==-1?r="robolinux":Er&&t&&(r=t.toLowerCase().trim().replace(/\s+/g,"-")),r}function Hf(){let t=$e.hostname;if(Er||Be)try{let r=_r("hostnamectl --json short 2>/dev/null",F.execOptsLinux);t=JSON.parse(r.toString()).StaticHostname}catch{try{t=_r("hostname -f 2>/dev/null",F.execOptsLinux).toString().split($e.EOL)[0]}catch{F.noop()}}if(fn||dn||mn)try{t=_r("hostname 2>/dev/null").toString().split($e.EOL)[0]}catch{F.noop()}if(De)try{t=_r("echo %COMPUTERNAME%.%USERDNSDOMAIN%",F.execOptsWin).toString().replace(".%USERDNSDOMAIN%","").split($e.EOL)[0]}catch{F.noop()}return t}function zf(t){return new Promise(r=>{process.nextTick(()=>{let e={platform:Ue==="win32"?"Windows":Ue,distro:"unknown",release:"unknown",codename:"",kernel:$e.release(),arch:$e.arch(),hostname:$e.hostname(),fqdn:Hf(),codepage:"",logofile:"",serial:"",build:"",servicepack:"",uefi:!1};if(Er&&G("cat /etc/*-release; cat /usr/lib/os-release; cat /etc/openwrt_release",function(s,i){let n={};i.toString().split(`
`).forEach(function(c){c.indexOf("=")!==-1&&(n[c.split("=")[0].trim().toUpperCase()]=c.split("=")[1].trim())}),e.distro=(n.DISTRIB_ID||n.NAME||"unknown").replace(/"/g,""),e.logofile=Lr(e.distro);let a=(n.VERSION||"").replace(/"/g,""),l=(n.DISTRIB_CODENAME||n.VERSION_CODENAME||"").replace(/"/g,""),u=(n.PRETTY_NAME||"").replace(/"/g,"");u.indexOf(e.distro+" ")===0&&(a=u.replace(e.distro+" ","").trim()),a.indexOf("(")>=0&&(l=a.split("(")[1].replace(/[()]/g,"").trim(),a=a.split("(")[0].trim()),e.release=(a||n.DISTRIB_RELEASE||n.VERSION_ID||"unknown").replace(/"/g,""),e.codename=l,e.codepage=F.getCodepage(),e.build=(n.BUILD_ID||"").replace(/"/g,"").trim(),Xf().then(c=>{e.uefi=c,ma().then(p=>{e.serial=p.os,t&&t(e),r(e)})})}),(fn||dn||mn)&&G("sysctl kern.ostype kern.osrelease kern.osrevision kern.hostuuid machdep.bootmethod kern.geom.confxml",function(s,i){let n=i.toString().split(`
`),o=F.getValue(n,"kern.ostype"),a=Lr(o),l=F.getValue(n,"kern.osrelease").split("-")[0],u=F.getValue(n,"kern.uuid"),c=F.getValue(n,"machdep.bootmethod"),p=i.toString().indexOf("<type>efi</type>")>=0,f=c?c.toLowerCase().indexOf("uefi")>=0:p||null;e.distro=o||e.distro,e.logofile=a||e.logofile,e.release=l||e.release,e.serial=u||e.serial,e.codename="",e.codepage=F.getCodepage(),e.uefi=f||null,t&&t(e),r(e)}),Be&&G("sw_vers; sysctl kern.ostype kern.osrelease kern.osrevision kern.uuid",function(s,i){let n=i.toString().split(`
`);e.serial=F.getValue(n,"kern.uuid"),e.distro=F.getValue(n,"ProductName"),e.release=(F.getValue(n,"ProductVersion",":",!0,!0)+" "+F.getValue(n,"ProductVersionExtra",":",!0,!0)).trim(),e.build=F.getValue(n,"BuildVersion"),e.logofile=Lr(e.distro),e.codename="macOS",e.codename=e.release.indexOf("10.4")>-1?"Mac OS X Tiger":e.codename,e.codename=e.release.indexOf("10.5")>-1?"Mac OS X Leopard":e.codename,e.codename=e.release.indexOf("10.6")>-1?"Mac OS X Snow Leopard":e.codename,e.codename=e.release.indexOf("10.7")>-1?"Mac OS X Lion":e.codename,e.codename=e.release.indexOf("10.8")>-1?"OS X Mountain Lion":e.codename,e.codename=e.release.indexOf("10.9")>-1?"OS X Mavericks":e.codename,e.codename=e.release.indexOf("10.10")>-1?"OS X Yosemite":e.codename,e.codename=e.release.indexOf("10.11")>-1?"OS X El Capitan":e.codename,e.codename=e.release.indexOf("10.12")>-1?"macOS Sierra":e.codename,e.codename=e.release.indexOf("10.13")>-1?"macOS High Sierra":e.codename,e.codename=e.release.indexOf("10.14")>-1?"macOS Mojave":e.codename,e.codename=e.release.indexOf("10.15")>-1?"macOS Catalina":e.codename,e.codename=e.release.startsWith("11.")?"macOS Big Sur":e.codename,e.codename=e.release.startsWith("12.")?"macOS Monterey":e.codename,e.codename=e.release.startsWith("13.")?"macOS Ventura":e.codename,e.codename=e.release.startsWith("14.")?"macOS Sonoma":e.codename,e.codename=e.release.startsWith("15.")?"macOS Sequoia":e.codename,e.uefi=!0,e.codepage=F.getCodepage(),t&&t(e),r(e)}),qf&&(e.release=e.kernel,G("uname -o",function(s,i){let n=i.toString().split(`
`);e.distro=n[0],e.logofile=Lr(e.distro),t&&t(e),r(e)})),De){e.logofile=Lr(),e.release=e.kernel;try{let s=[];s.push(F.powerShell("Get-CimInstance Win32_OperatingSystem | select Caption,SerialNumber,BuildNumber,ServicePackMajorVersion,ServicePackMinorVersion | fl")),s.push(F.powerShell("(Get-CimInstance Win32_ComputerSystem).HypervisorPresent")),s.push(F.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.SystemInformation]::TerminalServerSession")),F.promiseAll(s).then(i=>{let n=i.results[0]?i.results[0].toString().split(`\r
`):[""];e.distro=F.getValue(n,"Caption",":").trim(),e.serial=F.getValue(n,"SerialNumber",":").trim(),e.build=F.getValue(n,"BuildNumber",":").trim(),e.servicepack=F.getValue(n,"ServicePackMajorVersion",":").trim()+"."+F.getValue(n,"ServicePackMinorVersion",":").trim(),e.codepage=F.getCodepage();let o=i.results[1]?i.results[1].toString().toLowerCase():"";e.hypervisor=o.indexOf("true")!==-1;let a=i.results[2]?i.results[2].toString():"";e.remoteSession=a.toString().toLowerCase().indexOf("true")>=0,kf().then(l=>{e.uefi=l,t&&t(e),r(e)})})}catch{t&&t(e),r(e)}}})})}Qt.osInfo=zf;function Xf(){return new Promise(t=>{process.nextTick(()=>{Te.stat("/sys/firmware/efi",function(r){if(r)G('dmesg | grep -E "EFI v"',function(e,s){if(!e){let i=s.toString().split(`
`);return t(i.length>0)}return t(!1)});else return t(!0)})})})}function kf(){return new Promise(t=>{process.nextTick(()=>{try{G('findstr /C:"Detected boot environment" "%windir%\\Panther\\setupact.log"',F.execOptsWin,function(r,e){if(r)G("echo %firmware_type%",F.execOptsWin,function(s,i){if(s)return t(!1);{let n=i.toString()||"";return t(n.toLowerCase().indexOf("efi")>=0)}});else{let s=e.toString().split(`
\r`)[0];return t(s.toLowerCase().indexOf("efi")>=0)}})}catch{return t(!1)}})})}function jf(t,r){let e={kernel:$e.release(),openssl:"",systemOpenssl:"",systemOpensslLib:"",node:process.versions.node,v8:process.versions.v8,npm:"",yarn:"",pm2:"",gulp:"",grunt:"",git:"",tsc:"",mysql:"",redis:"",mongodb:"",apache:"",nginx:"",php:"",docker:"",postfix:"",postgresql:"",perl:"",python:"",python3:"",pip:"",pip3:"",java:"",gcc:"",virtualbox:"",bash:"",zsh:"",fish:"",powershell:"",dotnet:""};function s(i){if(i==="*")return{versions:e,counter:30};if(!Array.isArray(i)){i=i.trim().toLowerCase().replace(/,+/g,"|").replace(/ /g,"|"),i=i.split("|");let n={versions:{},counter:0};return i.forEach(o=>{if(o)for(let a in e)({}).hasOwnProperty.call(e,a)&&a.toLowerCase()===o.toLowerCase()&&!{}.hasOwnProperty.call(n.versions,a)&&(n.versions[a]=e[a],a==="openssl"&&(n.versions.systemOpenssl="",n.versions.systemOpensslLib=""),n.versions[a]||n.counter++)}),n}}return new Promise(i=>{process.nextTick(()=>{if(F.isFunction(t)&&!r)r=t,t="*";else if(t=t||"*",typeof t!="string")return r&&r({}),i({});let n=s(t),o=n.counter,a=function(){return function(){--o===0&&(r&&r(n.versions),i(n.versions))}}(),l="";try{if({}.hasOwnProperty.call(n.versions,"openssl")&&(n.versions.openssl=process.versions.openssl,G("openssl version",function(u,c){if(!u){let f=c.toString().split(`
`)[0].trim().split(" ");n.versions.systemOpenssl=f.length>0?f[1]:f[0],n.versions.systemOpensslLib=f.length>0?f[0]:"openssl"}a()})),{}.hasOwnProperty.call(n.versions,"npm")&&G("npm -v",function(u,c){u||(n.versions.npm=c.toString().split(`
`)[0]),a()}),{}.hasOwnProperty.call(n.versions,"pm2")&&(l="pm2",De&&(l+=".cmd"),G(`${l} -v`,function(u,c){if(!u){let p=c.toString().split(`
`)[0].trim();p.startsWith("[PM2]")||(n.versions.pm2=p)}a()})),{}.hasOwnProperty.call(n.versions,"yarn")&&G("yarn --version",function(u,c){u||(n.versions.yarn=c.toString().split(`
`)[0]),a()}),{}.hasOwnProperty.call(n.versions,"gulp")&&(l="gulp",De&&(l+=".cmd"),G(`${l} --version`,function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";n.versions.gulp=(p.toLowerCase().split("version")[1]||"").trim()}a()})),{}.hasOwnProperty.call(n.versions,"tsc")&&(l="tsc",De&&(l+=".cmd"),G(`${l} --version`,function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";n.versions.tsc=(p.toLowerCase().split("version")[1]||"").trim()}a()})),{}.hasOwnProperty.call(n.versions,"grunt")&&(l="grunt",De&&(l+=".cmd"),G(`${l} --version`,function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";n.versions.grunt=(p.toLowerCase().split("cli v")[1]||"").trim()}a()})),{}.hasOwnProperty.call(n.versions,"git"))if(Be){let u=Te.existsSync("/usr/local/Cellar/git")||Te.existsSync("/opt/homebrew/bin/git");F.darwinXcodeExists()||u?G("git --version",function(c,p){if(!c){let f=p.toString().split(`
`)[0]||"";f=(f.toLowerCase().split("version")[1]||"").trim(),n.versions.git=(f.split(" ")[0]||"").trim()}a()}):a()}else G("git --version",function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";p=(p.toLowerCase().split("version")[1]||"").trim(),n.versions.git=(p.split(" ")[0]||"").trim()}a()});if({}.hasOwnProperty.call(n.versions,"apache")&&G("apachectl -v 2>&1",function(u,c){if(!u){let p=(c.toString().split(`
`)[0]||"").split(":");n.versions.apache=p.length>1?p[1].replace("Apache","").replace("/","").split("(")[0].trim():""}a()}),{}.hasOwnProperty.call(n.versions,"nginx")&&G("nginx -v 2>&1",function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";n.versions.nginx=(p.toLowerCase().split("/")[1]||"").trim()}a()}),{}.hasOwnProperty.call(n.versions,"mysql")&&G("mysql -V",function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";if(p=p.toLowerCase(),p.indexOf(",")>-1){p=(p.split(",")[0]||"").trim();let f=p.split(" ");n.versions.mysql=(f[f.length-1]||"").trim()}else p.indexOf(" ver ")>-1&&(p=p.split(" ver ")[1],n.versions.mysql=p.split(" ")[0])}a()}),{}.hasOwnProperty.call(n.versions,"php")&&G("php -v",function(u,c){if(!u){let f=(c.toString().split(`
`)[0]||"").split("(");f[0].indexOf("-")&&(f=f[0].split("-")),n.versions.php=f[0].replace(/[^0-9.]/g,"")}a()}),{}.hasOwnProperty.call(n.versions,"redis")&&G("redis-server --version",function(u,c){if(!u){let f=(c.toString().split(`
`)[0]||"").split(" ");n.versions.redis=F.getValue(f,"v","=",!0)}a()}),{}.hasOwnProperty.call(n.versions,"docker")&&G("docker --version",function(u,c){if(!u){let f=(c.toString().split(`
`)[0]||"").split(" ");n.versions.docker=f.length>2&&f[2].endsWith(",")?f[2].slice(0,-1):""}a()}),{}.hasOwnProperty.call(n.versions,"postfix")&&G("postconf -d | grep mail_version",function(u,c){if(!u){let p=c.toString().split(`
`)||[];n.versions.postfix=F.getValue(p,"mail_version","=",!0)}a()}),{}.hasOwnProperty.call(n.versions,"mongodb")&&G("mongod --version",function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";n.versions.mongodb=(p.toLowerCase().split(",")[0]||"").replace(/[^0-9.]/g,"")}a()}),{}.hasOwnProperty.call(n.versions,"postgresql")&&(Er?G("locate bin/postgres",function(u,c){if(u)G("psql -V",function(p,f){if(!p){let d=f.toString().split(`
`)[0].split(" ")||[];n.versions.postgresql=d.length?d[d.length-1]:"",n.versions.postgresql=n.versions.postgresql.split("-")[0]}a()});else{let p=c.toString().split(`
`).sort();p.length?G(p[p.length-1]+" -V",function(f,d){if(!f){let m=d.toString().split(`
`)[0].split(" ")||[];n.versions.postgresql=m.length?m[m.length-1]:""}a()}):a()}}):De?F.powerShell("Get-CimInstance Win32_Service | select caption | fl").then(u=>{u.split(/\n\s*\n/).forEach(p=>{if(p.trim()!==""){let f=p.trim().split(`\r
`),d=F.getValue(f,"caption",":",!0).toLowerCase();if(d.indexOf("postgresql")>-1){let m=d.split(" server ");m.length>1&&(n.versions.postgresql=m[1])}}}),a()}):G("postgres -V",function(u,c){if(!u){let p=c.toString().split(`
`)[0].split(" ")||[];n.versions.postgresql=p.length?p[p.length-1]:""}a()})),{}.hasOwnProperty.call(n.versions,"perl")&&G("perl -v",function(u,c){if(!u){let p=c.toString().split(`
`)||"";for(;p.length>0&&p[0].trim()==="";)p.shift();p.length>0&&(n.versions.perl=p[0].split("(").pop().split(")")[0].replace("v",""))}a()}),{}.hasOwnProperty.call(n.versions,"python"))if(Be)try{let c=_r("sw_vers").toString().split(`
`),p=F.getValue(c,"ProductVersion",":"),f=Te.existsSync("/usr/local/Cellar/python"),d=Te.existsSync("/opt/homebrew/bin/python");F.darwinXcodeExists()&&F.semverCompare("12.0.1",p)<0||f||d?G(f?"/usr/local/Cellar/python -V 2>&1":d?"/opt/homebrew/bin/python -V 2>&1":"python -V 2>&1",function(h,y){if(!h){let g=y.toString().split(`
`)[0]||"";n.versions.python=g.toLowerCase().replace("python","").trim()}a()}):a()}catch{a()}else G("python -V 2>&1",function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";n.versions.python=p.toLowerCase().replace("python","").trim()}a()});if({}.hasOwnProperty.call(n.versions,"python3"))if(Be){let u=Te.existsSync("/usr/local/Cellar/python3")||Te.existsSync("/opt/homebrew/bin/python3");F.darwinXcodeExists()||u?G("python3 -V 2>&1",function(c,p){if(!c){let f=p.toString().split(`
`)[0]||"";n.versions.python3=f.toLowerCase().replace("python","").trim()}a()}):a()}else G("python3 -V 2>&1",function(u,c){if(!u){let p=c.toString().split(`
`)[0]||"";n.versions.python3=p.toLowerCase().replace("python","").trim()}a()});if({}.hasOwnProperty.call(n.versions,"pip"))if(Be){let u=Te.existsSync("/usr/local/Cellar/pip")||Te.existsSync("/opt/homebrew/bin/pip");F.darwinXcodeExists()||u?G("pip -V 2>&1",function(c,p){if(!c){let d=(p.toString().split(`
`)[0]||"").split(" ");n.versions.pip=d.length>=2?d[1]:""}a()}):a()}else G("pip -V 2>&1",function(u,c){if(!u){let f=(c.toString().split(`
`)[0]||"").split(" ");n.versions.pip=f.length>=2?f[1]:""}a()});if({}.hasOwnProperty.call(n.versions,"pip3"))if(Be){let u=Te.existsSync("/usr/local/Cellar/pip3")||Te.existsSync("/opt/homebrew/bin/pip3");F.darwinXcodeExists()||u?G("pip3 -V 2>&1",function(c,p){if(!c){let d=(p.toString().split(`
`)[0]||"").split(" ");n.versions.pip3=d.length>=2?d[1]:""}a()}):a()}else G("pip3 -V 2>&1",function(u,c){if(!u){let f=(c.toString().split(`
`)[0]||"").split(" ");n.versions.pip3=f.length>=2?f[1]:""}a()});({}).hasOwnProperty.call(n.versions,"java")&&(Be?G("/usr/libexec/java_home -V 2>&1",function(u,c){!u&&c.toString().toLowerCase().indexOf("no java runtime")===-1?G("java -version 2>&1",function(p,f){if(!p){let m=(f.toString().split(`
`)[0]||"").split('"');n.versions.java=m.length===3?m[1].trim():""}a()}):a()}):G("java -version 2>&1",function(u,c){if(!u){let f=(c.toString().split(`
`)[0]||"").split('"');n.versions.java=f.length===3?f[1].trim():""}a()})),{}.hasOwnProperty.call(n.versions,"gcc")&&(Be&&F.darwinXcodeExists()||!Be?G("gcc -dumpversion",function(u,c){u||(n.versions.gcc=c.toString().split(`
`)[0].trim()||""),n.versions.gcc.indexOf(".")>-1?a():G("gcc --version",function(p,f){if(!p){let d=f.toString().split(`
`)[0].trim();if(d.indexOf("gcc")>-1&&d.indexOf(")")>-1){let m=d.split(")");n.versions.gcc=m[1].trim()||n.versions.gcc}}a()})}):a()),{}.hasOwnProperty.call(n.versions,"virtualbox")&&G(F.getVboxmanage()+" -v 2>&1",function(u,c){if(!u){let f=(c.toString().split(`
`)[0]||"").split("r");n.versions.virtualbox=f[0]}a()}),{}.hasOwnProperty.call(n.versions,"bash")&&G("bash --version",function(u,c){if(!u){let f=c.toString().split(`
`)[0].split(" version ");f.length>1&&(n.versions.bash=f[1].split(" ")[0].split("(")[0])}a()}),{}.hasOwnProperty.call(n.versions,"zsh")&&G("zsh --version",function(u,c){if(!u){let f=c.toString().split(`
`)[0].split("zsh ");f.length>1&&(n.versions.zsh=f[1].split(" ")[0])}a()}),{}.hasOwnProperty.call(n.versions,"fish")&&G("fish --version",function(u,c){if(!u){let f=c.toString().split(`
`)[0].split(" version ");f.length>1&&(n.versions.fish=f[1].split(" ")[0])}a()}),{}.hasOwnProperty.call(n.versions,"powershell")&&(De?F.powerShell("$PSVersionTable").then(u=>{let c=u.toString().split(`
`).map(p=>p.replace(/ +/g," ").replace(/ +/g,":"));n.versions.powershell=F.getValue(c,"psversion"),a()}):a()),{}.hasOwnProperty.call(n.versions,"dotnet")&&(De?F.powerShell('gci "HKLM:\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP" -recurse | gp -name Version,Release -EA 0 | where { $_.PSChildName -match "^(?!S)\\p{L}"} | select PSChildName, Version, Release').then(u=>{let c=u.toString().split(`\r
`),p="";c.forEach(f=>{f=f.replace(/ +/g," ");let d=f.split(" ");p=p||(d[0].toLowerCase().startsWith("client")&&d.length>2||d[0].toLowerCase().startsWith("full")&&d.length>2?d[1].trim():"")}),n.versions.dotnet=p.trim(),a()}):a())}catch{r&&r(n.versions),i(n.versions)}})})}Qt.versions=jf;function Yf(t){return new Promise(r=>{process.nextTick(()=>{if(De)r("cmd");else{let e="";G("echo $SHELL",function(s,i){s||(e=i.toString().split(`
`)[0]),t&&t(e),r(e)})}})})}Qt.shell=Yf;function Kf(){let t=[];try{let r=$e.networkInterfaces();for(let e in r)({}).hasOwnProperty.call(r,e)&&r[e].forEach(function(s){if(s&&s.mac&&s.mac!=="00:00:00:00:00:00"){let i=s.mac.toLowerCase();t.indexOf(i)===-1&&t.push(i)}});t=t.sort(function(e,s){return e<s?-1:e>s?1:0})}catch{t.push("00:00:00:00:00:00")}return t}function ma(t){return new Promise(r=>{process.nextTick(()=>{let e={os:"",hardware:"",macs:Kf()},s;if(Be&&G("system_profiler SPHardwareDataType -json",function(i,n){if(!i)try{let o=JSON.parse(n.toString());if(o.SPHardwareDataType&&o.SPHardwareDataType.length>0){let a=o.SPHardwareDataType[0];e.os=a.platform_UUID.toLowerCase(),e.hardware=a.serial_number}}catch{F.noop()}t&&t(e),r(e)}),Er&&G(`echo -n "os: "; cat /var/lib/dbus/machine-id 2> /dev/null ||
cat /etc/machine-id 2> /dev/null; echo;
echo -n "hardware: "; cat /sys/class/dmi/id/product_uuid 2> /dev/null; echo;`,function(n,o){let a=o.toString().split(`
`);if(e.os=F.getValue(a,"os").toLowerCase(),e.hardware=F.getValue(a,"hardware").toLowerCase(),!e.hardware){let l=Te.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),u=F.getValue(l,"serial");e.hardware=u||""}t&&t(e),r(e)}),(fn||dn||mn)&&G("sysctl -i kern.hostid kern.hostuuid",function(i,n){let o=n.toString().split(`
`);e.os=F.getValue(o,"kern.hostid",":").toLowerCase(),e.hardware=F.getValue(o,"kern.hostuuid",":").toLowerCase(),e.os.indexOf("unknown")>=0&&(e.os=""),e.hardware.indexOf("unknown")>=0&&(e.hardware=""),t&&t(e),r(e)}),De){let i="%windir%\\System32";process.arch==="ia32"&&Object.prototype.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")&&(i="%windir%\\sysnative\\cmd.exe /c %windir%\\System32"),F.powerShell("Get-CimInstance Win32_ComputerSystemProduct | select UUID | fl").then(n=>{let o=n.split(`\r
`);e.hardware=F.getValue(o,"uuid",":").toLowerCase(),G(`${i}\\reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography" /v MachineGuid`,F.execOptsWin,function(a,l){s=l.toString().split(`
\r`)[0].split("REG_SZ"),e.os=s.length>1?s[1].replace(/\r+|\n+|\s+/ig,"").toLowerCase():"",t&&t(e),r(e)})})}})})}Qt.uuid=ma});var Ca=M(ot=>{"use strict";var Ge=require("os"),Ce=require("child_process").exec,xn=require("child_process").execSync,cs=require("fs"),v=oe(),it=process.platform,vr=it==="linux"||it==="android",ps=it==="darwin",fs=it==="win32",ds=it==="freebsd",ms=it==="openbsd",gs=it==="netbsd",hs=it==="sunos",Zt=0,k={user:0,nice:0,system:0,idle:0,irq:0,steal:0,guest:0,load:0,tick:0,ms:0,currentLoad:0,currentLoadUser:0,currentLoadSystem:0,currentLoadNice:0,currentLoadIdle:0,currentLoadIrq:0,currentLoadSteal:0,currentLoadGuest:0,rawCurrentLoad:0,rawCurrentLoadUser:0,rawCurrentLoadSystem:0,rawCurrentLoadNice:0,rawCurrentLoadIdle:0,rawCurrentLoadIrq:0,rawCurrentLoadSteal:0,rawCurrentLoadGuest:0},O=[],gn=0,hn={8346:"1.8",8347:"1.9",8350:"2.0",8354:"2.2","8356|SE":"2.4",8356:"2.3",8360:"2.5",2372:"2.1",2373:"2.1",2374:"2.2",2376:"2.3",2377:"2.3",2378:"2.4",2379:"2.4",2380:"2.5",2381:"2.5",2382:"2.6",2384:"2.7",2386:"2.8",2387:"2.8",2389:"2.9",2393:"3.1",8374:"2.2",8376:"2.3",8378:"2.4",8379:"2.4",8380:"2.5",8381:"2.5",8382:"2.6",8384:"2.7",8386:"2.8",8387:"2.8",8389:"2.9",8393:"3.1","2419EE":"1.8","2423HE":"2.0","2425HE":"2.1",2427:"2.2",2431:"2.4",2435:"2.6","2439SE":"2.8","8425HE":"2.1",8431:"2.4",8435:"2.6","8439SE":"2.8",4122:"2.2",4130:"2.6","4162EE":"1.7","4164EE":"1.8","4170HE":"2.1","4174HE":"2.3","4176HE":"2.4",4180:"2.6",4184:"2.8","6124HE":"1.8","6128HE":"2.0","6132HE":"2.2",6128:"2.0",6134:"2.3",6136:"2.4",6140:"2.6","6164HE":"1.7","6166HE":"1.8",6168:"1.9",6172:"2.1",6174:"2.2",6176:"2.3","6176SE":"2.3","6180SE":"2.5",3250:"2.5",3260:"2.7",3280:"2.4",4226:"2.7",4228:"2.8",4230:"2.9",4234:"3.1",4238:"3.3",4240:"3.4",4256:"1.6",4274:"2.5",4276:"2.6",4280:"2.8",4284:"3.0",6204:"3.3",6212:"2.6",6220:"3.0",6234:"2.4",6238:"2.6","6262HE":"1.6",6272:"2.1",6274:"2.2",6276:"2.3",6278:"2.4","6282SE":"2.6","6284SE":"2.7",6308:"3.5",6320:"2.8",6328:"3.2","6338P":"2.3",6344:"2.6",6348:"2.8",6366:"1.8","6370P":"2.0",6376:"2.3",6378:"2.4",6380:"2.5",6386:"2.8","FX|4100":"3.6","FX|4120":"3.9","FX|4130":"3.8","FX|4150":"3.8","FX|4170":"4.2","FX|6100":"3.3","FX|6120":"3.6","FX|6130":"3.6","FX|6200":"3.8","FX|8100":"2.8","FX|8120":"3.1","FX|8140":"3.2","FX|8150":"3.6","FX|8170":"3.9","FX|4300":"3.8","FX|4320":"4.0","FX|4350":"4.2","FX|6300":"3.5","FX|6350":"3.9","FX|8300":"3.3","FX|8310":"3.4","FX|8320":"3.5","FX|8350":"4.0","FX|8370":"4.0","FX|9370":"4.4","FX|9590":"4.7","FX|8320E":"3.2","FX|8370E":"3.3",1200:"3.1","Pro 1200":"3.1","1300X":"3.5","Pro 1300":"3.5",1400:"3.2","1500X":"3.5","Pro 1500":"3.5",1600:"3.2","1600X":"3.6","Pro 1600":"3.2",1700:"3.0","Pro 1700":"3.0","1700X":"3.4","Pro 1700X":"3.4","1800X":"3.6","1900X":"3.8",1920:"3.2","1920X":"3.5","1950X":"3.4","200GE":"3.2","Pro 200GE":"3.2","220GE":"3.4","240GE":"3.5","3000G":"3.5","300GE":"3.4","3050GE":"3.4","2200G":"3.5","Pro 2200G":"3.5","2200GE":"3.2","Pro 2200GE":"3.2","2400G":"3.6","Pro 2400G":"3.6","2400GE":"3.2","Pro 2400GE":"3.2","Pro 200U":"2.3","300U":"2.4","2200U":"2.5","3200U":"2.6","2300U":"2.0","Pro 2300U":"2.0","2500U":"2.0","Pro 2500U":"2.2","2600H":"3.2","2700U":"2.0","Pro 2700U":"2.2","2800H":"3.3",7351:"2.4","7351P":"2.4",7401:"2.0","7401P":"2.0","7551P":"2.0",7551:"2.0",7251:"2.1",7261:"2.5",7281:"2.1",7301:"2.2",7371:"3.1",7451:"2.3",7501:"2.0",7571:"2.2",7601:"2.2",V1500B:"2.2",V1780B:"3.35",V1202B:"2.3",V1404I:"2.0",V1605B:"2.0",V1756B:"3.25",V1807B:"3.35",3101:"2.1",3151:"2.7",3201:"1.5",3251:"2.5",3255:"2.5",3301:"2.0",3351:"1.9",3401:"1.85",3451:"2.15","1200|AF":"3.1","2300X":"3.5","2500X":"3.6",2600:"3.4","2600E":"3.1","1600|AF":"3.2","2600X":"3.6",2700:"3.2","2700E":"2.8","Pro 2700":"3.2","2700X":"3.7","Pro 2700X":"3.6","2920X":"3.5","2950X":"3.5","2970WX":"3.0","2990WX":"3.0","Pro 300GE":"3.4","Pro 3125GE":"3.4","3150G":"3.5","Pro 3150G":"3.5","3150GE":"3.3","Pro 3150GE":"3.3","3200G":"3.6","Pro 3200G":"3.6","3200GE":"3.3","Pro 3200GE":"3.3","3350G":"3.6","Pro 3350G":"3.6","3350GE":"3.3","Pro 3350GE":"3.3","3400G":"3.7","Pro 3400G":"3.7","3400GE":"3.3","Pro 3400GE":"3.3","3300U":"2.1","PRO 3300U":"2.1","3450U":"2.1","3500U":"2.1","PRO 3500U":"2.1","3500C":"2.1","3550H":"2.1","3580U":"2.1","3700U":"2.3","PRO 3700U":"2.3","3700C":"2.3","3750H":"2.3","3780U":"2.3",3100:"3.6","3300X":"3.8",3500:"3.6","3500X":"3.6",3600:"3.6","Pro 3600":"3.6","3600X":"3.8","3600XT":"3.8","Pro 3700":"3.6","3700X":"3.6","3800X":"3.9","3800XT":"3.9",3900:"3.1","Pro 3900":"3.1","3900X":"3.8","3900XT":"3.8","3950X":"3.5","3960X":"3.8","3970X":"3.7","3990X":"2.9","3945WX":"4.0","3955WX":"3.9","3975WX":"3.5","3995WX":"2.7","4300GE":"3.5","Pro 4300GE":"3.5","4300G":"3.8","Pro 4300G":"3.8","4600GE":"3.3","Pro 4650GE":"3.3","4600G":"3.7","Pro 4650G":"3.7","4700GE":"3.1","Pro 4750GE":"3.1","4700G":"3.6","Pro 4750G":"3.6","4300U":"2.7","4450U":"2.5","Pro 4450U":"2.5","4500U":"2.3","4600U":"2.1","PRO 4650U":"2.1","4680U":"2.1","4600HS":"3.0","4600H":"3.0","4700U":"2.0","PRO 4750U":"1.7","4800U":"1.8","4800HS":"2.9","4800H":"2.9","4900HS":"3.0","4900H":"3.3","5300U":"2.6","5500U":"2.1","5700U":"1.8","7232P":"3.1","7302P":"3.0","7402P":"2.8","7502P":"2.5","7702P":"2.0",7252:"3.1",7262:"3.2",7272:"2.9",7282:"2.8",7302:"3.0",7352:"2.3",7402:"2.8",7452:"2.35",7502:"2.5",7532:"2.4",7542:"2.9",7552:"2.2",7642:"2.3",7662:"2.0",7702:"2.0",7742:"2.25","7H12":"2.6","7F32":"3.7","7F52":"3.5","7F72":"3.2","7773X":"2.2",7763:"2.45",7713:"2.0","7713P":"2.0",7663:"2.0",7643:"2.3","7573X":"2.8","75F3":"2.95",7543:"2.8","7543P":"2.8",7513:"2.6","7473X":"2.8",7453:"2.75","74F3":"3.2",7443:"2.85","7443P":"2.85",7413:"2.65","7373X":"3.05","73F3":"3.5",7343:"3.2",7313:"3.0","7313P":"3.0","72F3":"3.7","5600X":"3.7","5800X":"3.8","5900X":"3.7","5950X":"3.4","5945WX":"4.1","5955WX":"4.0","5965WX":"3.8","5975WX":"3.6","5995WX":"2.7","7960X":"4.2","7970X":"4.0","7980X":"3.2","7965WX":"4.2","7975WX":"4.0","7985WX":"3.2","7995WX":"2.5",9754:"2.25","9754S":"2.25",9734:"2.2","9684X":"2.55","9384X":"3.1","9184X":"3.55","9654P":"2.4",9654:"2.4",9634:"2.25","9554P":"3.1",9554:"3.1",9534:"2.45","9474F":"3.6","9454P":"2.75",9454:"2.75","9374F":"3.85","9354P":"3.25",9354:"3.25",9334:"2.7","9274F":"4.05",9254:"2.9",9224:"2.5","9174F":"4.1",9124:"3.0"},ha={1:"Other",2:"Unknown",3:"Daughter Board",4:"ZIF Socket",5:"Replacement/Piggy Back",6:"None",7:"LIF Socket",8:"Slot 1",9:"Slot 2",10:"370 Pin Socket",11:"Slot A",12:"Slot M",13:"423",14:"A (Socket 462)",15:"478",16:"754",17:"940",18:"939",19:"mPGA604",20:"LGA771",21:"LGA775",22:"S1",23:"AM2",24:"F (1207)",25:"LGA1366",26:"G34",27:"AM3",28:"C32",29:"LGA1156",30:"LGA1567",31:"PGA988A",32:"BGA1288",33:"rPGA988B",34:"BGA1023",35:"BGA1224",36:"LGA1155",37:"LGA1356",38:"LGA2011",39:"FS1",40:"FS2",41:"FM1",42:"FM2",43:"LGA2011-3",44:"LGA1356-3",45:"LGA1150",46:"BGA1168",47:"BGA1234",48:"BGA1364",49:"AM4",50:"LGA1151",51:"BGA1356",52:"BGA1440",53:"BGA1515",54:"LGA3647-1",55:"SP3",56:"SP3r2",57:"LGA2066",58:"BGA1392",59:"BGA1510",60:"BGA1528",61:"LGA4189",62:"LGA1200",63:"LGA4677",64:"LGA1700",65:"BGA1744",66:"BGA1781",67:"BGA1211",68:"BGA2422",69:"LGA1211",70:"LGA2422",71:"LGA5773",72:"BGA5773"},ya={LGA1150:"i7-5775C i3-4340 i3-4170 G3250 i3-4160T i3-4160 E3-1231 G3258 G3240 i7-4790S i7-4790K i7-4790 i5-4690K i5-4690 i5-4590T i5-4590S i5-4590 i5-4460 i3-4360 i3-4150 G1820 G3420 G3220 i7-4771 i5-4440 i3-4330 i3-4130T i3-4130 E3-1230 i7-4770S i7-4770K i7-4770 i5-4670K i5-4670 i5-4570T i5-4570S i5-4570 i5-4430",LGA1151:"i9-9900KS E-2288G E-2224 G5420 i9-9900T i9-9900 i7-9700T i7-9700F i7-9700E i7-9700 i5-9600 i5-9500T i5-9500F i5-9500 i5-9400T i3-9350K i3-9300 i3-9100T i3-9100F i3-9100 G4930 i9-9900KF i7-9700KF i5-9600KF i5-9400F i5-9400 i3-9350KF i9-9900K i7-9700K i5-9600K G5500 G5400 i7-8700T i7-8086K i5-8600 i5-8500T i5-8500 i5-8400T i3-8300 i3-8100T G4900 i7-8700K i7-8700 i5-8600K i5-8400 i3-8350K i3-8100 E3-1270 G4600 G4560 i7-7700T i7-7700K i7-7700 i5-7600K i5-7600 i5-7500T i5-7500 i5-7400 i3-7350K i3-7300 i3-7100T i3-7100 G3930 G3900 G4400 i7-6700T i7-6700K i7-6700 i5-6600K i5-6600 i5-6500T i5-6500 i5-6400T i5-6400 i3-6300 i3-6100T i3-6100 E3-1270 E3-1270 T4500 T4400",1155:"G440 G460 G465 G470 G530T G540T G550T G1610T G1620T G530 G540 G1610 G550 G1620 G555 G1630 i3-2100T i3-2120T i3-3220T i3-3240T i3-3250T i3-2100 i3-2105 i3-2102 i3-3210 i3-3220 i3-2125 i3-2120 i3-3225 i3-2130 i3-3245 i3-3240 i3-3250 i5-3570T i5-2500T i5-2400S i5-2405S i5-2390T i5-3330S i5-2500S i5-3335S i5-2300 i5-3450S i5-3340S i5-3470S i5-3475S i5-3470T i5-2310 i5-3550S i5-2320 i5-3330 i5-3350P i5-3450 i5-2400 i5-3340 i5-3570S i5-2380P i5-2450P i5-3470 i5-2500K i5-3550 i5-2500 i5-3570 i5-3570K i5-2550K i7-3770T i7-2600S i7-3770S i7-2600K i7-2600 i7-3770 i7-3770K i7-2700K G620T G630T G640T G2020T G645T G2100T G2030T G622 G860T G620 G632 G2120T G630 G640 G2010 G840 G2020 G850 G645 G2030 G860 G2120 G870 G2130 G2140 E3-1220L E3-1220L E3-1260L E3-1265L E3-1220 E3-1225 E3-1220 E3-1235 E3-1225 E3-1230 E3-1230 E3-1240 E3-1245 E3-1270 E3-1275 E3-1240 E3-1245 E3-1270 E3-1280 E3-1275 E3-1290 E3-1280 E3-1290"};function Jf(t){let r="";for(let e in ya)ya[e].split(" ").forEach(i=>{t.indexOf(i)>=0&&(r=e)});return r}function Sn(t){let r=t;return t=t.toLowerCase(),t.indexOf("intel")>=0&&(r="Intel"),t.indexOf("amd")>=0&&(r="AMD"),t.indexOf("qemu")>=0&&(r="QEMU"),t.indexOf("hygon")>=0&&(r="Hygon"),t.indexOf("centaur")>=0&&(r="WinChip/Via"),t.indexOf("vmware")>=0&&(r="VMware"),t.indexOf("Xen")>=0&&(r="Xen Hypervisor"),t.indexOf("tcg")>=0&&(r="QEMU"),t.indexOf("apple")>=0&&(r="Apple"),r}function us(t){t.brand=t.brand.replace(/\(R\)+/g,"\xAE").replace(/\s+/g," ").trim(),t.brand=t.brand.replace(/\(TM\)+/g,"\u2122").replace(/\s+/g," ").trim(),t.brand=t.brand.replace(/\(C\)+/g,"\xA9").replace(/\s+/g," ").trim(),t.brand=t.brand.replace(/CPU+/g,"").replace(/\s+/g," ").trim(),t.manufacturer=Sn(t.brand);let r=t.brand.split(" ");return r.shift(),t.brand=r.join(" "),t}function yn(t){let r="0";for(let e in hn)if({}.hasOwnProperty.call(hn,e)){let s=e.split("|"),i=0;s.forEach(n=>{t.indexOf(n)>-1&&i++}),i===s.length&&(r=hn[e])}return parseFloat(r)}function Qf(){return new Promise(t=>{process.nextTick(()=>{let r="unknown",e={manufacturer:r,brand:r,vendor:"",family:"",model:"",stepping:"",revision:"",voltage:"",speed:0,speedMin:0,speedMax:0,governor:"",cores:v.cores(),physicalCores:v.cores(),performanceCores:v.cores(),efficiencyCores:0,processors:1,socket:"",flags:"",virtualization:!1,cache:{}};Sa().then(s=>{if(e.flags=s,e.virtualization=s.indexOf("vmx")>-1||s.indexOf("svm")>-1,ps&&Ce("sysctl machdep.cpu hw.cpufrequency_max hw.cpufrequency_min hw.packages hw.physicalcpu_max hw.ncpu hw.tbfrequency hw.cpufamily hw.cpusubfamily",function(i,n){let o=n.toString().split(`
`),l=v.getValue(o,"machdep.cpu.brand_string").split("@");e.brand=l[0].trim();let u=l[1]?l[1].trim():"0";e.speed=parseFloat(u.replace(/GHz+/g,""));let c=v.getValue(o,"hw.tbfrequency")/1e9;c=c<.1?c*100:c,e.speed=e.speed===0?c:e.speed,Zt=e.speed,e=us(e),e.speedMin=v.getValue(o,"hw.cpufrequency_min")?v.getValue(o,"hw.cpufrequency_min")/1e9:e.speed,e.speedMax=v.getValue(o,"hw.cpufrequency_max")?v.getValue(o,"hw.cpufrequency_max")/1e9:e.speed,e.vendor=v.getValue(o,"machdep.cpu.vendor")||"Apple",e.family=v.getValue(o,"machdep.cpu.family")||v.getValue(o,"hw.cpufamily"),e.model=v.getValue(o,"machdep.cpu.model"),e.stepping=v.getValue(o,"machdep.cpu.stepping")||v.getValue(o,"hw.cpusubfamily"),e.virtualization=!0;let p=v.getValue(o,"hw.packages"),f=v.getValue(o,"hw.physicalcpu_max"),d=v.getValue(o,"hw.ncpu");if(Ge.arch()==="arm64"){e.socket="SOC";try{let m=xn("ioreg -c IOPlatformDevice -d 3 -r | grep cluster-type").toString().split(`
`),h=m.filter(g=>g.indexOf('"E"')>=0).length,y=m.filter(g=>g.indexOf('"P"')>=0).length;e.efficiencyCores=h,e.performanceCores=y}catch{v.noop()}}p&&(e.processors=parseInt(p)||1),f&&d&&(e.cores=parseInt(d)||v.cores(),e.physicalCores=parseInt(f)||v.cores()),wa().then(m=>{e.cache=m,t(e)})}),vr){let i="",n=[];Ge.cpus()[0]&&Ge.cpus()[0].model&&(i=Ge.cpus()[0].model),Ce('export LC_ALL=C; lscpu; echo -n "Governor: "; cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor 2>/dev/null; echo; unset LC_ALL',function(o,a){o||(n=a.toString().split(`
`)),i=v.getValue(n,"model name")||i,i=v.getValue(n,"bios model name")||i;let l=i.split("@");if(e.brand=l[0].trim(),e.speed=l[1]?parseFloat(l[1].trim()):0,e.speed===0&&(e.brand.indexOf("AMD")>-1||e.brand.toLowerCase().indexOf("ryzen")>-1)&&(e.speed=yn(e.brand)),e.speed===0){let h=wn();h.avg!==0&&(e.speed=h.avg)}Zt=e.speed,e.speedMin=Math.round(parseFloat(v.getValue(n,"cpu min mhz").replace(/,/g,"."))/10)/100,e.speedMax=Math.round(parseFloat(v.getValue(n,"cpu max mhz").replace(/,/g,"."))/10)/100,e=us(e),e.vendor=Sn(v.getValue(n,"vendor id")),e.family=v.getValue(n,"cpu family"),e.model=v.getValue(n,"model:"),e.stepping=v.getValue(n,"stepping"),e.revision=v.getValue(n,"cpu revision"),e.cache.l1d=v.getValue(n,"l1d cache"),e.cache.l1d&&(e.cache.l1d=parseInt(e.cache.l1d)*(e.cache.l1d.indexOf("M")!==-1?1024*1024:e.cache.l1d.indexOf("K")!==-1?1024:1)),e.cache.l1i=v.getValue(n,"l1i cache"),e.cache.l1i&&(e.cache.l1i=parseInt(e.cache.l1i)*(e.cache.l1i.indexOf("M")!==-1?1024*1024:e.cache.l1i.indexOf("K")!==-1?1024:1)),e.cache.l2=v.getValue(n,"l2 cache"),e.cache.l2&&(e.cache.l2=parseInt(e.cache.l2)*(e.cache.l2.indexOf("M")!==-1?1024*1024:e.cache.l2.indexOf("K")!==-1?1024:1)),e.cache.l3=v.getValue(n,"l3 cache"),e.cache.l3&&(e.cache.l3=parseInt(e.cache.l3)*(e.cache.l3.indexOf("M")!==-1?1024*1024:e.cache.l3.indexOf("K")!==-1?1024:1));let u=v.getValue(n,"thread(s) per core")||"1",c=v.getValue(n,"socket(s)")||"1",p=parseInt(u,10),f=parseInt(c,10)||1,d=parseInt(v.getValue(n,"core(s) per socket"),10);if(e.physicalCores=d?d*f:e.cores/p,e.performanceCores=p>1?e.cores-e.physicalCores:e.cores,e.efficiencyCores=p>1?e.cores-p*e.performanceCores:0,e.processors=f,e.governor=v.getValue(n,"governor")||"",e.vendor==="ARM"){let h=cs.readFileSync("/proc/cpuinfo").toString().split(`
`),y=v.decodePiCpuinfo(h);y.model.toLowerCase().indexOf("raspberry")>=0&&(e.family=e.manufacturer,e.manufacturer=y.manufacturer,e.brand=y.processor,e.revision=y.revisionCode,e.socket="SOC")}let m=[];Ce('export LC_ALL=C; dmidecode \u2013t 4 2>/dev/null | grep "Upgrade: Socket"; unset LC_ALL',function(h,y){m=y.toString().split(`
`),m&&m.length&&(e.socket=v.getValue(m,"Upgrade").replace("Socket","").trim()||e.socket),t(e)})})}if(ds||ms||gs){let i="",n=[];Ge.cpus()[0]&&Ge.cpus()[0].model&&(i=Ge.cpus()[0].model),Ce("export LC_ALL=C; dmidecode -t 4; dmidecode -t 7 unset LC_ALL",function(o,a){let l=[];if(!o){let d=a.toString().split("# dmidecode"),m=d.length>1?d[1]:"";l=d.length>2?d[2].split("Cache Information"):[],n=m.split(`
`)}if(e.brand=i.split("@")[0].trim(),e.speed=i.split("@")[1]?parseFloat(i.split("@")[1].trim()):0,e.speed===0&&(e.brand.indexOf("AMD")>-1||e.brand.toLowerCase().indexOf("ryzen")>-1)&&(e.speed=yn(e.brand)),e.speed===0){let d=wn();d.avg!==0&&(e.speed=d.avg)}Zt=e.speed,e.speedMin=e.speed,e.speedMax=Math.round(parseFloat(v.getValue(n,"max speed").replace(/Mhz/g,""))/10)/100,e=us(e),e.vendor=Sn(v.getValue(n,"manufacturer"));let u=v.getValue(n,"signature");u=u.split(",");for(let d=0;d<u.length;d++)u[d]=u[d].trim();e.family=v.getValue(u,"Family"," ",!0),e.model=v.getValue(u,"Model"," ",!0),e.stepping=v.getValue(u,"Stepping"," ",!0),e.revision="";let c=parseFloat(v.getValue(n,"voltage"));e.voltage=isNaN(c)?"":c.toFixed(2);for(let d=0;d<l.length;d++){n=l[d].split(`
`);let m=v.getValue(n,"Socket Designation").toLowerCase().replace(" ","-").split("-");m=m.length?m[0]:"";let h=v.getValue(n,"Installed Size").split(" "),y=parseInt(h[0],10),g=h.length>1?h[1]:"kb";y=y*(g==="kb"?1024:g==="mb"?1024*1024:g==="gb"?1024*1024*1024:1),m&&(m==="l1"?(e.cache[m+"d"]=y/2,e.cache[m+"i"]=y/2):e.cache[m]=y)}e.socket=v.getValue(n,"Upgrade").replace("Socket","").trim();let p=v.getValue(n,"thread count").trim(),f=v.getValue(n,"core count").trim();f&&p&&(e.cores=parseInt(p,10),e.physicalCores=parseInt(f,10)),t(e)})}if(hs&&t(e),fs)try{let i=[];i.push(v.powerShell("Get-CimInstance Win32_processor | select Name, Revision, L2CacheSize, L3CacheSize, Manufacturer, MaxClockSpeed, Description, UpgradeMethod, Caption, NumberOfLogicalProcessors, NumberOfCores | fl")),i.push(v.powerShell("Get-CimInstance Win32_CacheMemory | select CacheType,InstalledSize,Level | fl")),i.push(v.powerShell("(Get-CimInstance Win32_ComputerSystem).HypervisorPresent")),Promise.all(i).then(n=>{let o=n[0].split(`\r
`),a=v.getValue(o,"name",":")||"";a.indexOf("@")>=0?(e.brand=a.split("@")[0].trim(),e.speed=a.split("@")[1]?parseFloat(a.split("@")[1].trim()):0,Zt=e.speed):(e.brand=a.trim(),e.speed=0),e=us(e),e.revision=v.getValue(o,"revision",":"),e.vendor=v.getValue(o,"manufacturer",":"),e.speedMax=Math.round(parseFloat(v.getValue(o,"maxclockspeed",":").replace(/,/g,"."))/10)/100,e.speed===0&&(e.brand.indexOf("AMD")>-1||e.brand.toLowerCase().indexOf("ryzen")>-1)&&(e.speed=yn(e.brand)),e.speed===0&&(e.speed=e.speedMax),e.speedMin=e.speed;let l=v.getValue(o,"description",":").split(" ");for(let h=0;h<l.length;h++)l[h].toLowerCase().startsWith("family")&&h+1<l.length&&l[h+1]&&(e.family=l[h+1]),l[h].toLowerCase().startsWith("model")&&h+1<l.length&&l[h+1]&&(e.model=l[h+1]),l[h].toLowerCase().startsWith("stepping")&&h+1<l.length&&l[h+1]&&(e.stepping=l[h+1]);let u=v.getValue(o,"UpgradeMethod",":");ha[u]&&(e.socket=ha[u]);let c=Jf(a);c&&(e.socket=c);let p=v.countLines(o,"Caption"),f=v.getValue(o,"NumberOfLogicalProcessors",":"),d=v.getValue(o,"NumberOfCores",":");p&&(e.processors=parseInt(p)||1),d&&f&&(e.cores=parseInt(f)||v.cores(),e.physicalCores=parseInt(d)||v.cores()),p>1&&(e.cores=e.cores*p,e.physicalCores=e.physicalCores*p),e.cache=xa(n[0],n[1]);let m=n[2]?n[2].toString().toLowerCase():"";e.virtualization=m.indexOf("true")!==-1,t(e)})}catch{t(e)}})})})}function Zf(t){return new Promise(r=>{process.nextTick(()=>{Qf().then(e=>{t&&t(e),r(e)})})})}ot.cpu=Zf;function wn(){let t=Ge.cpus(),r=999999999,e=0,s=0,i=[];if(t&&t.length){for(let n in t)if({}.hasOwnProperty.call(t,n)){let o=t[n].speed>100?(t[n].speed+1)/1e3:t[n].speed/10;s=s+o,o>e&&(e=o),o<r&&(r=o),i.push(parseFloat(o.toFixed(2)))}return s=s/t.length,{min:parseFloat(r.toFixed(2)),max:parseFloat(e.toFixed(2)),avg:parseFloat(s.toFixed(2)),cores:i}}else return{min:0,max:0,avg:0,cores:i}}function ed(t){return new Promise(r=>{process.nextTick(()=>{let e=wn();if(e.avg===0&&Zt!==0){let s=parseFloat(Zt);e={min:s,max:s,avg:s,cores:[]}}t&&t(e),r(e)})})}ot.cpuCurrentSpeed=ed;function td(t){return new Promise(r=>{process.nextTick(()=>{let e={main:null,cores:[],max:null,socket:[],chipset:null};if(vr){try{let n=xn('cat /sys/class/thermal/thermal_zone*/type  2>/dev/null; echo "-----"; cat /sys/class/thermal/thermal_zone*/temp 2>/dev/null;',v.execOptsLinux).toString().split(`-----
`);if(n.length===2){let o=n[0].split(`
`),a=n[1].split(`
`);for(let l=0;l<o.length;l++){let u=o[l].trim();u.startsWith("acpi")&&a[l]&&e.socket.push(Math.round(parseInt(a[l],10)/100)/10),u.startsWith("pch")&&a[l]&&(e.chipset=Math.round(parseInt(a[l],10)/100)/10)}}}catch{v.noop()}let s='for mon in /sys/class/hwmon/hwmon*; do for label in "$mon"/temp*_label; do if [ -f $label ]; then value=${label%_*}_input; echo $(cat "$label")___$(cat "$value"); fi; done; done;';try{Ce(s,function(i,n){n=n.toString();let o=n.toLowerCase().indexOf("tdie");o!==-1&&(n=n.substring(o));let a=n.split(`
`),l=0;if(a.forEach(u=>{let c=u.split("___"),p=c[0],f=c.length>1&&c[1]?c[1]:"0";f&&p&&p.toLowerCase()==="tctl"&&(l=e.main=Math.round(parseInt(f,10)/100)/10),f&&(p===void 0||p&&p.toLowerCase().startsWith("core"))?e.cores.push(Math.round(parseInt(f,10)/100)/10):f&&p&&e.main===null&&(p.toLowerCase().indexOf("package")>=0||p.toLowerCase().indexOf("physical")>=0||p.toLowerCase()==="tccd1")&&(e.main=Math.round(parseInt(f,10)/100)/10)}),l&&e.main===null&&(e.main=l),e.cores.length>0){e.main===null&&(e.main=Math.round(e.cores.reduce((c,p)=>c+p,0)/e.cores.length));let u=Math.max.apply(Math,e.cores);e.max=u>e.main?u:e.main}if(e.main!==null){e.max===null&&(e.max=e.main),t&&t(e),r(e);return}Ce("sensors",function(u,c){if(!u){let p=c.toString().split(`
`),f=null,d=!0,m="";if(p.forEach(function(h){h.trim()===""?d=!0:d&&(h.trim().toLowerCase().startsWith("acpi")&&(m="acpi"),h.trim().toLowerCase().startsWith("pch")&&(m="pch"),h.trim().toLowerCase().startsWith("core")&&(m="core"),d=!1);let y=/[+-]([^]*)/g,g=h.match(y),S=h.split(":")[0].toUpperCase();m==="acpi"?S.indexOf("TEMP")!==-1&&e.socket.push(parseFloat(g)):m==="pch"&&S.indexOf("TEMP")!==-1&&!e.chipset&&(e.chipset=parseFloat(g)),(S.indexOf("PHYSICAL")!==-1||S.indexOf("PACKAGE")!==-1)&&(e.main=parseFloat(g)),S.indexOf("CORE ")!==-1&&e.cores.push(parseFloat(g)),S.indexOf("TDIE")!==-1&&f===null&&(f=parseFloat(g))}),e.cores.length>0){e.main=Math.round(e.cores.reduce((y,g)=>y+g,0)/e.cores.length);let h=Math.max.apply(Math,e.cores);e.max=h>e.main?h:e.main}else e.main===null&&f!==null&&(e.main=f,e.max=f);if(e.main!==null||e.max!==null){t&&t(e),r(e);return}}cs.stat("/sys/class/thermal/thermal_zone0/temp",function(p){p===null?cs.readFile("/sys/class/thermal/thermal_zone0/temp",function(f,d){if(!f){let m=d.toString().split(`
`);m.length>0&&(e.main=parseFloat(m[0])/1e3,e.max=e.main)}t&&t(e),r(e)}):Ce("/opt/vc/bin/vcgencmd measure_temp",function(f,d){if(!f){let m=d.toString().split(`
`);m.length>0&&m[0].indexOf("=")&&(e.main=parseFloat(m[0].split("=")[1]),e.max=e.main)}t&&t(e),r(e)})})})})}catch{t&&t(e),r(e)}}if((ds||ms||gs)&&Ce("sysctl dev.cpu | grep temp",function(s,i){if(!s){let n=i.toString().split(`
`),o=0;n.forEach(function(a){let l=a.split(":");if(l.length>1){let u=parseFloat(l[1].replace(",","."));u>e.max&&(e.max=u),o=o+u,e.cores.push(u)}}),e.cores.length&&(e.main=Math.round(o/e.cores.length*100)/100)}t&&t(e),r(e)}),ps){let s=null;try{s=require("osx-temperature-sensor")}catch{s=null}if(s&&(e=s.cpuTemperature(),e.main&&(e.main=Math.round(e.main*100)/100),e.max&&(e.max=Math.round(e.max*100)/100),e.cores&&e.cores.length))for(let i=0;i<e.cores.length;i++)e.cores[i]=Math.round(e.cores[i]*100)/100;t&&t(e),r(e)}if(hs&&(t&&t(e),r(e)),fs)try{v.powerShell('Get-CimInstance MSAcpi_ThermalZoneTemperature -Namespace "root/wmi" | Select CurrentTemperature').then((s,i)=>{if(!i){let n=0;s.split(`\r
`).filter(a=>a.trim()!=="").filter((a,l)=>l>0).forEach(function(a){let l=(parseInt(a,10)-2732)/10;isNaN(l)||(n=n+l,l>e.max&&(e.max=l),e.cores.push(l))}),e.cores.length&&(e.main=n/e.cores.length)}t&&t(e),r(e)})}catch{t&&t(e),r(e)}})})}ot.cpuTemperature=td;function Sa(t){return new Promise(r=>{process.nextTick(()=>{let e="";if(fs)try{Ce('reg query "HKEY_LOCAL_MACHINE\\HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0" /v FeatureSet',v.execOptsWin,function(s,i){if(!s){let n=i.split("0x").pop().trim(),o=parseInt(n,16).toString(2),a="0".repeat(32-o.length)+o,l=["fpu","vme","de","pse","tsc","msr","pae","mce","cx8","apic","","sep","mtrr","pge","mca","cmov","pat","pse-36","psn","clfsh","","ds","acpi","mmx","fxsr","sse","sse2","ss","htt","tm","ia64","pbe"];for(let u=0;u<l.length;u++)a[u]==="1"&&l[u]!==""&&(e+=" "+l[u]);e=e.trim().toLowerCase()}t&&t(e),r(e)})}catch{t&&t(e),r(e)}if(vr)try{Ce("export LC_ALL=C; lscpu; unset LC_ALL",function(s,i){s||i.toString().split(`
`).forEach(function(o){o.split(":")[0].toUpperCase().indexOf("FLAGS")!==-1&&(e=o.split(":")[1].trim().toLowerCase())}),e?(t&&t(e),r(e)):cs.readFile("/proc/cpuinfo",function(n,o){if(!n){let a=o.toString().split(`
`);e=v.getValue(a,"features",":",!0).toLowerCase()}t&&t(e),r(e)})})}catch{t&&t(e),r(e)}(ds||ms||gs)&&Ce("export LC_ALL=C; dmidecode -t 4 2>/dev/null; unset LC_ALL",function(s,i){let n=[];if(!s){let o=i.toString().split("	Flags:");(o.length>1?o[1].split("	Version:")[0].split(`
`):[]).forEach(function(l){let u=(l.indexOf("(")?l.split("(")[0].toLowerCase():"").trim().replace(/\t/g,"");u&&n.push(u)})}e=n.join(" ").trim().toLowerCase(),t&&t(e),r(e)}),ps&&Ce("sysctl machdep.cpu.features",function(s,i){if(!s){let n=i.toString().split(`
`);n.length>0&&n[0].indexOf("machdep.cpu.features:")!==-1&&(e=n[0].split(":")[1].trim().toLowerCase())}t&&t(e),r(e)}),hs&&(t&&t(e),r(e))})})}ot.cpuFlags=Sa;function wa(t){return new Promise(r=>{process.nextTick(()=>{let e={l1d:null,l1i:null,l2:null,l3:null};if(vr)try{Ce("export LC_ALL=C; lscpu; unset LC_ALL",function(s,i){s||i.toString().split(`
`).forEach(function(o){let a=o.split(":");a[0].toUpperCase().indexOf("L1D CACHE")!==-1&&(e.l1d=parseInt(a[1].trim())*(a[1].indexOf("M")!==-1?1024*1024:a[1].indexOf("K")!==-1?1024:1)),a[0].toUpperCase().indexOf("L1I CACHE")!==-1&&(e.l1i=parseInt(a[1].trim())*(a[1].indexOf("M")!==-1?1024*1024:a[1].indexOf("K")!==-1?1024:1)),a[0].toUpperCase().indexOf("L2 CACHE")!==-1&&(e.l2=parseInt(a[1].trim())*(a[1].indexOf("M")!==-1?1024*1024:a[1].indexOf("K")!==-1?1024:1)),a[0].toUpperCase().indexOf("L3 CACHE")!==-1&&(e.l3=parseInt(a[1].trim())*(a[1].indexOf("M")!==-1?1024*1024:a[1].indexOf("K")!==-1?1024:1))}),t&&t(e),r(e)})}catch{t&&t(e),r(e)}if((ds||ms||gs)&&Ce("export LC_ALL=C; dmidecode -t 7 2>/dev/null; unset LC_ALL",function(s,i){let n=[];s||(n=i.toString().split("Cache Information"),n.shift());for(let o=0;o<n.length;o++){let a=n[o].split(`
`),l=v.getValue(a,"Socket Designation").toLowerCase().replace(" ","-").split("-");l=l.length?l[0]:"";let u=v.getValue(a,"Installed Size").split(" "),c=parseInt(u[0],10),p=u.length>1?u[1]:"kb";c=c*(p==="kb"?1024:p==="mb"?1024*1024:p==="gb"?1024*1024*1024:1),l&&(l==="l1"?(e.cache[l+"d"]=c/2,e.cache[l+"i"]=c/2):e.cache[l]=c)}t&&t(e),r(e)}),ps&&Ce("sysctl hw.l1icachesize hw.l1dcachesize hw.l2cachesize hw.l3cachesize",function(s,i){s||i.toString().split(`
`).forEach(function(o){let a=o.split(":");a[0].toLowerCase().indexOf("hw.l1icachesize")!==-1&&(e.l1d=parseInt(a[1].trim())*(a[1].indexOf("K")!==-1?1024:1)),a[0].toLowerCase().indexOf("hw.l1dcachesize")!==-1&&(e.l1i=parseInt(a[1].trim())*(a[1].indexOf("K")!==-1?1024:1)),a[0].toLowerCase().indexOf("hw.l2cachesize")!==-1&&(e.l2=parseInt(a[1].trim())*(a[1].indexOf("K")!==-1?1024:1)),a[0].toLowerCase().indexOf("hw.l3cachesize")!==-1&&(e.l3=parseInt(a[1].trim())*(a[1].indexOf("K")!==-1?1024:1))}),t&&t(e),r(e)}),hs&&(t&&t(e),r(e)),fs)try{let s=[];s.push(v.powerShell("Get-CimInstance Win32_processor | select L2CacheSize, L3CacheSize | fl")),s.push(v.powerShell("Get-CimInstance Win32_CacheMemory | select CacheType,InstalledSize,Level | fl")),Promise.all(s).then(i=>{e=xa(i[0],i[1]),t&&t(e),r(e)})}catch{t&&t(e),r(e)}})})}function xa(t,r){let e={l1d:null,l1i:null,l2:null,l3:null},s=t.split(`\r
`);e.l1d=0,e.l1i=0,e.l2=v.getValue(s,"l2cachesize",":"),e.l3=v.getValue(s,"l3cachesize",":"),e.l2?e.l2=parseInt(e.l2,10)*1024:e.l2=0,e.l3?e.l3=parseInt(e.l3,10)*1024:e.l3=0;let i=r.split(/\n\s*\n/),n=0,o=0,a=0;return i.forEach(function(l){let u=l.split(`\r
`),c=v.getValue(u,"CacheType"),p=v.getValue(u,"Level"),f=v.getValue(u,"InstalledSize");p==="3"&&c==="3"&&(e.l1i=e.l1i+parseInt(f,10)*1024),p==="3"&&c==="4"&&(e.l1d=e.l1d+parseInt(f,10)*1024),p==="3"&&c==="5"&&(n=parseInt(f,10)/2,o=parseInt(f,10)/2),p==="4"&&c==="5"&&(a=a+parseInt(f,10)*1024)}),!e.l1i&&!e.l1d&&(e.l1i=n,e.l1d=o),a&&(e.l2=a),e}ot.cpuCache=wa;function rd(){return new Promise(t=>{process.nextTick(()=>{let r=Ge.loadavg().map(function(n){return n/v.cores()}),e=parseFloat(Math.max.apply(Math,r).toFixed(2)),s={};if(Date.now()-k.ms>=200){k.ms=Date.now();let n=Ge.cpus().map(function(g){return g.times.steal=0,g.times.guest=0,g}),o=0,a=0,l=0,u=0,c=0,p=0,f=0,d=[];if(gn=n&&n.length?n.length:0,vr)try{let g=xn("cat /proc/stat 2>/dev/null | grep cpu",v.execOptsLinux).toString().split(`
`);if(g.length>1&&(g.shift(),g.length===n.length))for(let S=0;S<g.length;S++){let w=g[S].split(" ");if(w.length>=10){let x=parseFloat(w[8])||0,C=parseFloat(w[9])||0;n[S].times.steal=x,n[S].times.guest=C}}}catch{v.noop()}for(let g=0;g<gn;g++){let S=n[g].times;o+=S.user,a+=S.sys,l+=S.nice,c+=S.idle,u+=S.irq,p+=S.steal||0,f+=S.guest||0;let w=O&&O[g]&&O[g].totalTick?O[g].totalTick:0,x=O&&O[g]&&O[g].totalLoad?O[g].totalLoad:0,C=O&&O[g]&&O[g].user?O[g].user:0,b=O&&O[g]&&O[g].sys?O[g].sys:0,T=O&&O[g]&&O[g].nice?O[g].nice:0,Y=O&&O[g]&&O[g].idle?O[g].idle:0,E=O&&O[g]&&O[g].irq?O[g].irq:0,j=O&&O[g]&&O[g].steal?O[g].steal:0,W=O&&O[g]&&O[g].guest?O[g].guest:0;O[g]=S,O[g].totalTick=O[g].user+O[g].sys+O[g].nice+O[g].irq+O[g].steal+O[g].guest+O[g].idle,O[g].totalLoad=O[g].user+O[g].sys+O[g].nice+O[g].irq+O[g].steal+O[g].guest,O[g].currentTick=O[g].totalTick-w,O[g].load=O[g].totalLoad-x,O[g].loadUser=O[g].user-C,O[g].loadSystem=O[g].sys-b,O[g].loadNice=O[g].nice-T,O[g].loadIdle=O[g].idle-Y,O[g].loadIrq=O[g].irq-E,O[g].loadSteal=O[g].steal-j,O[g].loadGuest=O[g].guest-W,d[g]={},d[g].load=O[g].load/O[g].currentTick*100,d[g].loadUser=O[g].loadUser/O[g].currentTick*100,d[g].loadSystem=O[g].loadSystem/O[g].currentTick*100,d[g].loadNice=O[g].loadNice/O[g].currentTick*100,d[g].loadIdle=O[g].loadIdle/O[g].currentTick*100,d[g].loadIrq=O[g].loadIrq/O[g].currentTick*100,d[g].loadSteal=O[g].loadSteal/O[g].currentTick*100,d[g].loadGuest=O[g].loadGuest/O[g].currentTick*100,d[g].rawLoad=O[g].load,d[g].rawLoadUser=O[g].loadUser,d[g].rawLoadSystem=O[g].loadSystem,d[g].rawLoadNice=O[g].loadNice,d[g].rawLoadIdle=O[g].loadIdle,d[g].rawLoadIrq=O[g].loadIrq,d[g].rawLoadSteal=O[g].loadSteal,d[g].rawLoadGuest=O[g].loadGuest}let m=o+a+l+u+p+f+c,h=o+a+l+u+p+f,y=m-k.tick;s={avgLoad:e,currentLoad:(h-k.load)/y*100,currentLoadUser:(o-k.user)/y*100,currentLoadSystem:(a-k.system)/y*100,currentLoadNice:(l-k.nice)/y*100,currentLoadIdle:(c-k.idle)/y*100,currentLoadIrq:(u-k.irq)/y*100,currentLoadSteal:(p-k.steal)/y*100,currentLoadGuest:(f-k.guest)/y*100,rawCurrentLoad:h-k.load,rawCurrentLoadUser:o-k.user,rawCurrentLoadSystem:a-k.system,rawCurrentLoadNice:l-k.nice,rawCurrentLoadIdle:c-k.idle,rawCurrentLoadIrq:u-k.irq,rawCurrentLoadSteal:p-k.steal,rawCurrentLoadGuest:f-k.guest,cpus:d},k={user:o,nice:l,system:a,idle:c,irq:u,steal:p,guest:f,tick:m,load:h,ms:k.ms,currentLoad:s.currentLoad,currentLoadUser:s.currentLoadUser,currentLoadSystem:s.currentLoadSystem,currentLoadNice:s.currentLoadNice,currentLoadIdle:s.currentLoadIdle,currentLoadIrq:s.currentLoadIrq,currentLoadSteal:s.currentLoadSteal,currentLoadGuest:s.currentLoadGuest,rawCurrentLoad:s.rawCurrentLoad,rawCurrentLoadUser:s.rawCurrentLoadUser,rawCurrentLoadSystem:s.rawCurrentLoadSystem,rawCurrentLoadNice:s.rawCurrentLoadNice,rawCurrentLoadIdle:s.rawCurrentLoadIdle,rawCurrentLoadIrq:s.rawCurrentLoadIrq,rawCurrentLoadSteal:s.rawCurrentLoadSteal,rawCurrentLoadGuest:s.rawCurrentLoadGuest}}else{let n=[];for(let o=0;o<gn;o++)n[o]={},n[o].load=O[o].load/O[o].currentTick*100,n[o].loadUser=O[o].loadUser/O[o].currentTick*100,n[o].loadSystem=O[o].loadSystem/O[o].currentTick*100,n[o].loadNice=O[o].loadNice/O[o].currentTick*100,n[o].loadIdle=O[o].loadIdle/O[o].currentTick*100,n[o].loadIrq=O[o].loadIrq/O[o].currentTick*100,n[o].rawLoad=O[o].load,n[o].rawLoadUser=O[o].loadUser,n[o].rawLoadSystem=O[o].loadSystem,n[o].rawLoadNice=O[o].loadNice,n[o].rawLoadIdle=O[o].loadIdle,n[o].rawLoadIrq=O[o].loadIrq,n[o].rawLoadSteal=O[o].loadSteal,n[o].rawLoadGuest=O[o].loadGuest;s={avgLoad:e,currentLoad:k.currentLoad,currentLoadUser:k.currentLoadUser,currentLoadSystem:k.currentLoadSystem,currentLoadNice:k.currentLoadNice,currentLoadIdle:k.currentLoadIdle,currentLoadIrq:k.currentLoadIrq,currentLoadSteal:k.currentLoadSteal,currentLoadGuest:k.currentLoadGuest,rawCurrentLoad:k.rawCurrentLoad,rawCurrentLoadUser:k.rawCurrentLoadUser,rawCurrentLoadSystem:k.rawCurrentLoadSystem,rawCurrentLoadNice:k.rawCurrentLoadNice,rawCurrentLoadIdle:k.rawCurrentLoadIdle,rawCurrentLoadIrq:k.rawCurrentLoadIrq,rawCurrentLoadSteal:k.rawCurrentLoadSteal,rawCurrentLoadGuest:k.rawCurrentLoadGuest,cpus:n}}t(s)})})}function sd(t){return new Promise(r=>{process.nextTick(()=>{rd().then(e=>{t&&t(e),r(e)})})})}ot.currentLoad=sd;function nd(){return new Promise(t=>{process.nextTick(()=>{let r=Ge.cpus(),e=0,s=0,i=0,n=0,o=0,a=0;if(r&&r.length){for(let u=0,c=r.length;u<c;u++){let p=r[u].times;e+=p.user,s+=p.sys,i+=p.nice,n+=p.irq,o+=p.idle}let l=o+n+i+s+e;a=(l-o)/l*100}t(a)})})}function id(t){return new Promise(r=>{process.nextTick(()=>{nd().then(e=>{t&&t(e),r(e)})})})}ot.fullLoad=id});var Da=M(Cn=>{"use strict";var He=require("os"),Pr=require("child_process").exec,ys=require("child_process").execSync,P=oe(),od=require("fs"),at=process.platform,La=at==="linux"||at==="android",_a=at==="darwin",Ea=at==="win32",va=at==="freebsd",Pa=at==="openbsd",Va=at==="netbsd",Ta=at==="sunos",Ia={"0x014F":"Transcend Information","0x2C00":"Micron Technology Inc.","0x802C":"Micron Technology Inc.","0x80AD":"Hynix Semiconductor Inc.","0x80CE":"Samsung Electronics Inc.","0xAD00":"Hynix Semiconductor Inc.","0xCE00":"Samsung Electronics Inc.","0x02FE":"Elpida","0x5105":"Qimonda AG i. In.","0x8551":"Qimonda AG i. In.","0x859B":"Crucial","0x04CD":"G-Skill"},Oa={"017A":"Apacer","0198":"HyperX","029E":"Corsair","04CB":"A-DATA","04CD":"G-Skill","059B":"Crucial","00CE":"Samsung",1315:"Crucial","014F":"Transcend Information","2C00":"Micron Technology Inc.","802C":"Micron Technology Inc.","80AD":"Hynix Semiconductor Inc.","80CE":"Samsung Electronics Inc.",AD00:"Hynix Semiconductor Inc.",CE00:"Samsung Electronics Inc.","02FE":"Elpida",5105:"Qimonda AG i. In.",8551:"Qimonda AG i. In.","859B":"Crucial"};function ad(t){return new Promise(r=>{process.nextTick(()=>{let e={total:He.totalmem(),free:He.freemem(),used:He.totalmem()-He.freemem(),active:He.totalmem()-He.freemem(),available:He.freemem(),buffers:0,cached:0,slab:0,buffcache:0,swaptotal:0,swapused:0,swapfree:0,writeback:null,dirty:null};if(La)try{od.readFile("/proc/meminfo",function(s,i){if(!s){let n=i.toString().split(`
`);e.total=parseInt(P.getValue(n,"memtotal"),10),e.total=e.total?e.total*1024:He.totalmem(),e.free=parseInt(P.getValue(n,"memfree"),10),e.free=e.free?e.free*1024:He.freemem(),e.used=e.total-e.free,e.buffers=parseInt(P.getValue(n,"buffers"),10),e.buffers=e.buffers?e.buffers*1024:0,e.cached=parseInt(P.getValue(n,"cached"),10),e.cached=e.cached?e.cached*1024:0,e.slab=parseInt(P.getValue(n,"slab"),10),e.slab=e.slab?e.slab*1024:0,e.buffcache=e.buffers+e.cached+e.slab;let o=parseInt(P.getValue(n,"memavailable"),10);e.available=o?o*1024:e.free+e.buffcache,e.active=e.total-e.available,e.swaptotal=parseInt(P.getValue(n,"swaptotal"),10),e.swaptotal=e.swaptotal?e.swaptotal*1024:0,e.swapfree=parseInt(P.getValue(n,"swapfree"),10),e.swapfree=e.swapfree?e.swapfree*1024:0,e.swapused=e.swaptotal-e.swapfree,e.writeback=parseInt(P.getValue(n,"writeback"),10),e.writeback=e.writeback?e.writeback*1024:0,e.dirty=parseInt(P.getValue(n,"dirty"),10),e.dirty=e.dirty?e.dirty*1024:0}t&&t(e),r(e)})}catch{t&&t(e),r(e)}if(va||Pa||Va)try{Pr("/sbin/sysctl hw.realmem hw.physmem vm.stats.vm.v_page_count vm.stats.vm.v_wire_count vm.stats.vm.v_active_count vm.stats.vm.v_inactive_count vm.stats.vm.v_cache_count vm.stats.vm.v_free_count vm.stats.vm.v_page_size",function(s,i){if(!s){let n=i.toString().split(`
`),o=parseInt(P.getValue(n,"vm.stats.vm.v_page_size"),10),a=parseInt(P.getValue(n,"vm.stats.vm.v_inactive_count"),10)*o,l=parseInt(P.getValue(n,"vm.stats.vm.v_cache_count"),10)*o;e.total=parseInt(P.getValue(n,"hw.realmem"),10),isNaN(e.total)&&(e.total=parseInt(P.getValue(n,"hw.physmem"),10)),e.free=parseInt(P.getValue(n,"vm.stats.vm.v_free_count"),10)*o,e.buffcache=a+l,e.available=e.buffcache+e.free,e.active=e.total-e.free-e.buffcache,e.swaptotal=0,e.swapfree=0,e.swapused=0}t&&t(e),r(e)})}catch{t&&t(e),r(e)}if(Ta&&(t&&t(e),r(e)),_a){let s=4096;try{s=P.toInt(ys("sysctl -n vm.pagesize").toString())||s}catch{P.noop()}try{Pr('vm_stat 2>/dev/null | grep "Pages active"',function(i,n){if(!i){let o=n.toString().split(`
`);e.active=parseInt(o[0].split(":")[1],10)*s,e.buffcache=e.used-e.active,e.available=e.free+e.buffcache}Pr("sysctl -n vm.swapusage 2>/dev/null",function(o,a){if(!o){let l=a.toString().split(`
`);l.length>0&&l[0].replace(/,/g,".").replace(/M/g,"").trim().split("  ").forEach(p=>{p.toLowerCase().indexOf("total")!==-1&&(e.swaptotal=parseFloat(p.split("=")[1].trim())*1024*1024),p.toLowerCase().indexOf("used")!==-1&&(e.swapused=parseFloat(p.split("=")[1].trim())*1024*1024),p.toLowerCase().indexOf("free")!==-1&&(e.swapfree=parseFloat(p.split("=")[1].trim())*1024*1024)})}t&&t(e),r(e)})})}catch{t&&t(e),r(e)}}if(Ea){let s=0,i=0;try{P.powerShell("Get-CimInstance Win32_PageFileUsage | Select AllocatedBaseSize, CurrentUsage").then((n,o)=>{o||n.split(`\r
`).filter(l=>l.trim()!=="").filter((l,u)=>u>0).forEach(function(l){l!==""&&(l=l.trim().split(/\s\s+/),s=s+(parseInt(l[0],10)||0),i=i+(parseInt(l[1],10)||0))}),e.swaptotal=s*1024*1024,e.swapused=i*1024*1024,e.swapfree=e.swaptotal-e.swapused,t&&t(e),r(e)})}catch{t&&t(e),r(e)}}})})}Cn.mem=ad;function ld(t){function r(s){return{}.hasOwnProperty.call(Ia,s)?Ia[s]:s}function e(s){let i=s.replace("0x","").toUpperCase();return i.length===4&&{}.hasOwnProperty.call(Oa,i)?Oa[i]:s}return new Promise(s=>{process.nextTick(()=>{let i=[];if((La||va||Pa||Va)&&Pr('export LC_ALL=C; dmidecode -t memory 2>/dev/null | grep -iE "Size:|Type|Speed|Manufacturer|Form Factor|Locator|Memory Device|Serial Number|Voltage|Part Number"; unset LC_ALL',function(n,o){if(!n){let a=o.toString().split("Memory Device");a.shift(),a.forEach(function(l){let u=l.split(`
`),c=P.getValue(u,"Size"),p=c.indexOf("GB")>=0?parseInt(c,10)*1024*1024*1024:parseInt(c,10)*1024*1024,f=P.getValue(u,"Bank Locator");if(f.toLowerCase().indexOf("bad")>=0&&(f=""),parseInt(P.getValue(u,"Size"),10)>0){let d=P.toInt(P.getValue(u,"Total Width")),m=P.toInt(P.getValue(u,"Data Width"));i.push({size:p,bank:f,type:P.getValue(u,"Type:"),ecc:m&&d?d>m:!1,clockSpeed:P.getValue(u,"Configured Clock Speed:")?parseInt(P.getValue(u,"Configured Clock Speed:"),10):P.getValue(u,"Speed:")?parseInt(P.getValue(u,"Speed:"),10):null,formFactor:P.getValue(u,"Form Factor:"),manufacturer:e(P.getValue(u,"Manufacturer:")),partNum:P.getValue(u,"Part Number:"),serialNum:P.getValue(u,"Serial Number:"),voltageConfigured:parseFloat(P.getValue(u,"Configured Voltage:"))||null,voltageMin:parseFloat(P.getValue(u,"Minimum Voltage:"))||null,voltageMax:parseFloat(P.getValue(u,"Maximum Voltage:"))||null})}else i.push({size:0,bank:f,type:"Empty",ecc:null,clockSpeed:0,formFactor:P.getValue(u,"Form Factor:"),partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})})}if(!i.length){i.push({size:He.totalmem(),bank:"",type:"",ecc:null,clockSpeed:0,formFactor:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null});try{let a=ys("cat /proc/cpuinfo 2>/dev/null",P.execOptsLinux),l=a.toString().split(`
`),u=P.getValue(l,"hardware",":",!0).toUpperCase(),c=P.getValue(l,"revision",":",!0).toLowerCase();if(u==="BCM2835"||u==="BCM2708"||u==="BCM2709"||u==="BCM2835"||u==="BCM2837"){let p={0:400,1:450,2:450,3:3200};i[0].type="LPDDR2",i[0].type=c&&c[2]&&c[2]==="3"?"LPDDR4":i[0].type,i[0].ecc=!1,i[0].clockSpeed=c&&c[2]&&p[c[2]]||400,i[0].clockSpeed=c&&c[4]&&c[4]==="d"?500:i[0].clockSpeed,i[0].formFactor="SoC",a=ys("vcgencmd get_config sdram_freq 2>/dev/null",P.execOptsLinux),l=a.toString().split(`
`);let f=parseInt(P.getValue(l,"sdram_freq","=",!0),10)||0;f&&(i[0].clockSpeed=f),a=ys("vcgencmd measure_volts sdram_p 2>/dev/null",P.execOptsLinux),l=a.toString().split(`
`);let d=parseFloat(P.getValue(l,"volt","=",!0))||0;d&&(i[0].voltageConfigured=d,i[0].voltageMin=d,i[0].voltageMax=d)}}catch{P.noop()}}t&&t(i),s(i)}),_a&&Pr("system_profiler SPMemoryDataType",function(n,o){if(!n){let a=o.toString().split(`
`),l=P.getValue(a,"ecc",":",!0).toLowerCase(),u=o.toString().split("        BANK "),c=!0;u.length===1&&(u=o.toString().split("        DIMM"),c=!1),u.shift(),u.forEach(function(p){let f=p.split(`
`),d=(c?"BANK ":"DIMM")+f[0].trim().split("/")[0],m=parseInt(P.getValue(f,"          Size"));m?i.push({size:m*1024*1024*1024,bank:d,type:P.getValue(f,"          Type:"),ecc:l?l==="enabled":null,clockSpeed:parseInt(P.getValue(f,"          Speed:"),10),formFactor:"",manufacturer:r(P.getValue(f,"          Manufacturer:")),partNum:P.getValue(f,"          Part Number:"),serialNum:P.getValue(f,"          Serial Number:"),voltageConfigured:null,voltageMin:null,voltageMax:null}):i.push({size:0,bank:d,type:"Empty",ecc:null,clockSpeed:0,formFactor:"",manufacturer:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})})}if(!i.length){let a=o.toString().split(`
`),l=parseInt(P.getValue(a,"      Memory:")),u=P.getValue(a,"      Type:");l&&u&&i.push({size:l*1024*1024*1024,bank:"0",type:u,ecc:!1,clockSpeed:0,formFactor:"",manufacturer:"Apple",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})}t&&t(i),s(i)}),Ta&&(t&&t(i),s(i)),Ea){let n="Unknown|Other|DRAM|Synchronous DRAM|Cache DRAM|EDO|EDRAM|VRAM|SRAM|RAM|ROM|FLASH|EEPROM|FEPROM|EPROM|CDRAM|3DRAM|SDRAM|SGRAM|RDRAM|DDR|DDR2|DDR2 FB-DIMM|Reserved|DDR3|FBD2|DDR4|LPDDR|LPDDR2|LPDDR3|LPDDR4|Logical non-volatile device|HBM|HBM2|DDR5|LPDDR5".split("|"),o="Unknown|Other|SIP|DIP|ZIP|SOJ|Proprietary|SIMM|DIMM|TSOP|PGA|RIMM|SODIMM|SRIMM|SMD|SSMP|QFP|TQFP|SOIC|LCC|PLCC|BGA|FPBGA|LGA".split("|");try{P.powerShell("Get-CimInstance Win32_PhysicalMemory | select DataWidth,TotalWidth,Capacity,BankLabel,MemoryType,SMBIOSMemoryType,ConfiguredClockSpeed,FormFactor,Manufacturer,PartNumber,SerialNumber,ConfiguredVoltage,MinVoltage,MaxVoltage,Tag | fl").then((a,l)=>{if(!l){let u=a.toString().split(/\n\s*\n/);u.shift(),u.forEach(function(c){let p=c.split(`\r
`),f=P.toInt(P.getValue(p,"DataWidth",":")),d=P.toInt(P.getValue(p,"TotalWidth",":")),m=parseInt(P.getValue(p,"Capacity",":"),10)||0,h=P.getValue(p,"Tag",":"),y=P.splitByNumber(h);m&&i.push({size:m,bank:P.getValue(p,"BankLabel",":")+(y[1]?"/"+y[1]:""),type:n[parseInt(P.getValue(p,"MemoryType",":"),10)||parseInt(P.getValue(p,"SMBIOSMemoryType",":"),10)],ecc:f&&d?d>f:!1,clockSpeed:parseInt(P.getValue(p,"ConfiguredClockSpeed",":"),10)||parseInt(P.getValue(p,"Speed",":"),10)||0,formFactor:o[parseInt(P.getValue(p,"FormFactor",":"),10)||0],manufacturer:P.getValue(p,"Manufacturer",":"),partNum:P.getValue(p,"PartNumber",":"),serialNum:P.getValue(p,"SerialNumber",":"),voltageConfigured:(parseInt(P.getValue(p,"ConfiguredVoltage",":"),10)||0)/1e3,voltageMin:(parseInt(P.getValue(p,"MinVoltage",":"),10)||0)/1e3,voltageMax:(parseInt(P.getValue(p,"MaxVoltage",":"),10)||0)/1e3})})}t&&t(i),s(i)})}catch{t&&t(i),s(i)}}})})}Cn.memLayout=ld});var Ma=M((fh,Aa)=>{"use strict";var Na=require("child_process").exec,er=require("fs"),z=oe(),lt=process.platform,ud=lt==="linux"||lt==="android",cd=lt==="darwin",pd=lt==="win32",fd=lt==="freebsd",dd=lt==="openbsd",md=lt==="netbsd",gd=lt==="sunos";function hd(t,r,e){let s={},i=z.getValue(t,"BatteryStatus",":").trim();if(i>=0){let n=i?parseInt(i):0;s.status=n,s.hasBattery=!0,s.maxCapacity=e||parseInt(z.getValue(t,"DesignCapacity",":")||0),s.designedCapacity=parseInt(z.getValue(t,"DesignCapacity",":")||r),s.voltage=parseInt(z.getValue(t,"DesignVoltage",":")||0)/1e3,s.capacityUnit="mWh",s.percent=parseInt(z.getValue(t,"EstimatedChargeRemaining",":")||0),s.currentCapacity=parseInt(s.maxCapacity*s.percent/100),s.isCharging=n>=6&&n<=9||n===11||n!==3&&n!==1&&s.percent<100,s.acConnected=s.isCharging||n===2,s.model=z.getValue(t,"DeviceID",":")}else s.status=-1;return s}Aa.exports=function(t){return new Promise(r=>{process.nextTick(()=>{let e={hasBattery:!1,cycleCount:0,isCharging:!1,designedCapacity:0,maxCapacity:0,currentCapacity:0,voltage:0,capacityUnit:"",percent:0,timeRemaining:null,acConnected:!0,type:"",model:"",manufacturer:"",serial:""};if(ud){let s="";er.existsSync("/sys/class/power_supply/BAT1/uevent")?s="/sys/class/power_supply/BAT1/":er.existsSync("/sys/class/power_supply/BAT0/uevent")&&(s="/sys/class/power_supply/BAT0/");let i=!1,n="";er.existsSync("/sys/class/power_supply/AC/online")?n="/sys/class/power_supply/AC/online":er.existsSync("/sys/class/power_supply/AC0/online")&&(n="/sys/class/power_supply/AC0/online"),n&&(i=er.readFileSync(n).toString().trim()==="1"),s?er.readFile(s+"uevent",function(o,a){if(o)t&&t(e),r(e);else{let l=a.toString().split(`
`);e.isCharging=z.getValue(l,"POWER_SUPPLY_STATUS","=").toLowerCase()==="charging",e.acConnected=i||e.isCharging,e.voltage=parseInt("0"+z.getValue(l,"POWER_SUPPLY_VOLTAGE_NOW","="),10)/1e6,e.capacityUnit=e.voltage?"mWh":"mAh",e.cycleCount=parseInt("0"+z.getValue(l,"POWER_SUPPLY_CYCLE_COUNT","="),10),e.maxCapacity=Math.round(parseInt("0"+z.getValue(l,"POWER_SUPPLY_CHARGE_FULL","=",!0,!0),10)/1e3*(e.voltage||1));let u=parseInt("0"+z.getValue(l,"POWER_SUPPLY_VOLTAGE_MIN_DESIGN","="),10)/1e6;e.designedCapacity=Math.round(parseInt("0"+z.getValue(l,"POWER_SUPPLY_CHARGE_FULL_DESIGN","=",!0,!0),10)/1e3*(u||e.voltage||1)),e.currentCapacity=Math.round(parseInt("0"+z.getValue(l,"POWER_SUPPLY_CHARGE_NOW","="),10)/1e3*(e.voltage||1)),e.maxCapacity||(e.maxCapacity=parseInt("0"+z.getValue(l,"POWER_SUPPLY_ENERGY_FULL","=",!0,!0),10)/1e3,e.designedCapacity=parseInt("0"+z.getValue(l,"POWER_SUPPLY_ENERGY_FULL_DESIGN","=",!0,!0),10)/1e3|e.maxCapacity,e.currentCapacity=parseInt("0"+z.getValue(l,"POWER_SUPPLY_ENERGY_NOW","="),10)/1e3);let c=z.getValue(l,"POWER_SUPPLY_CAPACITY","="),p=parseInt("0"+z.getValue(l,"POWER_SUPPLY_ENERGY_NOW","="),10),f=parseInt("0"+z.getValue(l,"POWER_SUPPLY_POWER_NOW","="),10),d=parseInt("0"+z.getValue(l,"POWER_SUPPLY_CURRENT_NOW","="),10),m=parseInt("0"+z.getValue(l,"POWER_SUPPLY_CHARGE_NOW","="),10);e.percent=parseInt("0"+c,10),e.maxCapacity&&e.currentCapacity&&(e.hasBattery=!0,c||(e.percent=100*e.currentCapacity/e.maxCapacity)),e.isCharging&&(e.hasBattery=!0),p&&f?e.timeRemaining=Math.floor(p/f*60):d&&m?e.timeRemaining=Math.floor(m/d*60):d&&e.currentCapacity&&(e.timeRemaining=Math.floor(e.currentCapacity/d*60)),e.type=z.getValue(l,"POWER_SUPPLY_TECHNOLOGY","="),e.model=z.getValue(l,"POWER_SUPPLY_MODEL_NAME","="),e.manufacturer=z.getValue(l,"POWER_SUPPLY_MANUFACTURER","="),e.serial=z.getValue(l,"POWER_SUPPLY_SERIAL_NUMBER","="),t&&t(e),r(e)}}):(t&&t(e),r(e))}if((fd||dd||md)&&Na("sysctl -i hw.acpi.battery hw.acpi.acline",function(s,i){let n=i.toString().split(`
`),o=parseInt("0"+z.getValue(n,"hw.acpi.battery.units"),10),a=parseInt("0"+z.getValue(n,"hw.acpi.battery.life"),10);e.hasBattery=o>0,e.cycleCount=null,e.isCharging=z.getValue(n,"hw.acpi.acline")!=="1",e.acConnected=e.isCharging,e.maxCapacity=null,e.currentCapacity=null,e.capacityUnit="unknown",e.percent=o?a:null,t&&t(e),r(e)}),cd&&Na('ioreg -n AppleSmartBattery -r | egrep "CycleCount|IsCharging|DesignCapacity|MaxCapacity|CurrentCapacity|BatterySerialNumber|TimeRemaining|Voltage"; pmset -g batt | grep %',function(s,i){if(i){let n=i.toString().replace(/ +/g,"").replace(/"+/g,"").replace(/-/g,"").split(`
`);e.cycleCount=parseInt("0"+z.getValue(n,"cyclecount","="),10),e.voltage=parseInt("0"+z.getValue(n,"voltage","="),10)/1e3,e.capacityUnit=e.voltage?"mWh":"mAh",e.maxCapacity=Math.round(parseInt("0"+z.getValue(n,"applerawmaxcapacity","="),10)*(e.voltage||1)),e.currentCapacity=Math.round(parseInt("0"+z.getValue(n,"applerawcurrentcapacity","="),10)*(e.voltage||1)),e.designedCapacity=Math.round(parseInt("0"+z.getValue(n,"DesignCapacity","="),10)*(e.voltage||1)),e.manufacturer="Apple",e.serial=z.getValue(n,"BatterySerialNumber","=");let o=null,l=z.getValue(n,"internal","Battery").split(";");if(l&&l[0]){let u=l[0].split("	");u&&u[1]&&(o=parseFloat(u[1].trim().replace(/%/g,"")))}l&&l[1]?(e.isCharging=l[1].trim()==="charging",e.acConnected=l[1].trim()!=="discharging"):(e.isCharging=z.getValue(n,"ischarging","=").toLowerCase()==="yes",e.acConnected=e.isCharging),e.maxCapacity&&e.currentCapacity&&(e.hasBattery=!0,e.type="Li-ion",e.percent=o!==null?o:Math.round(100*e.currentCapacity/e.maxCapacity),e.isCharging||(e.timeRemaining=parseInt("0"+z.getValue(n,"TimeRemaining","="),10)))}t&&t(e),r(e)}),gd&&(t&&t(e),r(e)),pd)try{let s=[];s.push(z.powerShell("Get-CimInstance Win32_Battery | select BatteryStatus, DesignCapacity, DesignVoltage, EstimatedChargeRemaining, DeviceID | fl")),s.push(z.powerShell("(Get-WmiObject -Class BatteryStaticData -Namespace ROOT/WMI).DesignedCapacity")),s.push(z.powerShell("(Get-CimInstance -Class BatteryFullChargedCapacity -Namespace ROOT/WMI).FullChargedCapacity")),z.promiseAll(s).then(i=>{if(i){let n=i.results[0].split(/\n\s*\n/),o=[],a=c=>/\S/.test(c);for(let c=0;c<n.length;c++)a(n[c])&&(!o.length||!a(n[c-1]))&&o.push([]),a(n[c])&&o[o.length-1].push(n[c]);let l=i.results[1].split(`\r
`).filter(c=>c),u=i.results[2].split(`\r
`).filter(c=>c);if(o.length){let c=!1,p=[];for(let f=0;f<o.length;f++){let d=o[f][0].split(`\r
`),m=l&&l.length>=f+1&&l[f]?z.toInt(l[f]):0,h=u&&u.length>=f+1&&u[f]?z.toInt(u[f]):0,y=hd(d,m,h);!c&&y.status>0&&y.status!==10?(e.hasBattery=y.hasBattery,e.maxCapacity=y.maxCapacity,e.designedCapacity=y.designedCapacity,e.voltage=y.voltage,e.capacityUnit=y.capacityUnit,e.percent=y.percent,e.currentCapacity=y.currentCapacity,e.isCharging=y.isCharging,e.acConnected=y.acConnected,e.model=y.model,c=!0):y.status!==-1&&p.push({hasBattery:y.hasBattery,maxCapacity:y.maxCapacity,designedCapacity:y.designedCapacity,voltage:y.voltage,capacityUnit:y.capacityUnit,percent:y.percent,currentCapacity:y.currentCapacity,isCharging:y.isCharging,timeRemaining:null,acConnected:y.acConnected,model:y.model,type:"",manufacturer:"",serial:""})}!c&&p.length&&(e=p[0],p.shift()),p.length&&(e.additionalBatteries=p)}}t&&t(e),r(e)})}catch{t&&t(e),r(e)}})})}});var Ba=M(Wa=>{"use strict";var Ss=require("fs"),tr=require("child_process").exec,In=require("child_process").execSync,D=oe(),ut=process.platform,Vr="",ws=ut==="linux"||ut==="android",yd=ut==="darwin",Ra=ut==="win32",Sd=ut==="freebsd",wd=ut==="openbsd",xd=ut==="netbsd",Cd=ut==="sunos",Tr=0,Dr=0,xs=0,Cs=0,ba={"-2":"UNINITIALIZED","-1":"OTHER",0:"HD15",1:"SVIDEO",2:"Composite video",3:"Component video",4:"DVI",5:"HDMI",6:"LVDS",8:"D_JPN",9:"SDI",10:"DP",11:"DP embedded",12:"UDI",13:"UDI embedded",14:"SDTVDONGLE",15:"MIRACAST","2147483648":"INTERNAL"};function Fa(t){let r=[{pattern:"^LG.+",manufacturer:"LG"},{pattern:"^BENQ.+",manufacturer:"BenQ"},{pattern:"^ASUS.+",manufacturer:"Asus"},{pattern:"^DELL.+",manufacturer:"Dell"},{pattern:"^SAMSUNG.+",manufacturer:"Samsung"},{pattern:"^VIEWSON.+",manufacturer:"ViewSonic"},{pattern:"^SONY.+",manufacturer:"Sony"},{pattern:"^ACER.+",manufacturer:"Acer"},{pattern:"^AOC.+",manufacturer:"AOC Monitors"},{pattern:"^HP.+",manufacturer:"HP"},{pattern:"^EIZO.?",manufacturer:"Eizo"},{pattern:"^PHILIPS.?",manufacturer:"Philips"},{pattern:"^IIYAMA.?",manufacturer:"Iiyama"},{pattern:"^SHARP.?",manufacturer:"Sharp"},{pattern:"^NEC.?",manufacturer:"NEC"},{pattern:"^LENOVO.?",manufacturer:"Lenovo"},{pattern:"COMPAQ.?",manufacturer:"Compaq"},{pattern:"APPLE.?",manufacturer:"Apple"},{pattern:"INTEL.?",manufacturer:"Intel"},{pattern:"AMD.?",manufacturer:"AMD"},{pattern:"NVIDIA.?",manufacturer:"NVDIA"}],e="";return t&&(t=t.toUpperCase(),r.forEach(s=>{RegExp(s.pattern).test(t)&&(e=s.manufacturer)})),e}function Id(t){return{610:"Apple","1e6d":"LG","10ac":"DELL","4dd9":"Sony","38a3":"NEC"}[t]||""}function Od(t){let r="";return t=(t||"").toLowerCase(),t.indexOf("apple")>=0?r="0x05ac":t.indexOf("nvidia")>=0?r="0x10de":t.indexOf("intel")>=0?r="0x8086":(t.indexOf("ati")>=0||t.indexOf("amd")>=0)&&(r="0x1002"),r}function Ld(t){return{spdisplays_mtlgpufamilymac1:"mac1",spdisplays_mtlgpufamilymac2:"mac2",spdisplays_mtlgpufamilyapple1:"apple1",spdisplays_mtlgpufamilyapple2:"apple2",spdisplays_mtlgpufamilyapple3:"apple3",spdisplays_mtlgpufamilyapple4:"apple4",spdisplays_mtlgpufamilyapple5:"apple5",spdisplays_mtlgpufamilyapple6:"apple6",spdisplays_mtlgpufamilyapple7:"apple7",spdisplays_metalfeaturesetfamily11:"family1_v1",spdisplays_metalfeaturesetfamily12:"family1_v2",spdisplays_metalfeaturesetfamily13:"family1_v3",spdisplays_metalfeaturesetfamily14:"family1_v4",spdisplays_metalfeaturesetfamily21:"family2_v1"}[t]||""}function _d(t){function r(f){let d={controllers:[],displays:[]};try{return f.forEach(function(m){let h=(m.sppci_bus||"").indexOf("builtin")>-1?"Built-In":(m.sppci_bus||"").indexOf("pcie")>-1?"PCIe":"",y=(parseInt(m.spdisplays_vram||"",10)||0)*((m.spdisplays_vram||"").indexOf("GB")>-1?1024:1),g=(parseInt(m.spdisplays_vram_shared||"",10)||0)*((m.spdisplays_vram_shared||"").indexOf("GB")>-1?1024:1),S=Ld(m.spdisplays_metal||m.spdisplays_metalfamily||"");d.controllers.push({vendor:Fa(m.spdisplays_vendor||"")||m.spdisplays_vendor||"",model:m.sppci_model||"",bus:h,vramDynamic:h==="Built-In",vram:y||g||null,deviceId:m["spdisplays_device-id"]||"",vendorId:m["spdisplays_vendor-id"]||Od((m.spdisplays_vendor||"")+(m.sppci_model||"")),external:m.sppci_device_type==="spdisplays_egpu",cores:m.sppci_cores||null,metalVersion:S}),m.spdisplays_ndrvs&&m.spdisplays_ndrvs.length&&m.spdisplays_ndrvs.forEach(function(w){let x=w.spdisplays_connection_type||"",C=(w._spdisplays_resolution||"").split("@"),b=C[0].split("x"),T=(w._spdisplays_pixels||"").split("x"),Y=w.spdisplays_depth||"",E=w["_spdisplays_display-serial-number"]||w["_spdisplays_display-serial-number2"]||null;d.displays.push({vendor:Id(w["_spdisplays_display-vendor-id"]||"")||Fa(w._name||""),vendorId:w["_spdisplays_display-vendor-id"]||"",model:w._name||"",productionYear:w["_spdisplays_display-year"]||null,serial:E!=="0"?E:null,displayId:w._spdisplays_displayID||null,main:w.spdisplays_main?w.spdisplays_main==="spdisplays_yes":!1,builtin:(w.spdisplays_display_type||"").indexOf("built-in")>-1,connection:x.indexOf("_internal")>-1?"Internal":x.indexOf("_displayport")>-1?"Display Port":x.indexOf("_hdmi")>-1?"HDMI":null,sizeX:null,sizeY:null,pixelDepth:Y==="CGSThirtyBitColor"?30:Y==="CGSThirtytwoBitColor"?32:Y==="CGSTwentyfourBitColor"?24:null,resolutionX:T.length>1?parseInt(T[0],10):null,resolutionY:T.length>1?parseInt(T[1],10):null,currentResX:b.length>1?parseInt(b[0],10):null,currentResY:b.length>1?parseInt(b[1],10):null,positionX:0,positionY:0,currentRefreshRate:C.length>1?parseInt(C[1],10):null})})}),d}catch{return d}}function e(f){let d=[],m={vendor:"",subVendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1,pciID:""},h=!1,y=[];try{y=In('export LC_ALL=C; dmidecode -t 9 2>/dev/null; unset LC_ALL | grep "Bus Address: "',D.execOptsLinux).toString().split(`
`);for(let S=0;S<y.length;S++)y[S]=y[S].replace("Bus Address:","").replace("0000:","").trim();y=y.filter(function(S){return S!=null&&S})}catch{D.noop()}let g=1;return f.forEach(S=>{let w="";if(g<f.length&&f[g]&&(w=f[g],w.indexOf(":")>0&&(w=w.split(":")[1])),S.trim()!==""){if(S[0]!==" "&&S[0]!=="	"){let x=y.indexOf(S.split(" ")[0])>=0,C=S.toLowerCase().indexOf(" vga "),b=S.toLowerCase().indexOf("3d controller");if(C!==-1||b!==-1){b!==-1&&C===-1&&(C=b),(m.vendor||m.model||m.bus||m.vram!==null||m.vramDynamic)&&(d.push(m),m={vendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1});let T=S.split(" ")[0];/[\da-fA-F]{2}:[\da-fA-F]{2}\.[\da-fA-F]/.test(T)&&(m.busAddress=T),h=!0;let Y=S.search(/\[[0-9a-f]{4}:[0-9a-f]{4}]|$/),E=S.substr(C,Y-C).split(":");if(m.busAddress=S.substr(0,C).trim(),E.length>1&&(E[1]=E[1].trim(),E[1].toLowerCase().indexOf("corporation")>=0?(m.vendor=E[1].substr(0,E[1].toLowerCase().indexOf("corporation")+11).trim(),m.model=E[1].substr(E[1].toLowerCase().indexOf("corporation")+11,200).split("(")[0].trim(),m.bus=y.length>0&&x?"PCIe":"Onboard",m.vram=null,m.vramDynamic=!1):E[1].toLowerCase().indexOf(" inc.")>=0?((E[1].match(/]/g)||[]).length>1?(m.vendor=E[1].substr(0,E[1].toLowerCase().indexOf("]")+1).trim(),m.model=E[1].substr(E[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(m.vendor=E[1].substr(0,E[1].toLowerCase().indexOf(" inc.")+5).trim(),m.model=E[1].substr(E[1].toLowerCase().indexOf(" inc.")+5,200).trim().split("(")[0].trim()),m.bus=y.length>0&&x?"PCIe":"Onboard",m.vram=null,m.vramDynamic=!1):E[1].toLowerCase().indexOf(" ltd.")>=0&&((E[1].match(/]/g)||[]).length>1?(m.vendor=E[1].substr(0,E[1].toLowerCase().indexOf("]")+1).trim(),m.model=E[1].substr(E[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(m.vendor=E[1].substr(0,E[1].toLowerCase().indexOf(" ltd.")+5).trim(),m.model=E[1].substr(E[1].toLowerCase().indexOf(" ltd.")+5,200).trim().split("(")[0].trim())),m.model&&w.indexOf(m.model)!==-1)){let j=w.split(m.model)[0].trim();j&&(m.subVendor=j)}}else h=!1}if(h){let x=S.split(":");if(x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("devicename")!==-1&&x[1].toLowerCase().indexOf("onboard")!==-1&&(m.bus="Onboard"),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("region")!==-1&&x[1].toLowerCase().indexOf("memory")!==-1){let C=x[1].split("=");C.length>1&&(m.vram=parseInt(C[1]))}}}g++}),(m.vendor||m.model||m.bus||m.busAddress||m.vram!==null||m.vramDynamic)&&d.push(m),d}function s(f,d){let m=/\[([^\]]+)\]\s+(\w+)\s+(.*)/,h=d.reduce((y,g)=>{let S=m.exec(g.trim());return S&&(y[S[1]]||(y[S[1]]={}),y[S[1]][S[2]]=S[3]),y},{});for(let y in h){let g=h[y];if(g.CL_DEVICE_TYPE==="CL_DEVICE_TYPE_GPU"){let S;if(g.CL_DEVICE_TOPOLOGY_AMD){let w=g.CL_DEVICE_TOPOLOGY_AMD.match(/[a-zA-Z0-9]+:\d+\.\d+/);w&&(S=w[0])}else if(g.CL_DEVICE_PCI_BUS_ID_NV&&g.CL_DEVICE_PCI_SLOT_ID_NV){let w=parseInt(g.CL_DEVICE_PCI_BUS_ID_NV),x=parseInt(g.CL_DEVICE_PCI_SLOT_ID_NV);if(!isNaN(w)&&!isNaN(x)){let C=w&255,b=x>>3&255,T=x&7;S=`${C.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}.${T}`}}if(S){let w=f.find(C=>C.busAddress===S);w||(w={vendor:"",model:"",bus:"",busAddress:S,vram:null,vramDynamic:!1},f.push(w)),w.vendor=g.CL_DEVICE_VENDOR,g.CL_DEVICE_BOARD_NAME_AMD?w.model=g.CL_DEVICE_BOARD_NAME_AMD:w.model=g.CL_DEVICE_NAME;let x=parseInt(g.CL_DEVICE_GLOBAL_MEM_SIZE);isNaN(x)||(w.vram=Math.round(x/1024/1024))}}}return f}function i(){if(Vr)return Vr;if(Ra)try{let f=D.WINDIR+"\\System32\\DriverStore\\FileRepository",m=Ss.readdirSync(f).filter(h=>Ss.readdirSync([f,h].join("/")).includes("nvidia-smi.exe")).reduce((h,y)=>{let g=Ss.statSync([f,h,"nvidia-smi.exe"].join("/")),S=Ss.statSync([f,y,"nvidia-smi.exe"].join("/"));return g.ctimeMs>S.ctimeMs?h:y});m&&(Vr=[f,m,"nvidia-smi.exe"].join("/"))}catch{D.noop()}else ws&&(Vr="nvidia-smi");return Vr}function n(f){let d=i();if(f=f||D.execOptsWin,d){let h=d+" "+"--query-gpu=driver_version,pci.sub_device_id,name,pci.bus_id,fan.speed,memory.total,memory.used,memory.free,utilization.gpu,utilization.memory,temperature.gpu,temperature.memory,power.draw,power.limit,clocks.gr,clocks.mem --format=csv,noheader,nounits"+(ws?"  2>/dev/null":"");ws&&(f.stdio=["pipe","pipe","ignore"]);try{return In(h,f).toString()}catch{D.noop()}}return""}function o(){function f(y){return[null,void 0].includes(y)?y:parseFloat(y)}let d=n();if(!d)return[];let h=d.split(`
`).filter(Boolean).map(y=>{let g=y.split(", ").map(S=>S.includes("N/A")?void 0:S);return g.length===16?{driverVersion:g[0],subDeviceId:g[1],name:g[2],pciBus:g[3],fanSpeed:f(g[4]),memoryTotal:f(g[5]),memoryUsed:f(g[6]),memoryFree:f(g[7]),utilizationGpu:f(g[8]),utilizationMemory:f(g[9]),temperatureGpu:f(g[10]),temperatureMemory:f(g[11]),powerDraw:f(g[12]),powerLimit:f(g[13]),clockCore:f(g[14]),clockMemory:f(g[15])}:{}});return h=h.filter(y=>"pciBus"in y),h}function a(f,d){return d.driverVersion&&(f.driverVersion=d.driverVersion),d.subDeviceId&&(f.subDeviceId=d.subDeviceId),d.name&&(f.name=d.name),d.pciBus&&(f.pciBus=d.pciBus),d.fanSpeed&&(f.fanSpeed=d.fanSpeed),d.memoryTotal&&(f.memoryTotal=d.memoryTotal,f.vram=d.memoryTotal,f.vramDynamic=!1),d.memoryUsed&&(f.memoryUsed=d.memoryUsed),d.memoryFree&&(f.memoryFree=d.memoryFree),d.utilizationGpu&&(f.utilizationGpu=d.utilizationGpu),d.utilizationMemory&&(f.utilizationMemory=d.utilizationMemory),d.temperatureGpu&&(f.temperatureGpu=d.temperatureGpu),d.temperatureMemory&&(f.temperatureMemory=d.temperatureMemory),d.powerDraw&&(f.powerDraw=d.powerDraw),d.powerLimit&&(f.powerLimit=d.powerLimit),d.clockCore&&(f.clockCore=d.clockCore),d.clockMemory&&(f.clockMemory=d.clockMemory),f}function l(f){let d={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},m=108;if(f.substr(m,6)==="000000"&&(m+=36),f.substr(m,6)==="000000"&&(m+=36),f.substr(m,6)==="000000"&&(m+=36),f.substr(m,6)==="000000"&&(m+=36),d.resolutionX=parseInt("0x0"+f.substr(m+8,1)+f.substr(m+4,2)),d.resolutionY=parseInt("0x0"+f.substr(m+14,1)+f.substr(m+10,2)),d.sizeX=parseInt("0x0"+f.substr(m+28,1)+f.substr(m+24,2)),d.sizeY=parseInt("0x0"+f.substr(m+29,1)+f.substr(m+26,2)),m=f.indexOf("000000fc00"),m>=0){let h=f.substr(m+10,26);h.indexOf("0a")!==-1&&(h=h.substr(0,h.indexOf("0a")));try{h.length>2&&(d.model=h.match(/.{1,2}/g).map(function(y){return String.fromCharCode(parseInt(y,16))}).join(""))}catch{D.noop()}}else d.model="";return d}function u(f,d){let m=[],h={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},y=!1,g=!1,S="",w=0;for(let x=1;x<f.length;x++)if(f[x].trim()!==""){if(f[x][0]!==" "&&f[x][0]!=="	"&&f[x].toLowerCase().indexOf(" connected ")!==-1){(h.model||h.main||h.builtin||h.connection||h.sizeX!==null||h.pixelDepth!==null||h.resolutionX!==null)&&(m.push(h),h={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null});let C=f[x].split(" ");h.connection=C[0],h.main=f[x].toLowerCase().indexOf(" primary ")>=0,h.builtin=C[0].toLowerCase().indexOf("edp")>=0}if(y)if(f[x].search(/\S|$/)>w)S+=f[x].toLowerCase().trim();else{let C=l(S);h.vendor=C.vendor,h.model=C.model,h.resolutionX=C.resolutionX,h.resolutionY=C.resolutionY,h.sizeX=C.sizeX,h.sizeY=C.sizeY,h.pixelDepth=d,y=!1}if(f[x].toLowerCase().indexOf("edid:")>=0&&(y=!0,w=f[x].search(/\S|$/)),f[x].toLowerCase().indexOf("*current")>=0){let C=f[x].split("(");if(C&&C.length>1&&C[0].indexOf("x")>=0){let b=C[0].trim().split("x");h.currentResX=D.toInt(b[0]),h.currentResY=D.toInt(b[1])}g=!0}if(g&&f[x].toLowerCase().indexOf("clock")>=0&&f[x].toLowerCase().indexOf("hz")>=0&&f[x].toLowerCase().indexOf("v: height")>=0){let C=f[x].split("clock");C&&C.length>1&&C[1].toLowerCase().indexOf("hz")>=0&&(h.currentRefreshRate=D.toInt(C[1])),g=!1}}return(h.model||h.main||h.builtin||h.connection||h.sizeX!==null||h.pixelDepth!==null||h.resolutionX!==null)&&m.push(h),m}return new Promise(f=>{process.nextTick(()=>{let d={controllers:[],displays:[]};if(yd&&tr("system_profiler -xml -detailLevel full SPDisplaysDataType",function(h,y){if(!h){try{let g=y.toString();d=r(D.plistParser(g)[0]._items)}catch{D.noop()}try{y=In('defaults read /Library/Preferences/com.apple.windowserver.plist 2>/dev/null;defaults read /Library/Preferences/com.apple.windowserver.displays.plist 2>/dev/null; echo ""',{maxBuffer:1024*2e4});let g=(y||"").toString(),S=D.plistReader(g);if(S.DisplayAnyUserSets&&S.DisplayAnyUserSets.Configs&&S.DisplayAnyUserSets.Configs[0]&&S.DisplayAnyUserSets.Configs[0].DisplayConfig){let w=S.DisplayAnyUserSets.Configs[0].DisplayConfig,x=0;w.forEach(C=>{C.CurrentInfo&&C.CurrentInfo.OriginX!==void 0&&d.displays&&d.displays[x]&&(d.displays[x].positionX=C.CurrentInfo.OriginX),C.CurrentInfo&&C.CurrentInfo.OriginY!==void 0&&d.displays&&d.displays[x]&&(d.displays[x].positionY=C.CurrentInfo.OriginY),x++})}if(S.DisplayAnyUserSets&&S.DisplayAnyUserSets.length>0&&S.DisplayAnyUserSets[0].length>0&&S.DisplayAnyUserSets[0][0].DisplayID){let w=S.DisplayAnyUserSets[0],x=0;w.forEach(C=>{"OriginX"in C&&d.displays&&d.displays[x]&&(d.displays[x].positionX=C.OriginX),"OriginY"in C&&d.displays&&d.displays[x]&&(d.displays[x].positionY=C.OriginY),C.Mode&&C.Mode.BitsPerPixel!==void 0&&d.displays&&d.displays[x]&&(d.displays[x].pixelDepth=C.Mode.BitsPerPixel),x++})}}catch{D.noop()}}t&&t(d),f(d)}),ws&&(D.isRaspberry()&&D.isRaspbian()?tr(`fbset -s | grep 'mode "'; vcgencmd get_mem gpu; tvservice -s; tvservice -n;`,function(h,y){let g=y.toString().split(`
`);if(g.length>3&&g[0].indexOf('mode "')>=-1&&g[2].indexOf("0x12000a")>-1){let S=g[0].replace("mode","").replace(/"/g,"").trim().split("x");S.length===2&&d.displays.push({vendor:"",model:D.getValue(g,"device_name","="),main:!0,builtin:!1,connection:"HDMI",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:parseInt(S[0],10),resolutionY:parseInt(S[1],10),currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null})}g.length>1&&y.toString().indexOf("gpu=")>=-1&&d.controllers.push({vendor:"Broadcom",model:D.getRpiGpu(),bus:"",vram:D.getValue(g,"gpu","=").replace("M",""),vramDynamic:!0}),t&&t(d),f(d)}):tr("lspci -vvv  2>/dev/null",function(h,y){if(!h){let S=y.toString().split(`
`);d.controllers=e(S);let w=o();d.controllers=d.controllers.map(x=>a(x,w.find(C=>C.pciBus.toLowerCase().endsWith(x.busAddress.toLowerCase()))||{}))}tr("clinfo --raw",function(S,w){if(!S){let C=w.toString().split(`
`);d.controllers=s(d.controllers,C)}tr("xdpyinfo 2>/dev/null | grep 'depth of root window' | awk '{ print $5 }'",function(C,b){let T=0;if(!C){let E=b.toString().split(`
`);T=parseInt(E[0])||0}tr("xrandr --verbose 2>/dev/null",function(E,j){if(!E){let W=j.toString().split(`
`);d.displays=u(W,T)}t&&t(d),f(d)})})})})),(Sd||wd||xd)&&(t&&t(null),f(null)),Cd&&(t&&t(null),f(null)),Ra)try{let m=[];m.push(D.powerShell("Get-CimInstance win32_VideoController | fl *")),m.push(D.powerShell('gp "HKLM:\\SYSTEM\\ControlSet001\\Control\\Class\\{4d36e968-e325-11ce-bfc1-08002be10318}\\*" -ErrorAction SilentlyContinue | where MatchingDeviceId $null -NE | select MatchingDeviceId,HardwareInformation.qwMemorySize | fl')),m.push(D.powerShell("Get-CimInstance win32_desktopmonitor | fl *")),m.push(D.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorBasicDisplayParams | fl")),m.push(D.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.Screen]::AllScreens")),m.push(D.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorConnectionParams | fl")),m.push(D.powerShell('gwmi WmiMonitorID -Namespace root\\wmi | ForEach-Object {(($_.ManufacturerName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.ProductCodeID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.UserFriendlyName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.SerialNumberID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + $_.InstanceName}'));let h=o();Promise.all(m).then(y=>{let g=y[0].replace(/\r/g,"").split(/\n\s*\n/),S=y[1].replace(/\r/g,"").split(/\n\s*\n/);d.controllers=c(g,S),d.controllers=d.controllers.map(E=>E.vendor.toLowerCase()==="nvidia"?a(E,h.find(j=>{let W=(E.subDeviceId||"").toLowerCase(),ie=j.subDeviceId.split("x"),ue=ie.length>1?ie[1].toLowerCase():ie[0].toLowerCase(),me=Math.abs(W.length-ue.length);if(W.length>ue.length)for(let X=0;X<me;X++)ue="0"+ue;else if(W.length<ue.length)for(let X=0;X<me;X++)W="0"+W;return W===ue})||{}):E);let w=y[2].replace(/\r/g,"").split(/\n\s*\n/);w[0].trim()===""&&w.shift(),w.length&&w[w.length-1].trim()===""&&w.pop();let x=y[3].replace(/\r/g,"").split("Active ");x.shift();let C=y[4].replace(/\r/g,"").split("BitsPerPixel ");C.shift();let b=y[5].replace(/\r/g,"").split(/\n\s*\n/);b.shift();let T=y[6].replace(/\r/g,"").split(/\n/),Y=[];T.forEach(E=>{let j=E.split("|");j.length===5&&Y.push({vendor:j[0],code:j[1],model:j[2],serial:j[3],instanceId:j[4]})}),d.displays=p(C,x,w,b,Y),d.displays.length===1&&(Tr&&(d.displays[0].resolutionX=Tr,d.displays[0].currentResX||(d.displays[0].currentResX=Tr)),Dr&&(d.displays[0].resolutionY=Dr,d.displays[0].currentResY===0&&(d.displays[0].currentResY=Dr)),xs&&(d.displays[0].pixelDepth=xs)),d.displays=d.displays.map(E=>(Cs&&!E.currentRefreshRate&&(E.currentRefreshRate=Cs),E)),t&&t(d),f(d)}).catch(()=>{t&&t(d),f(d)})}catch{t&&t(d),f(d)}})});function c(f,d){let m={};for(let y in d)if({}.hasOwnProperty.call(d,y)&&d[y].trim()!==""){let g=d[y].trim().split(`
`),S=D.getValue(g,"MatchingDeviceId").match(/PCI\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i);if(S){let w=parseInt(D.getValue(g,"HardwareInformation.qwMemorySize"));if(!isNaN(w)){let x=S[1].toUpperCase()+"&"+S[2].toUpperCase();S[3]&&(x+="&"+S[3].toUpperCase()),S[4]&&(x+="&"+S[4].toUpperCase()),m[x]=w}}}let h=[];for(let y in f)if({}.hasOwnProperty.call(f,y)&&f[y].trim()!==""){let g=f[y].trim().split(`
`),S=D.getValue(g,"PNPDeviceID",":").match(/PCI\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i),w=null,x=null;if(S){if(w=S[3]||"",w&&(w=w.split("_")[1]),x==null&&S[3]&&S[4]){let C=S[1].toUpperCase()+"&"+S[2].toUpperCase()+"&"+S[3].toUpperCase()+"&"+S[4].toUpperCase();({}).hasOwnProperty.call(m,C)&&(x=m[C])}if(x==null&&S[3]){let C=S[1].toUpperCase()+"&"+S[2].toUpperCase()+"&"+S[3].toUpperCase();({}).hasOwnProperty.call(m,C)&&(x=m[C])}if(x==null&&S[4]){let C=S[1].toUpperCase()+"&"+S[2].toUpperCase()+"&"+S[4].toUpperCase();({}).hasOwnProperty.call(m,C)&&(x=m[C])}if(x==null){let C=S[1].toUpperCase()+"&"+S[2].toUpperCase();({}).hasOwnProperty.call(m,C)&&(x=m[C])}}h.push({vendor:D.getValue(g,"AdapterCompatibility",":"),model:D.getValue(g,"name",":"),bus:D.getValue(g,"PNPDeviceID",":").startsWith("PCI")?"PCI":"",vram:(x??D.toInt(D.getValue(g,"AdapterRAM",":")))/1024/1024,vramDynamic:D.getValue(g,"VideoMemoryType",":")==="2",subDeviceId:w}),Tr=D.toInt(D.getValue(g,"CurrentHorizontalResolution",":"))||Tr,Dr=D.toInt(D.getValue(g,"CurrentVerticalResolution",":"))||Dr,Cs=D.toInt(D.getValue(g,"CurrentRefreshRate",":"))||Cs,xs=D.toInt(D.getValue(g,"CurrentBitsPerPixel",":"))||xs}return h}function p(f,d,m,h,y){let g=[],S="",w="",x="",C=0,b=0;if(m&&m.length){let T=m[0].split(`
`);S=D.getValue(T,"MonitorManufacturer",":"),w=D.getValue(T,"Name",":"),x=D.getValue(T,"PNPDeviceID",":").replace(/&amp;/g,"&").toLowerCase(),C=D.toInt(D.getValue(T,"ScreenWidth",":")),b=D.toInt(D.getValue(T,"ScreenHeight",":"))}for(let T=0;T<f.length;T++)if(f[T].trim()!==""){f[T]="BitsPerPixel "+f[T],d[T]="Active "+d[T],(h.length===0||h[T]===void 0)&&(h[T]="Unknown");let Y=f[T].split(`
`),E=d[T].split(`
`),j=h[T].split(`
`),W=D.getValue(Y,"BitsPerPixel"),ie=D.getValue(Y,"Bounds").replace("{","").replace("}","").replace(/=/g,":").split(","),ue=D.getValue(Y,"Primary"),me=D.getValue(E,"MaxHorizontalImageSize"),X=D.getValue(E,"MaxVerticalImageSize"),ge=D.getValue(E,"InstanceName").toLowerCase(),ce=D.getValue(j,"VideoOutputTechnology"),ve=D.getValue(Y,"DeviceName"),_e="",te="";y.forEach(re=>{re.instanceId.toLowerCase().startsWith(ge)&&S.startsWith("(")&&w.startsWith("PnP")&&(_e=re.vendor,te=re.model)}),g.push({vendor:ge.startsWith(x)&&_e===""?S:_e,model:ge.startsWith(x)&&te===""?w:te,deviceName:ve,main:ue.toLowerCase()==="true",builtin:ce==="2147483648",connection:ce&&ba[ce]?ba[ce]:"",resolutionX:D.toInt(D.getValue(ie,"Width",":")),resolutionY:D.toInt(D.getValue(ie,"Height",":")),sizeX:me?parseInt(me,10):null,sizeY:X?parseInt(X,10):null,pixelDepth:W,currentResX:D.toInt(D.getValue(ie,"Width",":")),currentResY:D.toInt(D.getValue(ie,"Height",":")),positionX:D.toInt(D.getValue(ie,"X",":")),positionY:D.toInt(D.getValue(ie,"Y",":"))})}return f.length===0&&g.push({vendor:S,model:w,main:!0,sizeX:null,sizeY:null,resolutionX:C,resolutionY:b,pixelDepth:null,currentResX:C,currentResY:b,positionX:0,positionY:0}),g}}Wa.graphics=_d});var Ha=M(Ft=>{"use strict";var L=oe(),Ua=require("fs"),ye=require("child_process").exec,ct=require("child_process").execSync,Ed=L.promisifySave(require("child_process").exec),ft=process.platform,Ne=ft==="linux"||ft==="android",pt=ft==="darwin",rr=ft==="win32",Ae=ft==="freebsd",Me=ft==="openbsd",Re=ft==="netbsd",sr=ft==="sunos",Z={},B={};function vd(t,r){L.isFunction(t)&&(r=t,t="");let e=[],s=[];function i(l){if(!l.startsWith("/"))return"NFS";let u=l.split("/"),c=u[u.length-1],p=e.filter(f=>f.indexOf(c)>=0);return p.length===1&&p[0].indexOf("APFS")>=0?"APFS":"HFS"}function n(l){let u=["rootfs","unionfs","squashfs","cramfs","initrd","initramfs","devtmpfs","tmpfs","udev","devfs","specfs","type","appimaged"],c=!1;return u.forEach(p=>{l.toLowerCase().indexOf(p)>=0&&(c=!0)}),c}function o(l){let u=l.toString().split(`
`);if(u.shift(),l.toString().toLowerCase().indexOf("filesystem")){let c=0;for(let p=0;p<u.length;p++)u[p]&&u[p].toLowerCase().startsWith("filesystem")&&(c=p);for(let p=0;p<c;p++)u.shift()}return u}function a(l){let u=[];return l.forEach(function(c){if(c!==""&&(c=c.replace(/ +/g," ").split(" "),c&&(c[0].startsWith("/")||c[6]&&c[6]==="/"||c[0].indexOf("/")>0||c[0].indexOf(":")===1||!pt&&!n(c[1])))){let p=c[0],f=Ne||Ae||Me||Re?c[1]:i(c[0]),d=parseInt(Ne||Ae||Me||Re?c[2]:c[1])*1024,m=parseInt(Ne||Ae||Me||Re?c[3]:c[2])*1024,h=parseInt(Ne||Ae||Me||Re?c[4]:c[3])*1024,y=parseFloat((100*(m/(m+h))).toFixed(2)),g=s&&Object.keys(s).length>0?s[p]||!1:null;c.splice(0,Ne||Ae||Me||Re?6:5);let S=c.join(" ");u.find(w=>w.fs===p&&w.type===f)||u.push({fs:p,type:f,size:d,used:m,available:h,use:y,mount:S,rw:g})}}),u}return new Promise(l=>{process.nextTick(()=>{let u=[];if(Ne||Ae||Me||Re||pt){let c="";if(e=[],s={},pt){c="df -kP";try{e=ct("diskutil list").toString().split(`
`).filter(p=>!p.startsWith("/")&&p.indexOf(":")>0),ct("mount").toString().split(`
`).filter(p=>p.startsWith("/")).forEach(p=>{s[p.split(" ")[0]]=p.toLowerCase().indexOf("read-only")===-1})}catch{L.noop()}}if(Ne)try{c="export LC_ALL=C; df -lkPTx squashfs; unset LC_ALL",ct("cat /proc/mounts 2>/dev/null",L.execOptsLinux).toString().split(`
`).filter(p=>p.startsWith("/")).forEach(p=>{s[p.split(" ")[0]]=s[p.split(" ")[0]]||!1,p.toLowerCase().indexOf("/snap/")===-1&&(s[p.split(" ")[0]]=p.toLowerCase().indexOf("rw,")>=0||p.toLowerCase().indexOf(" rw ")>=0)})}catch{L.noop()}if(Ae||Me||Re)try{c="df -lkPT",ct("mount").toString().split(`
`).forEach(p=>{s[p.split(" ")[0]]=p.toLowerCase().indexOf("read-only")===-1})}catch{L.noop()}ye(c,{maxBuffer:1024*1024},function(p,f){let d=o(f);u=a(d),t&&(u=u.filter(m=>m.fs.toLowerCase().indexOf(t.toLowerCase())>=0||m.mount.toLowerCase().indexOf(t.toLowerCase())>=0)),(!p||u.length)&&f.toString().trim()!==""?(r&&r(u),l(u)):ye("df -kPT",{maxBuffer:1024*1024},function(m,h){if(!m){let y=o(h);u=a(y)}r&&r(u),l(u)})})}if(sr&&(r&&r(u),l(u)),rr)try{let c=`Get-WmiObject Win32_logicaldisk | select Access,Caption,FileSystem,FreeSpace,Size ${t?"| where -property Caption -eq "+t:""} | fl`;L.powerShell(c).then((p,f)=>{f||p.toString().split(/\n\s*\n/).forEach(function(m){let h=m.split(`\r
`),y=L.toInt(L.getValue(h,"size",":")),g=L.toInt(L.getValue(h,"freespace",":")),S=L.getValue(h,"caption",":"),w=L.getValue(h,"access",":"),x=w?L.toInt(w)!==1:null;y&&u.push({fs:S,type:L.getValue(h,"filesystem",":"),size:y,used:y-g,available:g,use:parseFloat((100*(y-g)/y).toFixed(2)),mount:S,rw:x})}),r&&r(u),l(u)})}catch{r&&r(u),l(u)}})})}Ft.fsSize=vd;function Pd(t){return new Promise(r=>{process.nextTick(()=>{let e={max:null,allocated:null,available:null};(Ae||Me||Re||pt)&&ye("sysctl -i kern.maxfiles kern.num_files kern.open_files",{maxBuffer:1024*1024},function(i,n){if(!i){let o=n.toString().split(`
`);e.max=parseInt(L.getValue(o,"kern.maxfiles",":"),10),e.allocated=parseInt(L.getValue(o,"kern.num_files",":"),10)||parseInt(L.getValue(o,"kern.open_files",":"),10),e.available=e.max-e.allocated}t&&t(e),r(e)}),Ne&&Ua.readFile("/proc/sys/fs/file-nr",function(s,i){if(s)Ua.readFile("/proc/sys/fs/file-max",function(n,o){if(!n){let a=o.toString().split(`
`);a[0]&&(e.max=parseInt(a[0],10))}t&&t(e),r(e)});else{let n=i.toString().split(`
`);if(n[0]){let o=n[0].replace(/\s+/g," ").split(" ");o.length===3&&(e.allocated=parseInt(o[0],10),e.available=parseInt(o[1],10),e.max=parseInt(o[2],10),e.available||(e.available=e.max-e.allocated))}t&&t(e),r(e)}}),sr&&(t&&t(null),r(null)),rr&&(t&&t(null),r(null))})})}Ft.fsOpenFiles=Pd;function Vd(t){return parseInt(t.substr(t.indexOf(" (")+2,t.indexOf(" Bytes)")-10))}function Td(t){let r=[],e=0;return t.forEach(s=>{if(s.length>0)if(s[0]==="*")e++;else{let i=s.split(":");i.length>1&&(r[e]||(r[e]={name:"",identifier:"",type:"disk",fsType:"",mount:"",size:0,physical:"HDD",uuid:"",label:"",model:"",serial:"",removable:!1,protocol:"",group:"",device:""}),i[0]=i[0].trim().toUpperCase().replace(/ +/g,""),i[1]=i[1].trim(),i[0]==="DEVICEIDENTIFIER"&&(r[e].identifier=i[1]),i[0]==="DEVICENODE"&&(r[e].name=i[1]),i[0]==="VOLUMENAME"&&i[1].indexOf("Not applicable")===-1&&(r[e].label=i[1]),i[0]==="PROTOCOL"&&(r[e].protocol=i[1]),i[0]==="DISKSIZE"&&(r[e].size=Vd(i[1])),i[0]==="FILESYSTEMPERSONALITY"&&(r[e].fsType=i[1]),i[0]==="MOUNTPOINT"&&(r[e].mount=i[1]),i[0]==="VOLUMEUUID"&&(r[e].uuid=i[1]),i[0]==="READ-ONLYMEDIA"&&i[1]==="Yes"&&(r[e].physical="CD/DVD"),i[0]==="SOLIDSTATE"&&i[1]==="Yes"&&(r[e].physical="SSD"),i[0]==="VIRTUAL"&&(r[e].type="virtual"),i[0]==="REMOVABLEMEDIA"&&(r[e].removable=i[1]==="Removable"),i[0]==="PARTITIONTYPE"&&(r[e].type="part"),i[0]==="DEVICE/MEDIANAME"&&(r[e].model=i[1]))}}),r}function On(t){let r=[];return t.filter(e=>e!=="").forEach(e=>{try{e=decodeURIComponent(e.replace(/\\x/g,"%")),e=e.replace(/\\/g,"\\\\");let s=JSON.parse(e);r.push({name:s.name,type:s.type,fsType:s.fsType,mount:s.mountpoint,size:parseInt(s.size),physical:s.type==="disk"?s.rota==="0"?"SSD":"HDD":s.type==="rom"?"CD/DVD":"",uuid:s.uuid,label:s.label,model:(s.model||"").trim(),serial:s.serial,removable:s.rm==="1",protocol:s.tran,group:s.group||""})}catch{L.noop()}}),r=L.unique(r),r=L.sortByKey(r,["type","name"]),r}function Dd(t){let r=L.getValue(t,"md_level","="),e=L.getValue(t,"md_name","="),s=L.getValue(t,"md_uuid","="),i=[];return t.forEach(n=>{n.toLowerCase().startsWith("md_device_dev")&&n.toLowerCase().indexOf("/dev/")>0&&i.push(n.split("/dev/")[1])}),{raid:r,label:e,uuid:s,members:i}}function Ga(t){let r=t;try{t.forEach(e=>{if(e.type.startsWith("raid")){let s=ct(`mdadm --export --detail /dev/${e.name}`,L.execOptsLinux).toString().split(`
`),i=Dd(s);e.label=i.label,e.uuid=i.uuid,i.members&&i.members.length&&i.raid===e.type&&(r=r.map(n=>(n.fsType==="linux_raid_member"&&i.members.indexOf(n.name)>=0&&(n.group=e.name),n)))}})}catch{L.noop()}return r}function Nd(t){let r=[];return t.forEach(e=>{e.type.startsWith("disk")&&r.push(e.name)}),r}function Ad(t){let r=t;try{let e=Nd(t);r=r.map(s=>((s.type.startsWith("part")||s.type.startsWith("disk"))&&e.forEach(i=>{s.name.startsWith(i)&&(s.device="/dev/"+i)}),s))}catch{L.noop()}return r}function Md(t){let r=[];return t.forEach(e=>{if(e.type.startsWith("disk")&&r.push({name:e.name,model:e.model,device:e.name}),e.type.startsWith("virtual")){let s="";r.forEach(i=>{i.model===e.model&&(s=i.device)}),s&&r.push({name:e.name,model:e.model,device:s})}}),r}function Rd(t){let r=t;try{let e=Md(t);r=r.map(s=>((s.type.startsWith("part")||s.type.startsWith("disk")||s.type.startsWith("virtual"))&&e.forEach(i=>{s.name.startsWith(i.name)&&(s.device=i.device)}),s))}catch{L.noop()}return r}function bd(t){let r=[];return t.forEach(e=>{let s=e.split(`\r
`),i=L.getValue(s,"DeviceID",":"),n=e.split("@{DeviceID=");n.length>1&&(n=n.slice(1),n.forEach(o=>{r.push({name:o.split(";")[0].toUpperCase(),device:i})}))}),r}function Fd(t,r){let e=bd(r);return t.map(s=>{let i=e.filter(n=>n.name===s.name.toUpperCase());return i.length>0&&(s.device=i[0].device),s}),t}function Ln(t){return t.toString().replace(/NAME=/g,'{"name":').replace(/FSTYPE=/g,',"fsType":').replace(/TYPE=/g,',"type":').replace(/SIZE=/g,',"size":').replace(/MOUNTPOINT=/g,',"mountpoint":').replace(/UUID=/g,',"uuid":').replace(/ROTA=/g,',"rota":').replace(/RO=/g,',"ro":').replace(/RM=/g,',"rm":').replace(/TRAN=/g,',"tran":').replace(/SERIAL=/g,',"serial":').replace(/LABEL=/g,',"label":').replace(/MODEL=/g,',"model":').replace(/OWNER=/g,',"owner":').replace(/GROUP=/g,',"group":').replace(/\n/g,`}
`)}function Wd(t){return new Promise(r=>{process.nextTick(()=>{let e=[];if(Ne&&ye("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,TRAN,SERIAL,LABEL,MODEL,OWNER 2>/dev/null",{maxBuffer:1024*1024},function(s,i){if(s)ye("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER 2>/dev/null",{maxBuffer:1024*1024},function(n,o){if(!n){let a=Ln(o).split(`
`);e=On(a),e=Ga(e)}t&&t(e),r(e)});else{let n=Ln(i).split(`
`);e=On(n),e=Ga(e),e=Ad(e),t&&t(e),r(e)}}),pt&&ye("diskutil info -all",{maxBuffer:1024*1024},function(s,i){if(!s){let n=i.toString().split(`
`);e=Td(n),e=Rd(e)}t&&t(e),r(e)}),sr&&(t&&t(e),r(e)),rr){let s=["Unknown","NoRoot","Removable","Local","Network","CD/DVD","RAM"];try{let i=[];i.push(L.powerShell("Get-CimInstance -ClassName Win32_LogicalDisk | select Caption,DriveType,Name,FileSystem,Size,VolumeSerialNumber,VolumeName | fl")),i.push(L.powerShell("Get-WmiObject -Class Win32_diskdrive | Select-Object -Property PNPDeviceId,DeviceID, Model, Size, @{L='Partitions'; E={$_.GetRelated('Win32_DiskPartition').GetRelated('Win32_LogicalDisk') | Select-Object -Property DeviceID, VolumeName, Size, FreeSpace}} | fl")),L.promiseAll(i).then(n=>{let o=n.results[0].toString().split(/\n\s*\n/),a=n.results[1].toString().split(/\n\s*\n/);o.forEach(function(l){let u=l.split(`\r
`),c=L.getValue(u,"drivetype",":");c&&e.push({name:L.getValue(u,"name",":"),identifier:L.getValue(u,"caption",":"),type:"disk",fsType:L.getValue(u,"filesystem",":").toLowerCase(),mount:L.getValue(u,"caption",":"),size:L.getValue(u,"size",":"),physical:c>=0&&c<=6?s[c]:s[0],uuid:L.getValue(u,"volumeserialnumber",":"),label:L.getValue(u,"volumename",":"),model:"",serial:L.getValue(u,"volumeserialnumber",":"),removable:c==="2",protocol:"",group:"",device:""})}),e=Fd(e,a),t&&t(e),r(e)})}catch{t&&t(e),r(e)}}(Ae||Me||Re)&&(t&&t(null),r(null))})})}Ft.blockDevices=Wd;function qa(t,r){let e={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0};return Z&&Z.ms?(e.rx=t,e.wx=r,e.tx=e.rx+e.wx,e.ms=Date.now()-Z.ms,e.rx_sec=(e.rx-Z.bytes_read)/(e.ms/1e3),e.wx_sec=(e.wx-Z.bytes_write)/(e.ms/1e3),e.tx_sec=e.rx_sec+e.wx_sec,Z.rx_sec=e.rx_sec,Z.wx_sec=e.wx_sec,Z.tx_sec=e.tx_sec,Z.bytes_read=e.rx,Z.bytes_write=e.wx,Z.bytes_overall=e.rx+e.wx,Z.ms=Date.now(),Z.last_ms=e.ms):(e.rx=t,e.wx=r,e.tx=e.rx+e.wx,Z.rx_sec=null,Z.wx_sec=null,Z.tx_sec=null,Z.bytes_read=e.rx,Z.bytes_write=e.wx,Z.bytes_overall=e.rx+e.wx,Z.ms=Date.now(),Z.last_ms=0),e}function Bd(t){return new Promise(r=>{process.nextTick(()=>{if(rr||Ae||Me||Re||sr)return r(null);let e={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0},s=0,i=0;Z&&!Z.ms||Z&&Z.ms&&Date.now()-Z.ms>=500?(Ne&&ye("lsblk -r 2>/dev/null | grep /",{maxBuffer:1024*1024},function(n,o){if(n)t&&t(e),r(e);else{let a=o.toString().split(`
`),l=[];a.forEach(function(c){c!==""&&(c=c.trim().split(" "),l.indexOf(c[0])===-1&&l.push(c[0]))});let u=l.join("|");ye('cat /proc/diskstats | egrep "'+u+'"',{maxBuffer:1024*1024},function(c,p){c||(p.toString().split(`
`).forEach(function(d){d=d.trim(),d!==""&&(d=d.replace(/ +/g," ").split(" "),s+=parseInt(d[5])*512,i+=parseInt(d[9])*512)}),e=qa(s,i)),t&&t(e),r(e)})}}),pt&&ye(`ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,
"`,{maxBuffer:1024*1024},function(n,o){n||(o.toString().split(`
`).forEach(function(l){l=l.trim(),l!==""&&(l=l.split(","),s+=parseInt(l[2]),i+=parseInt(l[9]))}),e=qa(s,i)),t&&t(e),r(e)})):(e.ms=Z.last_ms,e.rx=Z.bytes_read,e.wx=Z.bytes_write,e.tx=Z.bytes_read+Z.bytes_write,e.rx_sec=Z.rx_sec,e.wx_sec=Z.wx_sec,e.tx_sec=Z.tx_sec,t&&t(e),r(e))})})}Ft.fsStats=Bd;function $a(t,r,e,s,i){let n={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,rWaitTime:0,wWaitTime:0,tWaitTime:0,rWaitPercent:null,wWaitPercent:null,tWaitPercent:null,ms:0};return B&&B.ms?(n.rIO=t,n.wIO=r,n.tIO=t+r,n.ms=Date.now()-B.ms,n.rIO_sec=(n.rIO-B.rIO)/(n.ms/1e3),n.wIO_sec=(n.wIO-B.wIO)/(n.ms/1e3),n.tIO_sec=n.rIO_sec+n.wIO_sec,n.rWaitTime=e,n.wWaitTime=s,n.tWaitTime=i,n.rWaitPercent=(n.rWaitTime-B.rWaitTime)*100/n.ms,n.wWaitPercent=(n.wWaitTime-B.wWaitTime)*100/n.ms,n.tWaitPercent=(n.tWaitTime-B.tWaitTime)*100/n.ms,B.rIO=t,B.wIO=r,B.rIO_sec=n.rIO_sec,B.wIO_sec=n.wIO_sec,B.tIO_sec=n.tIO_sec,B.rWaitTime=e,B.wWaitTime=s,B.tWaitTime=i,B.rWaitPercent=n.rWaitPercent,B.wWaitPercent=n.wWaitPercent,B.tWaitPercent=n.tWaitPercent,B.last_ms=n.ms,B.ms=Date.now()):(n.rIO=t,n.wIO=r,n.tIO=t+r,n.rWaitTime=e,n.wWaitTime=s,n.tWaitTime=i,B.rIO=t,B.wIO=r,B.rIO_sec=null,B.wIO_sec=null,B.tIO_sec=null,B.rWaitTime=e,B.wWaitTime=s,B.tWaitTime=i,B.rWaitPercent=null,B.wWaitPercent=null,B.tWaitPercent=null,B.last_ms=0,B.ms=Date.now()),n}function Ud(t){return new Promise(r=>{process.nextTick(()=>{if(rr||sr)return r(null);let e={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,rWaitTime:0,wWaitTime:0,tWaitTime:0,rWaitPercent:null,wWaitPercent:null,tWaitPercent:null,ms:0},s=0,i=0,n=0,o=0,a=0;B&&!B.ms||B&&B.ms&&Date.now()-B.ms>=500?((Ne||Ae||Me||Re)&&ye('for mount in `lsblk 2>/dev/null | grep " disk " | sed "s/[\u2502\u2514\u2500\u251C]//g" | awk \'{$1=$1};1\' | cut -d " " -f 1 | sort -u`; do cat /sys/block/$mount/stat | sed -r "s/ +/;/g" | sed -r "s/^;//"; done',{maxBuffer:1024*1024},function(u,c){u?(t&&t(e),r(e)):(c.split(`
`).forEach(function(f){if(!f)return;let d=f.split(";");s+=parseInt(d[0]),i+=parseInt(d[4]),n+=parseInt(d[3]),o+=parseInt(d[7]),a+=parseInt(d[10])}),e=$a(s,i,n,o,a),t&&t(e),r(e))}),pt&&ye(`ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,
"`,{maxBuffer:1024*1024},function(l,u){l||(u.toString().split(`
`).forEach(function(p){p=p.trim(),p!==""&&(p=p.split(","),s+=parseInt(p[10]),i+=parseInt(p[0]))}),e=$a(s,i,n,o,a)),t&&t(e),r(e)})):(e.rIO=B.rIO,e.wIO=B.wIO,e.tIO=B.rIO+B.wIO,e.ms=B.last_ms,e.rIO_sec=B.rIO_sec,e.wIO_sec=B.wIO_sec,e.tIO_sec=B.tIO_sec,e.rWaitTime=B.rWaitTime,e.wWaitTime=B.wWaitTime,e.tWaitTime=B.tWaitTime,e.rWaitPercent=B.rWaitPercent,e.wWaitPercent=B.wWaitPercent,e.tWaitPercent=B.tWaitPercent,t&&t(e),r(e))})})}Ft.disksIO=Ud;function Gd(t){function r(e){let s=[{pattern:"WESTERN.*",manufacturer:"Western Digital"},{pattern:"^WDC.*",manufacturer:"Western Digital"},{pattern:"WD.*",manufacturer:"Western Digital"},{pattern:"TOSHIBA.*",manufacturer:"Toshiba"},{pattern:"HITACHI.*",manufacturer:"Hitachi"},{pattern:"^IC.*",manufacturer:"Hitachi"},{pattern:"^HTS.*",manufacturer:"Hitachi"},{pattern:"SANDISK.*",manufacturer:"SanDisk"},{pattern:"KINGSTON.*",manufacturer:"Kingston Technology"},{pattern:"^SONY.*",manufacturer:"Sony"},{pattern:"TRANSCEND.*",manufacturer:"Transcend"},{pattern:"SAMSUNG.*",manufacturer:"Samsung"},{pattern:"^ST(?!I\\ ).*",manufacturer:"Seagate"},{pattern:"^STI\\ .*",manufacturer:"SimpleTech"},{pattern:"^D...-.*",manufacturer:"IBM"},{pattern:"^IBM.*",manufacturer:"IBM"},{pattern:"^FUJITSU.*",manufacturer:"Fujitsu"},{pattern:"^MP.*",manufacturer:"Fujitsu"},{pattern:"^MK.*",manufacturer:"Toshiba"},{pattern:"MAXTO.*",manufacturer:"Maxtor"},{pattern:"PIONEER.*",manufacturer:"Pioneer"},{pattern:"PHILIPS.*",manufacturer:"Philips"},{pattern:"QUANTUM.*",manufacturer:"Quantum Technology"},{pattern:"FIREBALL.*",manufacturer:"Quantum Technology"},{pattern:"^VBOX.*",manufacturer:"VirtualBox"},{pattern:"CORSAIR.*",manufacturer:"Corsair Components"},{pattern:"CRUCIAL.*",manufacturer:"Crucial"},{pattern:"ECM.*",manufacturer:"ECM"},{pattern:"INTEL.*",manufacturer:"INTEL"},{pattern:"EVO.*",manufacturer:"Samsung"},{pattern:"APPLE.*",manufacturer:"Apple"}],i="";return e&&(e=e.toUpperCase(),s.forEach(n=>{RegExp(n.pattern).test(e)&&(i=n.manufacturer)})),i}return new Promise(e=>{process.nextTick(()=>{let s=o=>{for(let a=0;a<o.length;a++)delete o[a].BSDName;t&&t(o),e(o)},i=[],n="";if(Ne){let o="";ye("export LC_ALL=C; lsblk -ablJO 2>/dev/null; unset LC_ALL",{maxBuffer:1024*1024},function(a,l){if(!a)try{let u=l.toString().trim(),c=[];try{let p=JSON.parse(u);p&&{}.hasOwnProperty.call(p,"blockdevices")&&(c=p.blockdevices.filter(f=>f.type==="disk"&&f.size>0&&(f.model!==null||f.mountpoint===null&&f.label===null&&f.fstype===null&&f.parttype===null&&f.path&&f.path.indexOf("/ram")!==0&&f.path.indexOf("/loop")!==0&&f["disc-max"]&&f["disc-max"]!==0)))}catch{try{let f=ct("export LC_ALL=C; lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER,GROUP 2>/dev/null; unset LC_ALL",L.execOptsLinux).toString(),d=Ln(f).split(`
`);c=On(d).filter(h=>h.type==="disk"&&h.size>0&&(h.model!==null&&h.model!==""||h.mount===""&&h.label===""&&h.fsType===""))}catch{L.noop()}}c.forEach(p=>{let f="",d="/dev/"+p.name,m=p.name;try{f=ct("cat /sys/block/"+m+"/queue/rotational 2>/dev/null",L.execOptsLinux).toString().split(`
`)[0]}catch{L.noop()}let h=p.tran?p.tran.toUpperCase().trim():"";h==="NVME"&&(f="2",h="PCIe"),i.push({device:d,type:f==="0"?"SSD":f==="1"?"HD":f==="2"?"NVMe":p.model&&p.model.indexOf("SSD")>-1?"SSD":p.model&&p.model.indexOf("NVM")>-1?"NVMe":"HD",name:p.model||"",vendor:r(p.model)||(p.vendor?p.vendor.trim():""),size:p.size||0,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:p.rev?p.rev.trim():"",serialNum:p.serial?p.serial.trim():"",interfaceType:h,smartStatus:"unknown",temperature:null,BSDName:d}),n+=`printf "
${d}|"; smartctl -H ${d} | grep overall;`,o+=`${o?'printf ",";':""}smartctl -a -j ${d};`})}catch{L.noop()}o?ye(o,{maxBuffer:1024*1024},function(u,c){try{JSON.parse(`[${c}]`).forEach(f=>{let d=f.smartctl.argv[f.smartctl.argv.length-1];for(let m=0;m<i.length;m++)i[m].BSDName===d&&(i[m].smartStatus=f.smart_status.passed?"Ok":f.smart_status.passed===!1?"Predicted Failure":"unknown",f.temperature&&f.temperature.current&&(i[m].temperature=f.temperature.current),i[m].smartData=f)}),s(i)}catch{n?(n=n+`printf "
"`,ye(n,{maxBuffer:1024*1024},function(f,d){d.toString().split(`
`).forEach(h=>{if(h){let y=h.split("|");if(y.length===2){let g=y[0];y[1]=y[1].trim();let S=y[1].split(":");if(S.length===2){S[1]=S[1].trim();let w=S[1].toLowerCase();for(let x=0;x<i.length;x++)i[x].BSDName===g&&(i[x].smartStatus=w==="passed"?"Ok":w==="failed!"?"Predicted Failure":"unknown")}}}}),s(i)})):s(i)}}):s(i)})}if((Ae||Me||Re)&&(t&&t(i),e(i)),sr&&(t&&t(i),e(i)),pt&&ye("system_profiler SPSerialATADataType SPNVMeDataType SPUSBDataType",{maxBuffer:1024*1024},function(o,a){if(!o){let l=a.toString().split(`
`),u=[],c=[],p=[],f="SATA";l.forEach(d=>{d==="NVMExpress:"?f="NVMe":d==="USB:"?f="USB":d==="SATA/SATA Express:"?f="SATA":f==="SATA"?u.push(d):f==="NVMe"?c.push(d):f==="USB"&&p.push(d)});try{let d=u.join(`
`).split(" Physical Interconnect: ");d.shift(),d.forEach(function(m){m="InterfaceType: "+m;let h=m.split(`
`),y=L.getValue(h,"Medium Type",":",!0).trim(),g=L.getValue(h,"capacity",":",!0).trim(),S=L.getValue(h,"BSD Name",":",!0).trim();if(g){let w=0;if(g.indexOf("(")>=0&&(w=parseInt(g.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),w||(w=parseInt(g)),w){let x=L.getValue(h,"S.M.A.R.T. status",":",!0).trim().toLowerCase();i.push({device:S,type:y.startsWith("Solid")?"SSD":"HD",name:L.getValue(h,"Model",":",!0).trim(),vendor:r(L.getValue(h,"Model",":",!0).trim())||L.getValue(h,"Manufacturer",":",!0),size:w,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:L.getValue(h,"Revision",":",!0).trim(),serialNum:L.getValue(h,"Serial Number",":",!0).trim(),interfaceType:L.getValue(h,"InterfaceType",":",!0).trim(),smartStatus:x==="verified"?"OK":x||"unknown",temperature:null,BSDName:S}),n=n+`printf "
`+S+'|"; diskutil info /dev/'+S+" | grep SMART;"}}})}catch{L.noop()}try{let d=c.join(`
`).split(`

          Capacity:`);d.shift(),d.forEach(function(m){m="!Capacity: "+m;let h=m.split(`
`),y=L.getValue(h,"link width",":",!0).trim(),g=L.getValue(h,"!capacity",":",!0).trim(),S=L.getValue(h,"BSD Name",":",!0).trim();if(g){let w=0;if(g.indexOf("(")>=0&&(w=parseInt(g.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),w||(w=parseInt(g)),w){let x=L.getValue(h,"S.M.A.R.T. status",":",!0).trim().toLowerCase();i.push({device:S,type:"NVMe",name:L.getValue(h,"Model",":",!0).trim(),vendor:r(L.getValue(h,"Model",":",!0).trim()),size:w,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:L.getValue(h,"Revision",":",!0).trim(),serialNum:L.getValue(h,"Serial Number",":",!0).trim(),interfaceType:("PCIe "+y).trim(),smartStatus:x==="verified"?"OK":x||"unknown",temperature:null,BSDName:S}),n=n+`printf "
`+S+'|"; diskutil info /dev/'+S+" | grep SMART;"}}})}catch{L.noop()}try{let d=p.join(`
`).replaceAll(`Media:
 `,"Model:").split(`

          Product ID:`);d.shift(),d.forEach(function(m){let h=m.split(`
`),y=L.getValue(h,"Capacity",":",!0).trim(),g=L.getValue(h,"BSD Name",":",!0).trim();if(y){let S=0;if(y.indexOf("(")>=0&&(S=parseInt(y.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),S||(S=parseInt(y)),S){let w=L.getValue(h,"S.M.A.R.T. status",":",!0).trim().toLowerCase();i.push({device:g,type:"USB",name:L.getValue(h,"Model",":",!0).trim().replaceAll(":",""),vendor:r(L.getValue(h,"Model",":",!0).trim()),size:S,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:L.getValue(h,"Revision",":",!0).trim(),serialNum:L.getValue(h,"Serial Number",":",!0).trim(),interfaceType:"USB",smartStatus:w==="verified"?"OK":w||"unknown",temperature:null,BSDName:g}),n=n+`printf "
`+g+'|"; diskutil info /dev/'+g+" | grep SMART;"}}})}catch{L.noop()}if(n)n=n+`printf "
"`,ye(n,{maxBuffer:1024*1024},function(d,m){m.toString().split(`
`).forEach(y=>{if(y){let g=y.split("|");if(g.length===2){let S=g[0];g[1]=g[1].trim();let w=g[1].split(":");if(w.length===2){w[1]=w[1].trim();let x=w[1].toLowerCase();for(let C=0;C<i.length;C++)i[C].BSDName===S&&(i[C].smartStatus=x==="not supported"?"not supported":x==="verified"?"Ok":x==="failing"?"Predicted Failure":"unknown")}}}});for(let y=0;y<i.length;y++)delete i[y].BSDName;t&&t(i),e(i)});else{for(let d=0;d<i.length;d++)delete i[d].BSDName;t&&t(i),e(i)}}}),rr)try{let o=[];if(o.push(L.powerShell("Get-CimInstance Win32_DiskDrive | select Caption,Size,Status,PNPDeviceId,DeviceId,BytesPerSector,TotalCylinders,TotalHeads,TotalSectors,TotalTracks,TracksPerCylinder,SectorsPerTrack,FirmwareRevision,SerialNumber,InterfaceType | fl")),o.push(L.powerShell("Get-PhysicalDisk | select BusType,MediaType,FriendlyName,Model,SerialNumber,Size | fl")),L.smartMonToolsInstalled())try{let a=JSON.parse(ct("smartctl --scan -j").toString());a&&a.devices&&a.devices.length>0&&a.devices.forEach(l=>{o.push(Ed(`smartctl -j -a ${l.name}`,L.execOptsWin))})}catch{L.noop()}L.promiseAll(o).then(a=>{let l=a.results[0].toString().split(/\n\s*\n/);l.forEach(function(u){let c=u.split(`\r
`),p=L.getValue(c,"Size",":").trim(),f=L.getValue(c,"Status",":").trim().toLowerCase();p&&i.push({device:L.getValue(c,"DeviceId",":"),type:u.indexOf("SSD")>-1?"SSD":"HD",name:L.getValue(c,"Caption",":"),vendor:r(L.getValue(c,"Caption",":",!0).trim()),size:parseInt(p),bytesPerSector:parseInt(L.getValue(c,"BytesPerSector",":")),totalCylinders:parseInt(L.getValue(c,"TotalCylinders",":")),totalHeads:parseInt(L.getValue(c,"TotalHeads",":")),totalSectors:parseInt(L.getValue(c,"TotalSectors",":")),totalTracks:parseInt(L.getValue(c,"TotalTracks",":")),tracksPerCylinder:parseInt(L.getValue(c,"TracksPerCylinder",":")),sectorsPerTrack:parseInt(L.getValue(c,"SectorsPerTrack",":")),firmwareRevision:L.getValue(c,"FirmwareRevision",":").trim(),serialNum:L.getValue(c,"SerialNumber",":").trim(),interfaceType:L.getValue(c,"InterfaceType",":").trim(),smartStatus:f==="ok"?"Ok":f==="degraded"?"Degraded":f==="pred fail"?"Predicted Failure":"Unknown",temperature:null})}),l=a.results[1].split(/\n\s*\n/),l.forEach(function(u){let c=u.split(`\r
`),p=L.getValue(c,"SerialNumber",":").trim(),f=L.getValue(c,"FriendlyName",":").trim().replace("Msft ","Microsoft"),d=L.getValue(c,"Size",":").trim(),m=L.getValue(c,"Model",":").trim(),h=L.getValue(c,"BusType",":").trim(),y=L.getValue(c,"MediaType",":").trim();if((y==="3"||y==="HDD")&&(y="HD"),y==="4"&&(y="SSD"),y==="5"&&(y="SCM"),y==="Unspecified"&&(m.toLowerCase().indexOf("virtual")>-1||m.toLowerCase().indexOf("vbox")>-1)&&(y="Virtual"),d){let g=L.findObjectByKey(i,"serialNum",p);(g===-1||p==="")&&(g=L.findObjectByKey(i,"name",f)),g!=-1&&(i[g].type=y,i[g].interfaceType=h)}}),a.results.shift(),a.results.shift(),a.results.length&&a.results.forEach(u=>{try{let c=JSON.parse(u);if(c.serial_number){let p=c.serial_number,f=L.findObjectByKey(i,"serialNum",p);f!=-1&&(i[f].smartStatus=c.smart_status&&c.smart_status.passed?"Ok":c.smart_status&&c.smart_status.passed===!1?"Predicted Failure":"unknown",c.temperature&&c.temperature.current&&(i[f].temperature=c.temperature.current),i[f].smartData=c)}}catch{L.noop()}}),t&&t(i),e(i)})}catch{t&&t(i),e(i)}})})}Ft.diskLayout=Gd});var Qa=M(Ut=>{"use strict";var Os=require("os"),Ee=require("child_process").exec,ae=require("child_process").execSync,qd=require("fs"),V=oe(),dt=process.platform,Ye=dt==="linux"||dt==="android",Ke=dt==="darwin",Nr=dt==="win32",mt=dt==="freebsd",gt=dt==="openbsd",ht=dt==="netbsd",za=dt==="sunos",K={},Xa="",nr={},ka=[],ir=[],or={},Wt;function Bt(){let t="",r="";try{let e=Os.networkInterfaces(),s=9999;for(let i in e)({}).hasOwnProperty.call(e,i)&&e[i].forEach(function(n){n&&n.internal===!1&&(r=r||i,n.scopeid&&n.scopeid<s&&(t=i,s=n.scopeid))});if(t=t||r||"",Nr){let i="";if(ae("netstat -r",V.execOptsWin).toString().split(Os.EOL).forEach(l=>{if(l=l.replace(/\s+/g," ").trim(),l.indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(l)){let u=l.split(" ");u.length>=5&&(i=u[u.length-2])}}),i)for(let l in e)({}).hasOwnProperty.call(e,l)&&e[l].forEach(function(u){u&&u.address&&u.address===i&&(t=l)})}if(Ye){let o=ae("ip route 2> /dev/null | grep default",V.execOptsLinux).toString().split(`
`)[0].split(/\s+/);o[0]==="none"&&o[5]?t=o[5]:o[4]&&(t=o[4]),t.indexOf(":")>-1&&(t=t.split(":")[1].trim())}if(Ke||mt||gt||ht||za){let i="";Ye&&(i="ip route 2> /dev/null | grep default | awk '{print $5}'"),Ke&&(i="route -n get default 2>/dev/null | grep interface: | awk '{print $2}'"),(mt||gt||ht||za)&&(i="route get 0.0.0.0 | grep interface:"),t=ae(i).toString().split(`
`)[0],t.indexOf(":")>-1&&(t=t.split(":")[1].trim())}}catch{V.noop()}return t&&(Xa=t),Xa}Ut.getDefaultNetworkInterface=Bt;function ja(){let t="",r="",e={};if(Ye||mt||gt||ht){if(typeof Wt>"u")try{let s=ae("which ip",V.execOptsLinux).toString().split(`
`);s.length&&s[0].indexOf(":")===-1&&s[0].indexOf("/")===0?Wt=s[0]:Wt=""}catch{Wt=""}try{let s="export LC_ALL=C; "+(Wt?Wt+" link show up":"/sbin/ifconfig")+"; unset LC_ALL",n=ae(s,V.execOptsLinux).toString().split(`
`);for(let o=0;o<n.length;o++)if(n[o]&&n[o][0]!==" "){if(Wt){let a=n[o+1].trim().split(" ");a[0]==="link/ether"&&(t=n[o].split(" ")[1],t=t.slice(0,t.length-1),r=a[1])}else t=n[o].split(" ")[0],r=n[o].split("HWaddr ")[1];t&&r&&(e[t]=r.trim(),t="",r="")}}catch{V.noop()}}if(Ke)try{let n=ae("/sbin/ifconfig").toString().split(`
`);for(let o=0;o<n.length;o++)n[o]&&n[o][0]!=="	"&&n[o].indexOf(":")>0?t=n[o].split(":")[0]:n[o].indexOf("	ether ")===0&&(r=n[o].split("	ether ")[1],t&&r&&(e[t]=r.trim(),t="",r=""))}catch{V.noop()}return e}function $d(t){return new Promise(r=>{process.nextTick(()=>{let e=Bt();t&&t(e),r(e)})})}Ut.networkInterfaceDefault=$d;function Hd(t,r){let e=[];for(let s in t)if({}.hasOwnProperty.call(t,s)&&t[s].trim()!==""){let i=t[s].trim().split(`\r
`),n=r&&r[s]?r[s].trim().split(`\r
`):[],o=V.getValue(i,"NetEnabled",":"),a=V.getValue(i,"AdapterTypeID",":")==="9"?"wireless":"wired",l=V.getValue(i,"Name",":").replace(/\]/g,")").replace(/\[/g,"("),u=V.getValue(i,"NetConnectionID",":").replace(/\]/g,")").replace(/\[/g,"(");if((l.toLowerCase().indexOf("wi-fi")>=0||l.toLowerCase().indexOf("wireless")>=0)&&(a="wireless"),o!==""){let c=parseInt(V.getValue(i,"speed",":").trim(),10)/1e6;e.push({mac:V.getValue(i,"MACAddress",":").toLowerCase(),dhcp:V.getValue(n,"dhcpEnabled",":").toLowerCase()==="true",name:l,iface:u,netEnabled:o==="TRUE",speed:isNaN(c)?null:c,operstate:V.getValue(i,"NetConnectionStatus",":")==="2"?"up":"down",type:a})}}return e}function zd(){return new Promise(t=>{process.nextTick(()=>{let r="Get-CimInstance Win32_NetworkAdapter | fl *; echo '#-#-#-#';";r+="Get-CimInstance Win32_NetworkAdapterConfiguration | fl DHCPEnabled";try{V.powerShell(r).then(e=>{e=e.split("#-#-#-#");let s=(e[0]||"").split(/\n\s*\n/),i=(e[1]||"").split(/\n\s*\n/);t(Hd(s,i))})}catch{t([])}})})}function Xd(){let t={},r={primaryDNS:"",exitCode:0,ifaces:[]};try{return ae("ipconfig /all",V.execOptsWin).split(`\r
\r
`).forEach((i,n)=>{if(n==1){let o=i.split(`\r
`).filter(l=>l.toUpperCase().includes("DNS")),a=o[0].substring(o[0].lastIndexOf(":")+1);r.primaryDNS=a.trim(),r.primaryDNS||(r.primaryDNS="Not defined")}if(n>1)if(n%2==0){let o=i.substring(i.lastIndexOf(" ")+1).replace(":","");t.name=o}else{let o=i.split(`\r
`).filter(l=>l.toUpperCase().includes("DNS")),a=o[0].substring(o[0].lastIndexOf(":")+1);t.dnsSuffix=a.trim(),r.ifaces.push(t),t={}}}),r}catch{return{primaryDNS:"",exitCode:0,ifaces:[]}}}function kd(t,r){let e="",s=r+".";try{let i=t.filter(n=>s.includes(n.name+".")).map(n=>n.dnsSuffix);return i[0]&&(e=i[0]),e||(e=""),e}catch{return"Unknown"}}function jd(){try{return ae("netsh lan show profiles",V.execOptsWin).split(`\r
Profile on interface`)}catch(t){return t.status===1&&t.stdout.includes("AutoConfig")?"Disabled":[]}}function Yd(t){try{return ae(`netsh wlan show  interface name="${t}" | findstr "SSID"`,V.execOptsWin).split(`\r
`).shift().split(":").pop()}catch{return"Unknown"}}function Kd(t,r,e){let s={state:"Unknown",protocol:"Unknown"};if(e==="Disabled")return s.state="Disabled",s.protocol="Not defined",s;if(t=="wired"&&e.length>0)try{let n=e.find(a=>a.includes(r+`\r
`)).split(`\r
`),o=n.find(a=>a.includes("802.1x"));if(o.includes("Disabled"))s.state="Disabled",s.protocol="Not defined";else if(o.includes("Enabled")){let a=n.find(l=>l.includes("EAP"));s.protocol=a.split(":").pop(),s.state="Enabled"}}catch{return s}else if(t=="wireless"){let i="",n="";try{let o=Yd(r);o!=="Unknown"&&(i=ae(`netsh wlan show profiles "${o}" | findstr "802.1X"`,V.execOptsWin),n=ae(`netsh wlan show profiles "${o}" | findstr "EAP"`,V.execOptsWin)),i.includes(":")&&n.includes(":")&&(s.state=i.split(":").pop(),s.protocol=n.split(":").pop())}catch(o){return o.status===1&&o.stdout.includes("AutoConfig")&&(s.state="Disabled",s.protocol="Not defined"),s}}return s}function Ya(t){let r=[],e=[];return t.forEach(function(s){!s.startsWith("	")&&!s.startsWith(" ")&&e.length&&(r.push(e),e=[]),e.push(s)}),e.length&&r.push(e),r}function Jd(t){let r=[];return t.forEach(e=>{let s={iface:"",mtu:null,mac:"",ip6:"",ip4:"",speed:null,type:"",operstate:"",duplex:"",internal:!1},i=e[0];s.iface=i.split(":")[0].trim();let n=i.split("> mtu");s.mtu=n.length>1?parseInt(n[1],10):null,isNaN(s.mtu)&&(s.mtu=null),s.internal=n[0].toLowerCase().indexOf("loopback")>-1,e.forEach(l=>{l.trim().startsWith("ether ")&&(s.mac=l.split("ether ")[1].toLowerCase().trim()),l.trim().startsWith("inet6 ")&&!s.ip6&&(s.ip6=l.split("inet6 ")[1].toLowerCase().split("%")[0].split(" ")[0]),l.trim().startsWith("inet ")&&!s.ip4&&(s.ip4=l.split("inet ")[1].toLowerCase().split(" ")[0])});let o=V.getValue(e,"link rate");s.speed=o?parseFloat(o):null,s.speed===null?(o=V.getValue(e,"uplink rate"),s.speed=o?parseFloat(o):null,s.speed!==null&&o.toLowerCase().indexOf("gbps")>=0&&(s.speed=s.speed*1e3)):o.toLowerCase().indexOf("gbps")>=0&&(s.speed=s.speed*1e3),s.type=V.getValue(e,"type").toLowerCase().indexOf("wi-fi")>-1?"wireless":"wired";let a=V.getValue(e,"status").toLowerCase();s.operstate=a==="active"?"up":a==="inactive"?"down":"unknown",s.duplex=V.getValue(e,"media").toLowerCase().indexOf("half-duplex")>-1?"half":"full",(s.ip6||s.ip4||s.mac)&&r.push(s)}),r}function Qd(){let t="/sbin/ifconfig -v";try{let r=ae(t,{maxBuffer:2048e4}).toString().split(`
`),e=Ya(r);return Jd(e)}catch{return[]}}function Zd(t){let r=`nmcli device status 2>/dev/null | grep ${t}`;try{let n=ae(r,V.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(3).join(" ");return n!="--"?n:""}catch{return""}}function Ka(t){let r=[];try{let e=`cat ${t} 2> /dev/null | grep 'iface\\|source'`;ae(e,V.execOptsLinux).toString().split(`
`).forEach(i=>{let n=i.replace(/\s+/g," ").trim().split(" ");if(n.length>=4&&i.toLowerCase().indexOf(" inet ")>=0&&i.toLowerCase().indexOf("dhcp")>=0&&r.push(n[1]),i.toLowerCase().includes("source")){let o=i.split(" ")[1];r=r.concat(Ka(o))}})}catch{V.noop()}return r}function e0(){let t="ip a 2> /dev/null",r=[];try{let e=ae(t,V.execOptsLinux).toString().split(`
`),s=Ya(e);r=t0(s)}catch{V.noop()}try{r=Ka("/etc/network/interfaces")}catch{V.noop()}return r}function t0(t){let r=[];return t&&t.length&&t.forEach(e=>{if(e&&e.length&&e[0].split(":").length>2){for(let i of e)if(i.indexOf(" inet ")>=0&&i.indexOf(" dynamic ")>=0){let n=i.split(" "),o=n[n.length-1].trim();r.push(o);break}}}),r}function r0(t,r,e){let s=!1;if(r){let i=`nmcli connection show "${r}" 2>/dev/null | grep ipv4.method;`;try{switch(ae(i,V.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString()){case"auto":s=!0;break;default:s=!1;break}return s}catch{return e.indexOf(t)>=0}}else return e.indexOf(t)>=0}function s0(t){let r=!1,e=`ipconfig getpacket "${t}" 2>/dev/null | grep lease_time;`;try{let s=ae(e).toString().split(`
`);s.length&&s[0].startsWith("lease_time")&&(r=!0)}catch{V.noop()}return r}function n0(t){if(t){let r=`nmcli connection show "${t}" 2>/dev/null | grep ipv4.dns-search;`;try{let i=ae(r,V.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return i=="--"?"Not defined":i}catch{return"Unknown"}}else return"Unknown"}function i0(t){if(t){let r=`nmcli connection show "${t}" 2>/dev/null | grep 802-1x.eap;`;try{let i=ae(r,V.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return i=="--"?"":i}catch{return"Not defined"}}else return"Not defined"}function o0(t){return t?t=="Not defined"?"Disabled":"Enabled":"Unknown"}function _n(t,r,e){let s=["00:00:00:00:00:00","00:03:FF","00:05:69","00:0C:29","00:0F:4B","00:13:07","00:13:BE","00:15:5d","00:16:3E","00:1C:42","00:21:F6","00:24:0B","00:50:56","00:A0:B1","00:E0:C8","08:00:27","0A:00:27","18:92:2C","16:DF:49","3C:F3:92","54:52:00","FC:15:97"];return e?s.filter(i=>e.toUpperCase().toUpperCase().startsWith(i.substring(0,e.length))).length>0||t.toLowerCase().indexOf(" virtual ")>-1||r.toLowerCase().indexOf(" virtual ")>-1||t.toLowerCase().indexOf("vethernet ")>-1||r.toLowerCase().indexOf("vethernet ")>-1||t.toLowerCase().startsWith("veth")||r.toLowerCase().startsWith("veth")||t.toLowerCase().startsWith("vboxnet")||r.toLowerCase().startsWith("vboxnet"):!1}function En(t,r,e){return typeof t=="string"&&(e=t,r=!0,t=null),typeof t=="boolean"&&(r=t,t=null,e=""),typeof r>"u"&&(r=!0),e=e||"",e=""+e,new Promise(s=>{process.nextTick(()=>{let i=Os.networkInterfaces(),n=[],o=[],a=[],l=[];if(Ke||mt||gt||ht)if(JSON.stringify(i)===JSON.stringify(nr)&&!r)n=ir,t&&t(n),s(n);else{let u=Bt();nr=JSON.parse(JSON.stringify(i)),o=Qd(),o.forEach(c=>{({}).hasOwnProperty.call(i,c.iface)&&i[c.iface].forEach(function(m){(m.family==="IPv4"||m.family===4)&&(c.ip4subnet=m.netmask),(m.family==="IPv6"||m.family===6)&&(c.ip6subnet=m.netmask)});let p="",f=V.isPrototypePolluted()?"---":V.sanitizeShellString(c.iface),d=V.mathMin(f.length,2e3);for(let m=0;m<=d;m++)f[m]!==void 0&&(p=p+f[m]);n.push({iface:c.iface,ifaceName:c.iface,default:c.iface===u,ip4:c.ip4,ip4subnet:c.ip4subnet||"",ip6:c.ip6,ip6subnet:c.ip6subnet||"",mac:c.mac,internal:c.internal,virtual:c.internal?!1:_n(c.iface,c.iface,c.mac),operstate:c.operstate,type:c.type,duplex:c.duplex,mtu:c.mtu,speed:c.speed,dhcp:s0(p),dnsSuffix:"",ieee8021xAuth:"",ieee8021xState:"",carrierChanges:0})}),ir=n,e.toLowerCase().indexOf("default")>=0&&(n=n.filter(c=>c.default),n.length>0?n=n[0]:n=[]),t&&t(n),s(n)}if(Ye)if(JSON.stringify(i)===JSON.stringify(nr)&&!r)n=ir,t&&t(n),s(n);else{nr=JSON.parse(JSON.stringify(i)),ka=e0();let u=Bt();for(let c in i){let p="",f="",d="",m="",h="",y="",g="",S=null,w=0,x=!1,C="",b="",T="",Y="";if({}.hasOwnProperty.call(i,c)){let E=c;i[c].forEach(function(re){(re.family==="IPv4"||re.family===4)&&(p=re.address,f=re.netmask),(re.family==="IPv6"||re.family===6)&&(!d||d.match(/^fe80::/i))&&(d=re.address,m=re.netmask),h=re.mac;let ei=parseInt(process.versions.node.split("."),10);h.indexOf("00:00:0")>-1&&(Ye||Ke)&&!re.internal&&ei>=8&&ei<=11&&(Object.keys(or).length===0&&(or=ja()),h=or[c]||"")});let j=c.split(":")[0].trim().toLowerCase(),W="",ie=V.isPrototypePolluted()?"---":V.sanitizeShellString(j),ue=V.mathMin(ie.length,2e3);for(let re=0;re<=ue;re++)ie[re]!==void 0&&(W=W+ie[re]);let me=`echo -n "addr_assign_type: "; cat /sys/class/net/${W}/addr_assign_type 2>/dev/null; echo;
            echo -n "address: "; cat /sys/class/net/${W}/address 2>/dev/null; echo;
            echo -n "addr_len: "; cat /sys/class/net/${W}/addr_len 2>/dev/null; echo;
            echo -n "broadcast: "; cat /sys/class/net/${W}/broadcast 2>/dev/null; echo;
            echo -n "carrier: "; cat /sys/class/net/${W}/carrier 2>/dev/null; echo;
            echo -n "carrier_changes: "; cat /sys/class/net/${W}/carrier_changes 2>/dev/null; echo;
            echo -n "dev_id: "; cat /sys/class/net/${W}/dev_id 2>/dev/null; echo;
            echo -n "dev_port: "; cat /sys/class/net/${W}/dev_port 2>/dev/null; echo;
            echo -n "dormant: "; cat /sys/class/net/${W}/dormant 2>/dev/null; echo;
            echo -n "duplex: "; cat /sys/class/net/${W}/duplex 2>/dev/null; echo;
            echo -n "flags: "; cat /sys/class/net/${W}/flags 2>/dev/null; echo;
            echo -n "gro_flush_timeout: "; cat /sys/class/net/${W}/gro_flush_timeout 2>/dev/null; echo;
            echo -n "ifalias: "; cat /sys/class/net/${W}/ifalias 2>/dev/null; echo;
            echo -n "ifindex: "; cat /sys/class/net/${W}/ifindex 2>/dev/null; echo;
            echo -n "iflink: "; cat /sys/class/net/${W}/iflink 2>/dev/null; echo;
            echo -n "link_mode: "; cat /sys/class/net/${W}/link_mode 2>/dev/null; echo;
            echo -n "mtu: "; cat /sys/class/net/${W}/mtu 2>/dev/null; echo;
            echo -n "netdev_group: "; cat /sys/class/net/${W}/netdev_group 2>/dev/null; echo;
            echo -n "operstate: "; cat /sys/class/net/${W}/operstate 2>/dev/null; echo;
            echo -n "proto_down: "; cat /sys/class/net/${W}/proto_down 2>/dev/null; echo;
            echo -n "speed: "; cat /sys/class/net/${W}/speed 2>/dev/null; echo;
            echo -n "tx_queue_len: "; cat /sys/class/net/${W}/tx_queue_len 2>/dev/null; echo;
            echo -n "type: "; cat /sys/class/net/${W}/type 2>/dev/null; echo;
            echo -n "wireless: "; cat /proc/net/wireless 2>/dev/null | grep ${W}; echo;
            echo -n "wirelessspeed: "; iw dev ${W} link 2>&1 | grep bitrate; echo;`,X=[];try{X=ae(me,V.execOptsLinux).toString().split(`
`);let re=Zd(W);x=r0(W,re,ka),C=n0(re),b=i0(re),T=o0(b)}catch{V.noop()}y=V.getValue(X,"duplex"),y=y.startsWith("cat")?"":y,g=parseInt(V.getValue(X,"mtu"),10);let ge=parseInt(V.getValue(X,"speed"),10);S=isNaN(ge)?null:ge;let ce=V.getValue(X,"wirelessspeed").split("tx bitrate: ");S===null&&ce.length===2&&(ge=parseFloat(ce[1]),S=isNaN(ge)?null:ge),w=parseInt(V.getValue(X,"carrier_changes"),10);let ve=V.getValue(X,"operstate");Y=ve==="up"?V.getValue(X,"wireless").trim()?"wireless":"wired":"unknown",(W==="lo"||W.startsWith("bond"))&&(Y="virtual");let _e=i[c]&&i[c][0]?i[c][0].internal:!1;(c.toLowerCase().indexOf("loopback")>-1||E.toLowerCase().indexOf("loopback")>-1)&&(_e=!0);let te=_e?!1:_n(c,E,h);n.push({iface:W,ifaceName:E,default:j===u,ip4:p,ip4subnet:f,ip6:d,ip6subnet:m,mac:h,internal:_e,virtual:te,operstate:ve,type:Y,duplex:y,mtu:g,speed:S,dhcp:x,dnsSuffix:C,ieee8021xAuth:b,ieee8021xState:T,carrierChanges:w})}}ir=n,e.toLowerCase().indexOf("default")>=0&&(n=n.filter(c=>c.default),n.length>0?n=n[0]:n=[]),t&&t(n),s(n)}if(Nr)if(JSON.stringify(i)===JSON.stringify(nr)&&!r)n=ir,t&&t(n),s(n);else{nr=JSON.parse(JSON.stringify(i));let u=Bt();zd().then(function(c){c.forEach(p=>{let f=!1;Object.keys(i).forEach(d=>{f||i[d].forEach(m=>{Object.keys(m).indexOf("mac")>=0&&(f=m.mac===p.mac)})}),f||(i[p.name]=[{mac:p.mac}])}),l=jd(),a=Xd();for(let p in i){let f="",d=V.isPrototypePolluted()?"---":V.sanitizeShellString(p),m=V.mathMin(d.length,2e3);for(let X=0;X<=m;X++)d[X]!==void 0&&(f=f+d[X]);let h=p,y="",g="",S="",w="",x="",C="",b="",T=null,Y=0,E="down",j=!1,W="",ie="",ue="",me="";if({}.hasOwnProperty.call(i,p)){let X=p;i[p].forEach(function(te){(te.family==="IPv4"||te.family===4)&&(y=te.address,g=te.netmask),(te.family==="IPv6"||te.family===6)&&(!S||S.match(/^fe80::/i))&&(S=te.address,w=te.netmask),x=te.mac;let re=parseInt(process.versions.node.split("."),10);x.indexOf("00:00:0")>-1&&(Ye||Ke)&&!te.internal&&re>=8&&re<=11&&(Object.keys(or).length===0&&(or=ja()),x=or[p]||"")}),W=kd(a.ifaces,f);let ge=!1;c.forEach(te=>{te.mac===x&&!ge&&(h=te.iface||h,X=te.name,j=te.dhcp,E=te.operstate,T=E==="up"?te.speed:0,me=te.type,ge=!0)}),(p.toLowerCase().indexOf("wlan")>=0||X.toLowerCase().indexOf("wlan")>=0||X.toLowerCase().indexOf("802.11n")>=0||X.toLowerCase().indexOf("wireless")>=0||X.toLowerCase().indexOf("wi-fi")>=0||X.toLowerCase().indexOf("wifi")>=0)&&(me="wireless");let ce=Kd(me,f,l);ie=ce.protocol,ue=ce.state;let ve=i[p]&&i[p][0]?i[p][0].internal:!1;(p.toLowerCase().indexOf("loopback")>-1||X.toLowerCase().indexOf("loopback")>-1)&&(ve=!0);let _e=ve?!1:_n(p,X,x);n.push({iface:h,ifaceName:X,default:h===u,ip4:y,ip4subnet:g,ip6:S,ip6subnet:w,mac:x,internal:ve,virtual:_e,operstate:E,type:me,duplex:C,mtu:b,speed:T,dhcp:j,dnsSuffix:W,ieee8021xAuth:ie,ieee8021xState:ue,carrierChanges:Y})}}ir=n,e.toLowerCase().indexOf("default")>=0&&(n=n.filter(p=>p.default),n.length>0?n=n[0]:n=[]),t&&t(n),s(n)})}})})}Ut.networkInterfaces=En;function Is(t,r,e,s,i,n,o,a){let l={iface:t,operstate:s,rx_bytes:r,rx_dropped:i,rx_errors:n,tx_bytes:e,tx_dropped:o,tx_errors:a,rx_sec:null,tx_sec:null,ms:0};return K[t]&&K[t].ms?(l.ms=Date.now()-K[t].ms,l.rx_sec=r-K[t].rx_bytes>=0?(r-K[t].rx_bytes)/(l.ms/1e3):0,l.tx_sec=e-K[t].tx_bytes>=0?(e-K[t].tx_bytes)/(l.ms/1e3):0,K[t].rx_bytes=r,K[t].tx_bytes=e,K[t].rx_sec=l.rx_sec,K[t].tx_sec=l.tx_sec,K[t].ms=Date.now(),K[t].last_ms=l.ms,K[t].operstate=s):(K[t]||(K[t]={}),K[t].rx_bytes=r,K[t].tx_bytes=e,K[t].rx_sec=null,K[t].tx_sec=null,K[t].ms=Date.now(),K[t].last_ms=0,K[t].operstate=s),l}function Ja(t,r){let e=[];return new Promise(s=>{process.nextTick(()=>{if(V.isFunction(t)&&!r)r=t,e=[Bt()];else{if(typeof t!="string"&&t!==void 0)return r&&r([]),s([]);t=t||Bt(),t.__proto__.toLowerCase=V.stringToLower,t.__proto__.replace=V.stringReplace,t.__proto__.trim=V.stringTrim,t=t.trim().toLowerCase().replace(/,+/g,"|"),e=t.split("|")}let i=[],n=[];if(e.length&&e[0].trim()==="*")e=[],En(!1).then(o=>{for(let a of o)e.push(a.iface);Ja(e.join(",")).then(a=>{r&&r(a),s(a)})});else{for(let o of e)n.push(a0(o.trim()));n.length?Promise.all(n).then(o=>{r&&r(o),s(o)}):(r&&r(i),s(i))}})})}function a0(t){function r(e){let s=[];for(let i in e)if({}.hasOwnProperty.call(e,i)&&e[i].trim()!==""){let n=e[i].trim().split(`\r
`);s.push({name:V.getValue(n,"Name",":").replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase(),rx_bytes:parseInt(V.getValue(n,"BytesReceivedPersec",":"),10),rx_errors:parseInt(V.getValue(n,"PacketsReceivedErrors",":"),10),rx_dropped:parseInt(V.getValue(n,"PacketsReceivedDiscarded",":"),10),tx_bytes:parseInt(V.getValue(n,"BytesSentPersec",":"),10),tx_errors:parseInt(V.getValue(n,"PacketsOutboundErrors",":"),10),tx_dropped:parseInt(V.getValue(n,"PacketsOutboundDiscarded",":"),10)})}return s}return new Promise(e=>{process.nextTick(()=>{let s="",i=V.isPrototypePolluted()?"---":V.sanitizeShellString(t),n=V.mathMin(i.length,2e3);for(let g=0;g<=n;g++)i[g]!==void 0&&(s=s+i[g]);let o={iface:s,operstate:"unknown",rx_bytes:0,rx_dropped:0,rx_errors:0,tx_bytes:0,tx_dropped:0,tx_errors:0,rx_sec:null,tx_sec:null,ms:0},a="unknown",l=0,u=0,c=0,p=0,f=0,d=0,m,h,y;if(!K[s]||K[s]&&!K[s].ms||K[s]&&K[s].ms&&Date.now()-K[s].ms>=500){if(Ye&&(qd.existsSync("/sys/class/net/"+s)?(m="cat /sys/class/net/"+s+"/operstate; cat /sys/class/net/"+s+"/statistics/rx_bytes; cat /sys/class/net/"+s+"/statistics/tx_bytes; cat /sys/class/net/"+s+"/statistics/rx_dropped; cat /sys/class/net/"+s+"/statistics/rx_errors; cat /sys/class/net/"+s+"/statistics/tx_dropped; cat /sys/class/net/"+s+"/statistics/tx_errors; ",Ee(m,function(g,S){g||(h=S.toString().split(`
`),a=h[0].trim(),l=parseInt(h[1],10),u=parseInt(h[2],10),c=parseInt(h[3],10),p=parseInt(h[4],10),f=parseInt(h[5],10),d=parseInt(h[6],10),o=Is(s,l,u,a,c,p,f,d)),e(o)})):e(o)),(mt||gt||ht)&&(m="netstat -ibndI "+s,Ee(m,function(g,S){if(!g){h=S.toString().split(`
`);for(let w=1;w<h.length;w++){let x=h[w].replace(/ +/g," ").split(" ");x&&x[0]&&x[7]&&x[10]&&(l=l+parseInt(x[7]),x[6].trim()!=="-"&&(c=c+parseInt(x[6])),x[5].trim()!=="-"&&(p=p+parseInt(x[5])),u=u+parseInt(x[10]),x[12].trim()!=="-"&&(f=f+parseInt(x[12])),x[9].trim()!=="-"&&(d=d+parseInt(x[9])),a="up")}o=Is(s,l,u,a,c,p,f,d)}e(o)})),Ke&&(m="ifconfig "+s+' | grep "status"',Ee(m,function(g,S){o.operstate=(S.toString().split(":")[1]||"").trim(),o.operstate=(o.operstate||"").toLowerCase(),o.operstate=o.operstate==="active"?"up":o.operstate==="inactive"?"down":"unknown",m="netstat -bdI "+s,Ee(m,function(w,x){if(!w&&(h=x.toString().split(`
`),h.length>1&&h[1].trim()!=="")){y=h[1].replace(/ +/g," ").split(" ");let C=y.length>11?1:0;l=parseInt(y[C+5]),c=parseInt(y[C+10]),p=parseInt(y[C+4]),u=parseInt(y[C+8]),f=parseInt(y[C+10]),d=parseInt(y[C+7]),o=Is(s,l,u,o.operstate,c,p,f,d)}e(o)})})),Nr){let g=[],S=s;V.powerShell("Get-CimInstance Win32_PerfRawData_Tcpip_NetworkInterface | select Name,BytesReceivedPersec,PacketsReceivedErrors,PacketsReceivedDiscarded,BytesSentPersec,PacketsOutboundErrors,PacketsOutboundDiscarded | fl").then((w,x)=>{if(!x){let C=w.toString().split(/\n\s*\n/);g=r(C)}En(!1).then(C=>{l=0,u=0,g.forEach(b=>{C.forEach(T=>{(T.iface.toLowerCase()===s.toLowerCase()||T.mac.toLowerCase()===s.toLowerCase()||T.ip4.toLowerCase()===s.toLowerCase()||T.ip6.toLowerCase()===s.toLowerCase()||T.ifaceName.replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase()===s.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase())&&T.ifaceName.replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase()===b.name&&(S=T.iface,l=b.rx_bytes,c=b.rx_dropped,p=b.rx_errors,u=b.tx_bytes,f=b.tx_dropped,d=b.tx_errors,a=T.operstate)})}),l&&u&&(o=Is(S,parseInt(l),parseInt(u),a,c,p,f,d)),e(o)})})}}else o.rx_bytes=K[s].rx_bytes,o.tx_bytes=K[s].tx_bytes,o.rx_sec=K[s].rx_sec,o.tx_sec=K[s].tx_sec,o.ms=K[s].last_ms,o.operstate=K[s].operstate,e(o)})})}Ut.networkStats=Ja;function l0(t,r){let e="";t.forEach(i=>{let n=i.split(" ");(parseInt(n[0],10)||-1)===r&&(n.shift(),e=n.join(" ").split(":")[0])}),e=e.split(" -")[0];let s=e.split("/");return s[s.length-1]}function u0(t){return new Promise(r=>{process.nextTick(()=>{let e=[];if(Ye||mt||gt||ht){let s='export LC_ALL=C; netstat -tunap | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';(mt||gt||ht)&&(s='export LC_ALL=C; netstat -na | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL'),Ee(s,{maxBuffer:1024*2e4},function(i,n){let o=n.toString().split(`
`);!i&&(o.length>1||o[0]!="")?(o.forEach(function(a){if(a=a.replace(/ +/g," ").split(" "),a.length>=7){let l=a[3],u="",c=a[3].split(":");c.length>1&&(u=c[c.length-1],c.pop(),l=c.join(":"));let p=a[4],f="",d=a[4].split(":");d.length>1&&(f=d[d.length-1],d.pop(),p=d.join(":"));let m=a[5],h=a[6].split("/");m&&e.push({protocol:a[0],localAddress:l,localPort:u,peerAddress:p,peerPort:f,state:m,pid:h[0]&&h[0]!=="-"?parseInt(h[0],10):null,process:h[1]?h[1].split(" ")[0].split(":")[0]:""})}}),t&&t(e),r(e)):(s='ss -tunap | grep "ESTAB\\|SYN-SENT\\|SYN-RECV\\|FIN-WAIT1\\|FIN-WAIT2\\|TIME-WAIT\\|CLOSE\\|CLOSE-WAIT\\|LAST-ACK\\|LISTEN\\|CLOSING"',Ee(s,{maxBuffer:1024*2e4},function(a,l){a||l.toString().split(`
`).forEach(function(c){if(c=c.replace(/ +/g," ").split(" "),c.length>=6){let p=c[4],f="",d=c[4].split(":");d.length>1&&(f=d[d.length-1],d.pop(),p=d.join(":"));let m=c[5],h="",y=c[5].split(":");y.length>1&&(h=y[y.length-1],y.pop(),m=y.join(":"));let g=c[1];g==="ESTAB"&&(g="ESTABLISHED"),g==="TIME-WAIT"&&(g="TIME_WAIT");let S=null,w="";if(c.length>=7&&c[6].indexOf("users:")>-1){let x=c[6].replace('users:(("',"").replace(/"/g,"").split(",");x.length>2&&(w=x[0].split(" ")[0].split(":")[0],S=parseInt(x[1],10))}g&&e.push({protocol:c[0],localAddress:p,localPort:f,peerAddress:m,peerPort:h,state:g,pid:S,process:w})}}),t&&t(e),r(e)}))})}if(Ke){let s='netstat -natvln | grep "tcp4\\|tcp6\\|udp4\\|udp6"',i="ESTABLISHED|SYN_SENT|SYN_RECV|FIN_WAIT1|FIN_WAIT2|TIME_WAIT|CLOSE|CLOSE_WAIT|LAST_ACK|LISTEN|CLOSING|UNKNOWN";Ee(s,{maxBuffer:1024*2e4},function(n,o){n||Ee("ps -axo pid,command",{maxBuffer:1024*2e4},function(a,l){let u=l.toString().split(`
`);u=u.map(p=>p.trim().replace(/ +/g," ")),o.toString().split(`
`).forEach(function(p){if(p=p.replace(/ +/g," ").split(" "),p.length>=8){let f=p[3],d="",m=p[3].split(".");m.length>1&&(d=m[m.length-1],m.pop(),f=m.join("."));let h=p[4],y="",g=p[4].split(".");g.length>1&&(y=g[g.length-1],g.pop(),h=g.join("."));let S=i.indexOf(p[5])>=0,w=S?p[5]:"UNKNOWN",x=parseInt(p[8+(S?0:-1)],10);w&&e.push({protocol:p[0],localAddress:f,localPort:d,peerAddress:h,peerPort:y,state:w,pid:x,process:l0(u,x)})}}),t&&t(e),r(e)})})}if(Nr){let s="netstat -nao";try{Ee(s,V.execOptsWin,function(i,n){i||(n.toString().split(`\r
`).forEach(function(a){if(a=a.trim().replace(/ +/g," ").split(" "),a.length>=4){let l=a[1],u="",c=a[1].split(":");c.length>1&&(u=c[c.length-1],c.pop(),l=c.join(":")),l=l.replace(/\[/g,"").replace(/\]/g,"");let p=a[2],f="",d=a[2].split(":");d.length>1&&(f=d[d.length-1],d.pop(),p=d.join(":")),p=p.replace(/\[/g,"").replace(/\]/g,"");let m=V.toInt(a[4]),h=a[3];h==="HERGESTELLT"&&(h="ESTABLISHED"),h.startsWith("ABH")&&(h="LISTEN"),h==="SCHLIESSEN_WARTEN"&&(h="CLOSE_WAIT"),h==="WARTEND"&&(h="TIME_WAIT"),h==="SYN_GESENDET"&&(h="SYN_SENT"),h==="LISTENING"&&(h="LISTEN"),h==="SYN_RECEIVED"&&(h="SYN_RECV"),h==="FIN_WAIT_1"&&(h="FIN_WAIT1"),h==="FIN_WAIT_2"&&(h="FIN_WAIT2"),a[0].toLowerCase()!=="udp"&&h?e.push({protocol:a[0].toLowerCase(),localAddress:l,localPort:u,peerAddress:p,peerPort:f,state:h,pid:m,process:""}):a[0].toLowerCase()==="udp"&&e.push({protocol:a[0].toLowerCase(),localAddress:l,localPort:u,peerAddress:p,peerPort:f,state:"",pid:parseInt(a[3],10),process:""})}}),t&&t(e),r(e))})}catch{t&&t(e),r(e)}}})})}Ut.networkConnections=u0;function c0(t){return new Promise(r=>{process.nextTick(()=>{let e="";if(Ye||mt||gt||ht){let s="ip route get 1";try{Ee(s,{maxBuffer:1024*2e4},function(i,n){if(i)t&&t(e),r(e);else{let o=n.toString().split(`
`),l=(o&&o[0]?o[0]:"").split(" via ");l&&l[1]&&(l=l[1].split(" "),e=l[0]),t&&t(e),r(e)}})}catch{t&&t(e),r(e)}}if(Ke){let s="route -n get default";try{Ee(s,{maxBuffer:1024*2e4},function(i,n){if(!i){let o=n.toString().split(`
`).map(a=>a.trim());e=V.getValue(o,"gateway")}e?(t&&t(e),r(e)):(s="netstat -rn | awk '/default/ {print $2}'",Ee(s,{maxBuffer:1024*2e4},function(o,a){e=a.toString().split(`
`).map(u=>u.trim()).find(u=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(u)),t&&t(e),r(e)}))})}catch{t&&t(e),r(e)}}if(Nr)try{Ee("netstat -r",V.execOptsWin,function(s,i){i.toString().split(Os.EOL).forEach(o=>{if(o=o.replace(/\s+/g," ").trim(),o.indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(o)){let a=o.split(" ");a.length>=5&&a[a.length-3].indexOf(".")>-1&&(e=a[a.length-3])}}),e?(t&&t(e),r(e)):V.powerShell("Get-CimInstance -ClassName Win32_IP4RouteTable | Where-Object { $_.Destination -eq '0.0.0.0' -and $_.Mask -eq '0.0.0.0' }").then(o=>{let a=o.toString().split(`\r
`);a.length>1&&!e&&(e=V.getValue(a,"NextHop"),t&&t(e),r(e))})})}catch{t&&t(e),r(e)}})})}Ut.networkGatewayDefault=c0});var nl=M(vs=>{"use strict";var Ar=require("os"),Ls=require("child_process").exec,yt=require("child_process").execSync,_=oe(),_s=process.platform,vn=_s==="linux"||_s==="android",Pn=_s==="darwin",Vn=_s==="win32";function Tn(t){let r=parseFloat(t);return r<0?0:r>=100?-50:r/2-100}function Es(t){let r=2*(parseFloat(t)+100);return r<=100?r:100}var Mr={1:2412,2:2417,3:2422,4:2427,5:2432,6:2437,7:2442,8:2447,9:2452,10:2457,11:2462,12:2467,13:2472,14:2484,32:5160,34:5170,36:5180,38:5190,40:5200,42:5210,44:5220,46:5230,48:5240,50:5250,52:5260,54:5270,56:5280,58:5290,60:5300,62:5310,64:5320,68:5340,96:5480,100:5500,102:5510,104:5520,106:5530,108:5540,110:5550,112:5560,114:5570,116:5580,118:5590,120:5600,122:5610,124:5620,126:5630,128:5640,132:5660,134:5670,136:5680,138:5690,140:5700,142:5710,144:5720,149:5745,151:5755,153:5765,155:5775,157:5785,159:5795,161:5805,165:5825,169:5845,173:5865,183:4915,184:4920,185:4925,187:4935,188:4940,189:4945,192:4960,196:4980};function ar(t){return{}.hasOwnProperty.call(Mr,t)?Mr[t]:null}function p0(t){let r=0;for(let e in Mr)({}).hasOwnProperty.call(Mr,e)&&Mr[e]===t&&(r=_.toInt(e));return r}function tl(){let t=[],r="iw dev 2>/dev/null";try{let s=yt(r,_.execOptsLinux).toString().split(`
`).map(i=>i.trim()).join(`
`).split(`
Interface `);return s.shift(),s.forEach(i=>{let n=i.split(`
`),o=n[0],a=_.toInt(_.getValue(n,"ifindex"," ")),l=_.getValue(n,"addr"," "),u=_.toInt(_.getValue(n,"channel"," "));t.push({id:a,iface:o,mac:l,channel:u})}),t}catch{try{let i=yt("nmcli -t -f general,wifi-properties,wired-properties,interface-flags,capabilities,nsp device show 2>/dev/null",_.execOptsLinux).toString().split(`

`),n=1;return i.forEach(o=>{let a=o.split(`
`),l=_.getValue(a,"GENERAL.DEVICE"),u=_.getValue(a,"GENERAL.TYPE"),c=n++,p=_.getValue(a,"GENERAL.HWADDR");u.toLowerCase()==="wifi"&&t.push({id:c,iface:l,mac:p,channel:""})}),t}catch{return[]}}}function rl(t){let r=`nmcli -t -f general,wifi-properties,capabilities,ip4,ip6 device show ${t} 2>/dev/null`;try{let e=yt(r,_.execOptsLinux).toString().split(`
`),s=_.getValue(e,"GENERAL.CONNECTION");return{iface:t,type:_.getValue(e,"GENERAL.TYPE"),vendor:_.getValue(e,"GENERAL.VENDOR"),product:_.getValue(e,"GENERAL.PRODUCT"),mac:_.getValue(e,"GENERAL.HWADDR").toLowerCase(),ssid:s!=="--"?s:null}}catch{return{}}}function f0(t){let r=`nmcli -t --show-secrets connection show ${t} 2>/dev/null`;try{let e=yt(r,_.execOptsLinux).toString().split(`
`),s=_.getValue(e,"802-11-wireless.seen-bssids").toLowerCase();return{ssid:t!=="--"?t:null,uuid:_.getValue(e,"connection.uuid"),type:_.getValue(e,"connection.type"),autoconnect:_.getValue(e,"connection.autoconnect")==="yes",security:_.getValue(e,"802-11-wireless-security.key-mgmt"),bssid:s!=="--"?s:null}}catch{return{}}}function d0(t){if(!t)return{};let r=`wpa_cli -i ${t} status 2>&1`;try{let e=yt(r,_.execOptsLinux).toString().split(`
`),s=_.toInt(_.getValue(e,"freq","="));return{ssid:_.getValue(e,"ssid","="),uuid:_.getValue(e,"uuid","="),security:_.getValue(e,"key_mgmt","="),freq:s,channel:p0(s),bssid:_.getValue(e,"bssid","=").toLowerCase()}}catch{return{}}}function sl(){let t=[],r="nmcli -t -m multiline --fields active,ssid,bssid,mode,chan,freq,signal,security,wpa-flags,rsn-flags device wifi list 2>/dev/null";try{let s=yt(r,_.execOptsLinux).toString().split("ACTIVE:");return s.shift(),s.forEach(i=>{i="ACTIVE:"+i;let n=i.split(Ar.EOL),o=_.getValue(n,"CHAN"),a=_.getValue(n,"FREQ").toLowerCase().replace("mhz","").trim(),l=_.getValue(n,"SECURITY").replace("(","").replace(")",""),u=_.getValue(n,"WPA-FLAGS").replace("(","").replace(")",""),c=_.getValue(n,"RSN-FLAGS").replace("(","").replace(")",""),p=_.getValue(n,"SIGNAL");t.push({ssid:_.getValue(n,"SSID"),bssid:_.getValue(n,"BSSID").toLowerCase(),mode:_.getValue(n,"MODE"),channel:o?parseInt(o,10):null,frequency:a?parseInt(a,10):null,signalLevel:Tn(p),quality:p?parseInt(p,10):null,security:l&&l!=="none"?l.split(" "):[],wpaFlags:u&&u!=="none"?u.split(" "):[],rsnFlags:c&&c!=="none"?c.split(" "):[]})}),t}catch{return[]}}function Za(t){let r=[];try{let e=yt(`export LC_ALL=C; iwlist ${t} scan 2>&1; unset LC_ALL`,_.execOptsLinux).toString().split("        Cell ");return e[0].indexOf("resource busy")>=0?-1:(e.length>1&&(e.shift(),e.forEach(s=>{let i=s.split(`
`),n=_.getValue(i,"channel",":",!0),o=i&&i.length&&i[0].indexOf("Address:")>=0?i[0].split("Address:")[1].trim().toLowerCase():"",a=_.getValue(i,"mode",":",!0),l=_.getValue(i,"frequency",":",!0),c=_.getValue(i,"Quality","=",!0).toLowerCase().split("signal level="),p=c.length>1?_.toInt(c[1]):0,f=p?Es(p):0,d=_.getValue(i,"essid",":",!0),m=s.indexOf(" WPA ")>=0,h=s.indexOf("WPA2 ")>=0,y=[];m&&y.push("WPA"),h&&y.push("WPA2");let g=[],S="";i.forEach(function(w){let x=w.trim().toLowerCase();if(x.indexOf("group cipher")>=0){S&&g.push(S);let C=x.split(":");C.length>1&&(S=C[1].trim().toUpperCase())}if(x.indexOf("pairwise cipher")>=0){let C=x.split(":");C.length>1&&(C[1].indexOf("tkip")?S=S?"TKIP/"+S:"TKIP":C[1].indexOf("ccmp")?S=S?"CCMP/"+S:"CCMP":C[1].indexOf("proprietary")&&(S=S?"PROP/"+S:"PROP"))}if(x.indexOf("authentication suites")>=0){let C=x.split(":");C.length>1&&(C[1].indexOf("802.1x")?S=S?"802.1x/"+S:"802.1x":C[1].indexOf("psk")&&(S=S?"PSK/"+S:"PSK"))}}),S&&g.push(S),r.push({ssid:d,bssid:o,mode:a,channel:n?_.toInt(n):null,frequency:l?_.toInt(l.replace(".","")):null,signalLevel:p,quality:f,security:y,wpaFlags:g,rsnFlags:[]})})),r)}catch{return-1}}function m0(t){let r=[];return t&&t.forEach(function(e){let s=e.RSSI,i=[],n=[],o=e.SSID_STR||"";if(e.WPA_IE&&(i.push("WPA"),e.WPA_IE.IE_KEY_WPA_UCIPHERS&&e.WPA_IE.IE_KEY_WPA_UCIPHERS.forEach(function(a){a===0&&n.indexOf("unknown/TKIP")===-1&&n.push("unknown/TKIP"),a===2&&n.indexOf("PSK/TKIP")===-1&&n.push("PSK/TKIP"),a===4&&n.indexOf("PSK/AES")===-1&&n.push("PSK/AES")})),e.RSN_IE&&(i.push("WPA2"),e.RSN_IE.IE_KEY_RSN_UCIPHERS&&e.RSN_IE.IE_KEY_RSN_UCIPHERS.forEach(function(a){a===0&&n.indexOf("unknown/TKIP")===-1&&n.push("unknown/TKIP"),a===2&&n.indexOf("TKIP/TKIP")===-1&&n.push("TKIP/TKIP"),a===4&&n.indexOf("PSK/AES")===-1&&n.push("PSK/AES")})),e.SSID&&o==="")try{o=Buffer.from(e.SSID,"base64").toString("utf8")}catch{_.noop()}r.push({ssid:o,bssid:e.BSSID||"",mode:"",channel:e.CHANNEL,frequency:ar(e.CHANNEL),signalLevel:s?parseInt(s,10):null,quality:Es(s),security:i,wpaFlags:n,rsnFlags:[]})}),r}function g0(t){return new Promise(r=>{process.nextTick(()=>{let e=[];if(vn)if(e=sl(),e.length===0)try{let s=yt("export LC_ALL=C; iwconfig 2>/dev/null; unset LC_ALL",_.execOptsLinux).toString().split(`

`),i="";if(s.forEach(n=>{n.indexOf("no wireless")===-1&&n.trim()!==""&&(i=n.split(" ")[0])}),i){let n="",o=_.isPrototypePolluted()?"---":_.sanitizeShellString(i,!0),a=_.mathMin(o.length,2e3);for(let u=0;u<=a;u++)o[u]!==void 0&&(n=n+o[u]);let l=Za(n);l===-1?setTimeout(function(u){let c=Za(u);c!=-1&&(e=c),t&&t(e),r(e)},4e3):(e=l,t&&t(e),r(e))}else t&&t(e),r(e)}catch{t&&t(e),r(e)}else t&&t(e),r(e);else Pn?Ls("/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s -x",{maxBuffer:1024*4e4},function(i,n){let o=n.toString();e=m0(_.plistParser(o)),t&&t(e),r(e)}):Vn?_.powerShell("netsh wlan show networks mode=Bssid").then(i=>{let n=i.toString("utf8").split(Ar.EOL+Ar.EOL+"SSID ");n.shift(),n.forEach(o=>{let a=o.split(Ar.EOL);if(a&&a.length>=8&&a[0].indexOf(":")>=0){let l=o.split(" BSSID");l.shift(),l.forEach(u=>{let c=u.split(Ar.EOL),p=c[0].split(":");p.shift();let f=p.join(":").trim().toLowerCase(),d=c[3].split(":").pop().trim(),m=c[1].split(":").pop().trim();e.push({ssid:a[0].split(":").pop().trim(),bssid:f,mode:"",channel:d?parseInt(d,10):null,frequency:ar(d),signalLevel:Tn(m),quality:m?parseInt(m,10):null,security:[a[2].split(":").pop().trim()],wpaFlags:[a[3].split(":").pop().trim()],rsnFlags:[]})})}}),t&&t(e),r(e)}):(t&&t(e),r(e))})})}vs.wifiNetworks=g0;function h0(t){t=t.toLowerCase();let r="";return t.indexOf("intel")>=0?r="Intel":t.indexOf("realtek")>=0?r="Realtek":t.indexOf("qualcom")>=0?r="Qualcom":t.indexOf("broadcom")>=0?r="Broadcom":t.indexOf("cavium")>=0?r="Cavium":t.indexOf("cisco")>=0?r="Cisco":t.indexOf("marvel")>=0?r="Marvel":t.indexOf("zyxel")>=0?r="Zyxel":t.indexOf("melanox")>=0?r="Melanox":t.indexOf("d-link")>=0?r="D-Link":t.indexOf("tp-link")>=0?r="TP-Link":t.indexOf("asus")>=0?r="Asus":t.indexOf("linksys")>=0&&(r="Linksys"),r}function el(t){return t=t.replace(/</g,"").replace(/>/g,"").match(/.{1,2}/g)||[],t.join(":")}function y0(t){return new Promise(r=>{process.nextTick(()=>{let e=[];if(vn){let s=tl(),i=sl();s.forEach(n=>{let o="",a=_.isPrototypePolluted()?"---":_.sanitizeShellString(n.iface,!0),l=_.mathMin(a.length,2e3);for(let x=0;x<=l;x++)a[x]!==void 0&&(o=o+a[x]);let u=rl(o),c=d0(o),p=u.ssid||c.ssid,f=i.filter(x=>x.ssid===p),d="",m=_.isPrototypePolluted()?"---":_.sanitizeShellString(p,!0),h=_.mathMin(m.length,2e3);for(let x=0;x<=h;x++)m[x]!==void 0&&(d=d+m[x]);let y=f0(d),g=f&&f.length&&f[0].channel?f[0].channel:c.channel?c.channel:null,S=f&&f.length&&f[0].bssid?f[0].bssid:c.bssid?c.bssid:null,w=f&&f.length&&f[0].signalLevel?f[0].signalLevel:null;p&&S&&e.push({id:n.id,iface:n.iface,model:u.product,ssid:p,bssid:f&&f.length&&f[0].bssid?f[0].bssid:c.bssid?c.bssid:null,channel:g,frequency:g?ar(g):null,type:y.type?y.type:"802.11",security:y.security?y.security:c.security?c.security:null,signalLevel:w,quality:Es(w),txRate:null})}),t&&t(e),r(e)}else if(Pn){let s="system_profiler SPNetworkDataType";Ls(s,function(i,n){let o=n.toString().split(`

    Wi-Fi:

`);if(o.length>1){let a=o[1].split(`

`)[0].split(`
`),l=_.getValue(a,"BSD Device Name",":",!0),u=_.getValue(a,"hardware",":",!0);s='/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I 2>/dev/null; echo "######" ; ioreg -n AppleBCMWLANSkywalkInterface -r 2>/dev/null',Ls(s,function(c,p){let f=p.toString().split("######"),d=f[0].split(`
`),m=[];if(f[1].indexOf("  | {")>0&&f[1].indexOf("  | }")>f[1].indexOf("  | {")&&(m=f[1].split("  | {")[1].split("  | }")[0].replace(/ \| /g,"").replace(/"/g,"").split(`
`)),d.length>10){let h=_.getValue(d,"ssid",":",!0),y=_.getValue(d,"bssid",":",!0)||el(_.getValue(m,"IO80211BSSID","=",!0)),g=_.getValue(d,"link auth",":",!0),S=_.getValue(d,"lastTxRate",":",!0),w=_.getValue(d,"channel",":",!0).split(",")[0],x="802.11",b=_.toInt(_.getValue(d,"agrCtlRSSI",":",!0));(h||y)&&e.push({id:"Wi-Fi",iface:l,model:u,ssid:h,bssid:y,channel:_.toInt(w),frequency:w?ar(w):null,type:x,security:g,signalLevel:b,quality:Es(b),txRate:S})}if(m.length>10){let h=_.getValue(m,"IO80211SSID","=",!0),y=el(_.getValue(m,"IO80211BSSID","=",!0)),g="",S=-1,w=-1,x=-1,C=_.getValue(m,"IO80211Channel","=",!0);(h||y)&&!e.length&&e.push({id:"Wi-Fi",iface:l,model:u,ssid:h,bssid:y,channel:_.toInt(C),frequency:C?ar(C):null,type:"802.11",security:g,signalLevel:w,quality:x,txRate:S})}t&&t(e),r(e)})}else t&&t(e),r(e)})}else Vn?_.powerShell("netsh wlan show interfaces").then(function(i){let n=i.toString().split(`\r
`);for(let a=0;a<n.length;a++)n[a]=n[a].trim();let o=n.join(`\r
`).split(`:\r
\r
`);o.shift(),o.forEach(a=>{let l=a.split(`\r
`);if(l.length>=5){let u=l[0].indexOf(":")>=0?l[0].split(":")[1].trim():"",c=l[1].indexOf(":")>=0?l[1].split(":")[1].trim():"",p=l[2].indexOf(":")>=0?l[2].split(":")[1].trim():"",f=_.getValue(l,"SSID",":",!0),d=_.getValue(l,"BSSID",":",!0),m=_.getValue(l,"Signal",":",!0),h=Tn(m),y=_.getValue(l,"Radio type",":",!0)||_.getValue(l,"Type de radio",":",!0)||_.getValue(l,"Funktyp",":",!0)||null,g=_.getValue(l,"authentication",":",!0)||_.getValue(l,"Authentification",":",!0)||_.getValue(l,"Authentifizierung",":",!0)||null,S=_.getValue(l,"Channel",":",!0)||_.getValue(l,"Canal",":",!0)||_.getValue(l,"Kanal",":",!0)||null,w=_.getValue(l,"Transmit rate (mbps)",":",!0)||_.getValue(l,"Transmission (mbit/s)",":",!0)||_.getValue(l,"Empfangsrate (MBit/s)",":",!0)||null;c&&p&&f&&d&&e.push({id:p,iface:u,model:c,ssid:f,bssid:d,channel:_.toInt(S),frequency:S?ar(S):null,type:y,security:g,signalLevel:h,quality:m?parseInt(m,10):null,txRate:_.toInt(w)||null})}}),t&&t(e),r(e)}):(t&&t(e),r(e))})})}vs.wifiConnections=y0;function S0(t){return new Promise(r=>{process.nextTick(()=>{let e=[];vn?(tl().forEach(i=>{let n=rl(i.iface);e.push({id:i.id,iface:i.iface,model:n.product?n.product:null,vendor:n.vendor?n.vendor:null,mac:i.mac})}),t&&t(e),r(e)):Pn?Ls("system_profiler SPNetworkDataType",function(i,n){let o=n.toString().split(`

    Wi-Fi:

`);if(o.length>1){let a=o[1].split(`

`)[0].split(`
`),l=_.getValue(a,"BSD Device Name",":",!0),u=_.getValue(a,"MAC Address",":",!0),c=_.getValue(a,"hardware",":",!0);e.push({id:"Wi-Fi",iface:l,model:c,vendor:"",mac:u})}t&&t(e),r(e)}):Vn?_.powerShell("netsh wlan show interfaces").then(function(i){let n=i.toString().split(`\r
`);for(let a=0;a<n.length;a++)n[a]=n[a].trim();let o=n.join(`\r
`).split(`:\r
\r
`);o.shift(),o.forEach(a=>{let l=a.split(`\r
`);if(l.length>=5){let u=l[0].indexOf(":")>=0?l[0].split(":")[1].trim():"",c=l[1].indexOf(":")>=0?l[1].split(":")[1].trim():"",p=l[2].indexOf(":")>=0?l[2].split(":")[1].trim():"",f=l[3].indexOf(":")>=0?l[3].split(":"):[];f.shift();let d=f.join(":").trim(),m=h0(c);u&&c&&p&&d&&e.push({id:p,iface:u,model:c,vendor:m,mac:d})}}),t&&t(e),r(e)}):(t&&t(e),r(e))})})}vs.wifiInterfaces=S0});var al=M(Ts=>{"use strict";var Vs=require("os"),w0=require("fs"),x0=require("path"),Rr=require("child_process").exec,Dn=require("child_process").execSync,q=oe(),St=process.platform,ze=St==="linux"||St==="android",Gt=St==="darwin",Nn=St==="win32",br=St==="freebsd",Fr=St==="openbsd",Wr=St==="netbsd",Ps=St==="sunos",fe={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},lr={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},Le={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},il={0:"unknown",1:"other",2:"ready",3:"running",4:"blocked",5:"suspended blocked",6:"suspended ready",7:"terminated",8:"stopped",9:"growing"};function C0(t){let r=t,e=t.replace(/ +/g," ").split(" ");return e.length===5&&(r=e[4]+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(e[1].toUpperCase())/3+1)).slice(-2)+"-"+("0"+e[2]).slice(-2)+" "+e[3]),r}function I0(t){let r=new Date;r=new Date(r.getTime()-r.getTimezoneOffset()*6e4);let e=t.split("-"),s=e.length-1,i=s>0?parseInt(e[s-1]):0,n=e[s].split(":"),o=n.length===3?parseInt(n[0]||0):0,a=parseInt(n[n.length===3?1:0]||0),l=parseInt(n[n.length===3?2:1]||0),u=(((i*24+o)*60+a)*60+l)*1e3,c=new Date(r.getTime()),p=c.toISOString().substring(0,10)+" "+c.toISOString().substring(11,19);try{c=new Date(r.getTime()-u),p=c.toISOString().substring(0,10)+" "+c.toISOString().substring(11,19)}catch{q.noop()}return p}function O0(t,r){return q.isFunction(t)&&!r&&(r=t,t=""),new Promise(e=>{process.nextTick(()=>{if(typeof t!="string")return r&&r([]),e([]);if(t){let s="";s.__proto__.toLowerCase=q.stringToLower,s.__proto__.replace=q.stringReplace,s.__proto__.trim=q.stringTrim;let i=q.sanitizeShellString(t),n=q.mathMin(i.length,2e3);for(let u=0;u<=n;u++)i[u]!==void 0&&(s=s+i[u]);s=s.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"),s===""&&(s="*"),q.isPrototypePolluted()&&s!=="*"&&(s="------");let o=s.split("|"),a=[],l=[];if(ze||br||Fr||Wr||Gt){if((ze||br||Fr||Wr)&&s==="*")try{let c=Dn("systemctl --all --type=service --no-legend 2> /dev/null",q.execOptsLinux).toString().split(`
`);o=[];for(let p of c){let f=p.split(".service")[0];f&&p.indexOf(" not-found ")===-1&&o.push(f.trim())}s=o.join("|")}catch{try{s="";let p=Dn("service --status-all 2> /dev/null",q.execOptsLinux).toString().split(`
`);for(let f of p){let d=f.split("]");d.length===2&&(s+=(s!==""?"|":"")+d[1].trim())}o=s.split("|")}catch{try{let f=Dn("ls /etc/init.d/ -m 2> /dev/null",q.execOptsLinux).toString().split(`
`).join("");if(s="",f){let d=f.split(",");for(let m of d){let h=m.trim();h&&(s+=(s!==""?"|":"")+h)}o=s.split("|")}}catch{s="",o=[]}}}Gt&&s==="*"&&(r&&r(a),e(a));let u=Gt?["-caxo","pcpu,pmem,pid,command"]:["-axo","pcpu,pmem,pid,command"];s!==""&&o.length>0?q.execSafe("ps",u).then(c=>{if(c){let p=c.replace(/ +/g," ").replace(/,+/g,".").split(`
`);if(o.forEach(function(f){let d;Gt?d=p.filter(function(h){return h.toLowerCase().indexOf(f)!==-1}):d=p.filter(function(h){return h.toLowerCase().indexOf(" "+f.toLowerCase()+":")!==-1||h.toLowerCase().indexOf("/"+f.toLowerCase())!==-1});let m=[];for(let h of d){let y=h.trim().split(" ")[2];y&&m.push(parseInt(y,10))}a.push({name:f,running:d.length>0,startmode:"",pids:m,cpu:parseFloat(d.reduce(function(h,y){return h+parseFloat(y.trim().split(" ")[0])},0).toFixed(2)),mem:parseFloat(d.reduce(function(h,y){return h+parseFloat(y.trim().split(" ")[1])},0).toFixed(2))})}),ze){let f='cat /proc/stat | grep "cpu "';for(let d in a)for(let m in a[d].pids)f+=";cat /proc/"+a[d].pids[m]+"/stat";Rr(f,{maxBuffer:1024*2e4},function(d,m){let h=m.toString().split(`
`),y=An(h.shift()),g={},S={};h.forEach(w=>{if(S=Mn(w,y,lr),S.pid){let x=-1;for(let C in a)for(let b in a[C].pids)parseInt(a[C].pids[b])===parseInt(S.pid)&&(x=C);x>=0&&(a[x].cpu+=S.cpuu+S.cpus),g[S.pid]={cpuu:S.cpuu,cpus:S.cpus,utime:S.utime,stime:S.stime,cutime:S.cutime,cstime:S.cstime}}}),lr.all=y,lr.list=Object.assign({},g),lr.ms=Date.now()-lr.ms,lr.result=Object.assign({},a),r&&r(a),e(a)})}else r&&r(a),e(a)}else u=["-o","comm"],q.execSafe("ps",u).then(p=>{if(p){let f=p.replace(/ +/g," ").replace(/,+/g,".").split(`
`);o.forEach(function(d){let m=f.filter(function(h){return h.indexOf(d)!==-1});a.push({name:d,running:m.length>0,startmode:"",cpu:0,mem:0})}),r&&r(a),e(a)}else o.forEach(function(f){a.push({name:f,running:!1,startmode:"",cpu:0,mem:0})}),r&&r(a),e(a)})}):(r&&r(a),e(a))}if(Nn)try{let u="Get-CimInstance Win32_Service";o[0]!=="*"&&(u+=' -Filter "',o.forEach(c=>{u+=`Name='${c}' or `}),u=`${u.slice(0,-4)}"`),u+=" | select Name,Caption,Started,StartMode,ProcessId | fl",q.powerShell(u).then((c,p)=>{p?(o.forEach(function(f){a.push({name:f,running:!1,startmode:"",cpu:0,mem:0})}),r&&r(a),e(a)):(c.split(/\n\s*\n/).forEach(d=>{if(d.trim()!==""){let m=d.trim().split(`\r
`),h=q.getValue(m,"Name",":",!0).toLowerCase(),y=q.getValue(m,"Caption",":",!0).toLowerCase(),g=q.getValue(m,"Started",":",!0),S=q.getValue(m,"StartMode",":",!0),w=q.getValue(m,"ProcessId",":",!0);(s==="*"||o.indexOf(h)>=0||o.indexOf(y)>=0)&&(a.push({name:h,running:g.toLowerCase()==="true",startmode:S,pids:[w],cpu:0,mem:0}),l.push(h),l.push(y))}}),s!=="*"&&o.filter(function(m){return l.indexOf(m)===-1}).forEach(function(m){a.push({name:m,running:!1,startmode:"",pids:[],cpu:0,mem:0})}),r&&r(a),e(a))})}catch{r&&r(a),e(a)}}else r&&r([]),e([])})})}Ts.services=O0;function An(t){let r=t.replace(/ +/g," ").split(" "),e=r.length>=2?parseInt(r[1]):0,s=r.length>=3?parseInt(r[2]):0,i=r.length>=4?parseInt(r[3]):0,n=r.length>=5?parseInt(r[4]):0,o=r.length>=6?parseInt(r[5]):0,a=r.length>=7?parseInt(r[6]):0,l=r.length>=8?parseInt(r[7]):0,u=r.length>=9?parseInt(r[8]):0,c=r.length>=10?parseInt(r[9]):0,p=r.length>=11?parseInt(r[10]):0;return e+s+i+n+o+a+l+u+c+p}function Mn(t,r,e){let s=t.replace(/ +/g," ").split(")");if(s.length>=2){let i=s[1].split(" ");if(i.length>=16){let n=parseInt(s[0].split(" ")[0]),o=parseInt(i[12]),a=parseInt(i[13]),l=parseInt(i[14]),u=parseInt(i[15]),c=0,p=0;return e.all>0&&e.list[n]?(c=(o+l-e.list[n].utime-e.list[n].cutime)/(r-e.all)*100,p=(a+u-e.list[n].stime-e.list[n].cstime)/(r-e.all)*100):(c=(o+l)/r*100,p=(a+u)/r*100),{pid:n,utime:o,stime:a,cutime:l,cstime:u,cpuu:c,cpus:p}}else return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}else return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}function ol(t,r,e){let s=0,i=0;return e.all>0&&e.list[t.pid]?(s=(t.utime-e.list[t.pid].utime)/(r-e.all)*100,i=(t.stime-e.list[t.pid].stime)/(r-e.all)*100):(s=t.utime/r*100,i=t.stime/r*100),{pid:t.pid,utime:t.utime,stime:t.stime,cpuu:s>0?s:0,cpus:i>0?i:0}}function L0(t){let r=[];function e(o){o=o||"";let a=o.split(" ")[0];if(a.substr(-1)===":"&&(a=a.substr(0,a.length-1)),a.substr(0,1)!=="["){let l=a.split("/");isNaN(parseInt(l[l.length-1]))?a=l[l.length-1]:a=l[0]}return a}function s(o){let a=0,l=0;function u(j){a=l,r[j]?l=o.substring(r[j].to+a,1e4).indexOf(" "):l=1e4}u(0);let c=parseInt(o.substring(r[0].from+a,r[0].to+l));u(1);let p=parseInt(o.substring(r[1].from+a,r[1].to+l));u(2);let f=parseFloat(o.substring(r[2].from+a,r[2].to+l).replace(/,/g,"."));u(3);let d=parseFloat(o.substring(r[3].from+a,r[3].to+l).replace(/,/g,"."));u(4);let m=parseInt(o.substring(r[4].from+a,r[4].to+l));u(5);let h=parseInt(o.substring(r[5].from+a,r[5].to+l));u(6);let y=parseInt(o.substring(r[6].from+a,r[6].to+l));u(7);let g=parseInt(o.substring(r[7].from+a,r[7].to+l))||0;u(8);let S=Ps?C0(o.substring(r[8].from+a,r[8].to+l).trim()):I0(o.substring(r[8].from+a,r[8].to+l).trim());u(9);let w=o.substring(r[9].from+a,r[9].to+l).trim();w=w[0]==="R"?"running":w[0]==="S"?"sleeping":w[0]==="T"?"stopped":w[0]==="W"?"paging":w[0]==="X"?"dead":w[0]==="Z"?"zombie":w[0]==="D"||w[0]==="U"?"blocked":"unknown",u(10);let x=o.substring(r[10].from+a,r[10].to+l).trim();(x==="?"||x==="??")&&(x=""),u(11);let C=o.substring(r[11].from+a,r[11].to+l).trim();u(12);let b="",T="",Y="",E=o.substring(r[12].from+a,r[12].to+l).trim();if(E.substr(E.length-1)==="]"&&(E=E.slice(0,-1)),E.substr(0,1)==="[")T=E.substring(1);else{let j=E.indexOf("("),W=E.indexOf(")"),ie=E.indexOf("/"),ue=E.indexOf(":");if(j<W&&j<ie&&ie<W)T=E.split(" ")[0],T=T.replace(/:/g,"");else if(ue>0&&(ie===-1||ie>3))T=E.split(" ")[0],T=T.replace(/:/g,"");else{let me=E.indexOf(" -"),X=E.indexOf(" /");me=me>=0?me:1e4,X=X>=0?X:1e4;let ge=Math.min(me,X),ce=E.substr(0,ge),ve=E.substr(ge),_e=ce.lastIndexOf("/");if(_e>=0&&(b=ce.substr(0,_e),ce=ce.substr(_e+1)),ge===1e4&&ce.indexOf(" ")>-1){let te=ce.split(" ");w0.existsSync(x0.join(b,te[0]))?(T=te.shift(),Y=(te.join(" ")+" "+ve).trim()):(T=ce.trim(),Y=ve.trim())}else T=ce.trim(),Y=ve.trim()}}return{pid:c,parentPid:p,name:ze?e(T):T,cpu:f,cpuu:0,cpus:0,mem:d,priority:m,memVsz:h,memRss:y,nice:g,started:S,state:w,tty:x,user:C,command:T,params:Y,path:b}}function i(o){let a=[];if(o.length>1){let l=o[0];r=q.parseHead(l,8),o.shift(),o.forEach(function(u){u.trim()!==""&&a.push(s(u))})}return a}function n(o){function a(c){let p=("0"+(c.getMonth()+1).toString()).slice(-2),f=c.getFullYear().toString(),d=("0"+c.getDate().toString()).slice(-2),m=("0"+c.getHours().toString()).slice(-2),h=("0"+c.getMinutes().toString()).slice(-2),y=("0"+c.getSeconds().toString()).slice(-2);return f+"-"+p+"-"+d+" "+m+":"+h+":"+y}function l(c){let p="";if(c.indexOf("d")>=0){let f=c.split("d");p=a(new Date(Date.now()-(f[0]*24+f[1]*1)*60*60*1e3))}else if(c.indexOf("h")>=0){let f=c.split("h");p=a(new Date(Date.now()-(f[0]*60+f[1]*1)*60*1e3))}else if(c.indexOf(":")>=0){let f=c.split(":");p=a(new Date(Date.now()-(f.length>1?(f[0]*60+f[1])*1e3:f[0]*1e3)))}return p}let u=[];return o.forEach(function(c){if(c.trim()!==""){c=c.trim().replace(/ +/g," ").replace(/,+/g,".");let p=c.split(" "),f=p.slice(9).join(" "),d=parseFloat((1*parseInt(p[3])*1024/Vs.totalmem()).toFixed(1)),m=l(p[5]);u.push({pid:parseInt(p[0]),parentPid:parseInt(p[1]),name:e(f),cpu:0,cpuu:0,cpus:0,mem:d,priority:0,memVsz:parseInt(p[2]),memRss:parseInt(p[3]),nice:parseInt(p[4]),started:m,state:p[6]==="R"?"running":p[6]==="S"?"sleeping":p[6]==="T"?"stopped":p[6]==="W"?"paging":p[6]==="X"?"dead":p[6]==="Z"?"zombie":p[6]==="D"||p[6]==="U"?"blocked":"unknown",tty:p[7],user:p[8],command:f})}}),u}return new Promise(o=>{process.nextTick(()=>{let a={all:0,running:0,blocked:0,sleeping:0,unknown:0,list:[]},l="";if(fe.ms&&Date.now()-fe.ms>=500||fe.ms===0)if(ze||br||Fr||Wr||Gt||Ps)ze&&(l="export LC_ALL=C; ps -axo pid:11,ppid:11,pcpu:6,pmem:6,pri:5,vsz:11,rss:11,ni:5,etime:30,state:5,tty:15,user:20,command; unset LC_ALL"),(br||Fr||Wr)&&(l="export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,ni,etime,state,tty,user,command; unset LC_ALL"),Gt&&(l="ps -axo pid,ppid,pcpu,pmem,pri,vsz=temp_title_1,rss=temp_title_2,nice,etime=temp_title_3,state,tty,user,command -r"),Ps&&(l="ps -Ao pid,ppid,pcpu,pmem,pri,vsz,rss,nice,stime,s,tty,user,comm"),Rr(l,{maxBuffer:1024*2e4},function(u,c){!u&&c.toString().trim()?(a.list=i(c.toString().split(`
`)).slice(),a.all=a.list.length,a.running=a.list.filter(function(p){return p.state==="running"}).length,a.blocked=a.list.filter(function(p){return p.state==="blocked"}).length,a.sleeping=a.list.filter(function(p){return p.state==="sleeping"}).length,ze?(l='cat /proc/stat | grep "cpu "',a.list.forEach(p=>{l+=";cat /proc/"+p.pid+"/stat"}),Rr(l,{maxBuffer:1024*2e4},function(p,f){let d=f.toString().split(`
`),m=An(d.shift()),h={},y={};d.forEach(g=>{if(y=Mn(g,m,fe),y.pid){let S=a.list.map(function(w){return w.pid}).indexOf(y.pid);S>=0&&(a.list[S].cpu=y.cpuu+y.cpus,a.list[S].cpuu=y.cpuu,a.list[S].cpus=y.cpus),h[y.pid]={cpuu:y.cpuu,cpus:y.cpus,utime:y.utime,stime:y.stime,cutime:y.cutime,cstime:y.cstime}}}),fe.all=m,fe.list=Object.assign({},h),fe.ms=Date.now()-fe.ms,fe.result=Object.assign({},a),t&&t(a),o(a)})):(t&&t(a),o(a))):(l="ps -o pid,ppid,vsz,rss,nice,etime,stat,tty,user,comm",Ps&&(l="ps -o pid,ppid,vsz,rss,nice,etime,s,tty,user,comm"),Rr(l,{maxBuffer:1024*2e4},function(p,f){if(p)t&&t(a),o(a);else{let d=f.toString().split(`
`);d.shift(),a.list=n(d).slice(),a.all=a.list.length,a.running=a.list.filter(function(m){return m.state==="running"}).length,a.blocked=a.list.filter(function(m){return m.state==="blocked"}).length,a.sleeping=a.list.filter(function(m){return m.state==="sleeping"}).length,t&&t(a),o(a)}}))});else if(Nn)try{q.powerShell('Get-CimInstance Win32_Process | select-Object ProcessId,ParentProcessId,ExecutionState,Caption,CommandLine,ExecutablePath,UserModeTime,KernelModeTime,WorkingSetSize,Priority,PageFileUsage, @{n="CreationDate";e={$_.CreationDate.ToString("yyyy-MM-dd HH:mm:ss")}} | fl').then((u,c)=>{if(!c){let p=u.split(/\n\s*\n/),f=[],d=[],m={},h=0,y=0;p.forEach(g=>{if(g.trim()!==""){let S=g.trim().split(`\r
`),w=parseInt(q.getValue(S,"ProcessId",":",!0),10),x=parseInt(q.getValue(S,"ParentProcessId",":",!0),10),C=q.getValue(S,"ExecutionState",":"),b=q.getValue(S,"Caption",":",!0),T=q.getValue(S,"CommandLine",":",!0),Y=!1;S.forEach(ue=>{Y&&ue.toLowerCase().startsWith(" ")?T+=" "+ue.trim():Y=!1,ue.toLowerCase().startsWith("commandline")&&(Y=!0)});let E=q.getValue(S,"ExecutablePath",":",!0),j=parseInt(q.getValue(S,"UserModeTime",":",!0),10),W=parseInt(q.getValue(S,"KernelModeTime",":",!0),10),ie=parseInt(q.getValue(S,"WorkingSetSize",":",!0),10);h=h+j,y=y+W,a.all++,C||a.unknown++,C==="3"&&a.running++,(C==="4"||C==="5")&&a.blocked++,d.push({pid:w,utime:j,stime:W,cpu:0,cpuu:0,cpus:0}),f.push({pid:w,parentPid:x,name:b,cpu:0,cpuu:0,cpus:0,mem:ie/Vs.totalmem()*100,priority:parseInt(q.getValue(S,"Priority",":",!0),10),memVsz:parseInt(q.getValue(S,"PageFileUsage",":",!0),10),memRss:Math.floor(parseInt(q.getValue(S,"WorkingSetSize",":",!0),10)/1024),nice:0,started:q.getValue(S,"CreationDate",":",!0),state:C?il[C]:il[0],tty:"",user:"",command:T||b,path:E,params:""})}}),a.sleeping=a.all-a.running-a.blocked-a.unknown,a.list=f,d.forEach(g=>{let S=ol(g,h+y,fe),w=a.list.map(function(x){return x.pid}).indexOf(S.pid);w>=0&&(a.list[w].cpu=S.cpuu+S.cpus,a.list[w].cpuu=S.cpuu,a.list[w].cpus=S.cpus),m[S.pid]={cpuu:S.cpuu,cpus:S.cpus,utime:S.utime,stime:S.stime}}),fe.all=h+y,fe.all_utime=h,fe.all_stime=y,fe.list=Object.assign({},m),fe.ms=Date.now()-fe.ms,fe.result=Object.assign({},a)}t&&t(a),o(a)})}catch{t&&t(a),o(a)}else t&&t(a),o(a);else t&&t(fe.result),o(fe.result)})})}Ts.processes=L0;function _0(t,r){return q.isFunction(t)&&!r&&(r=t,t=""),new Promise(e=>{process.nextTick(()=>{if(t=t||"",typeof t!="string")return r&&r([]),e([]);let s="";s.__proto__.toLowerCase=q.stringToLower,s.__proto__.replace=q.stringReplace,s.__proto__.trim=q.stringTrim;let i=q.sanitizeShellString(t),n=q.mathMin(i.length,2e3);for(let u=0;u<=n;u++)i[u]!==void 0&&(s=s+i[u]);s=s.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"),s===""&&(s="*"),q.isPrototypePolluted()&&s!=="*"&&(s="------");let o=s.split("|"),a=[];if((q.isPrototypePolluted()?"":q.sanitizeShellString(t)||"*")&&o.length&&o[0]!=="------"){if(Nn)try{q.powerShell("Get-CimInstance Win32_Process | select ProcessId,Caption,UserModeTime,KernelModeTime,WorkingSetSize | fl").then((u,c)=>{if(!c){let p=u.split(/\n\s*\n/),f=[],d={},m=0,h=0;p.forEach(y=>{if(y.trim()!==""){let g=y.trim().split(`\r
`),S=parseInt(q.getValue(g,"ProcessId",":",!0),10),w=q.getValue(g,"Caption",":",!0),x=parseInt(q.getValue(g,"UserModeTime",":",!0),10),C=parseInt(q.getValue(g,"KernelModeTime",":",!0),10),b=parseInt(q.getValue(g,"WorkingSetSize",":",!0),10);m=m+x,h=h+C,f.push({pid:S,name:w,utime:x,stime:C,cpu:0,cpuu:0,cpus:0,mem:b});let T="",Y=!1;if(o.forEach(function(E){w.toLowerCase().indexOf(E.toLowerCase())>=0&&!Y&&(Y=!0,T=E)}),s==="*"||Y){let E=!1;a.forEach(function(j){j.proc.toLowerCase()===T.toLowerCase()&&(j.pids.push(S),j.mem+=b/Vs.totalmem()*100,E=!0)}),E||a.push({proc:T,pid:S,pids:[S],cpu:0,mem:b/Vs.totalmem()*100})}}}),s!=="*"&&o.filter(function(g){return f.filter(function(S){return S.name.toLowerCase().indexOf(g)>=0}).length===0}).forEach(function(g){a.push({proc:g,pid:null,pids:[],cpu:0,mem:0})}),f.forEach(y=>{let g=ol(y,m+h,Le),S=-1;for(let w=0;w<a.length;w++)(a[w].pid===g.pid||a[w].pids.indexOf(g.pid)>=0)&&(S=w);S>=0&&(a[S].cpu+=g.cpuu+g.cpus),d[g.pid]={cpuu:g.cpuu,cpus:g.cpus,utime:g.utime,stime:g.stime}}),Le.all=m+h,Le.all_utime=m,Le.all_stime=h,Le.list=Object.assign({},d),Le.ms=Date.now()-Le.ms,Le.result=JSON.parse(JSON.stringify(a)),r&&r(a),e(a)}})}catch{r&&r(a),e(a)}if(Gt||ze||br||Fr||Wr){let u=["-axo","pid,ppid,pcpu,pmem,comm"];q.execSafe("ps",u).then(c=>{if(c){let p=[],f=c.toString().split(`
`).filter(function(d){if(s==="*")return!0;if(d.toLowerCase().indexOf("grep")!==-1)return!1;let m=!1;return o.forEach(function(h){m=m||d.toLowerCase().indexOf(h.toLowerCase())>=0}),m});if(f.shift(),f.forEach(function(d){let m=d.trim().replace(/ +/g," ").split(" ");if(m.length>4){let h=m[4].indexOf("/")>=0?m[4].substring(0,m[4].indexOf("/")):m[4],y=ze?h:m[4].substring(m[4].lastIndexOf("/")+1);p.push({name:y,pid:parseInt(m[0])||0,ppid:parseInt(m[1])||0,cpu:parseFloat(m[2].replace(",",".")),mem:parseFloat(m[3].replace(",","."))})}}),p.forEach(function(d){let m=-1,h=!1,y=d.name;for(let g=0;g<a.length;g++)d.name.toLowerCase().indexOf(a[g].proc.toLowerCase())>=0&&(m=g);o.forEach(function(g){d.name.toLowerCase().indexOf(g.toLowerCase())>=0&&!h&&(h=!0,y=g)}),(s==="*"||h)&&(m<0?y&&a.push({proc:y,pid:d.pid,pids:[d.pid],cpu:d.cpu,mem:d.mem}):(d.ppid<10&&(a[m].pid=d.pid),a[m].pids.push(d.pid),a[m].cpu+=d.cpu,a[m].mem+=d.mem))}),s!=="*"&&o.filter(function(m){return p.filter(function(h){return h.name.toLowerCase().indexOf(m)>=0}).length===0}).forEach(function(m){a.push({proc:m,pid:null,pids:[],cpu:0,mem:0})}),ze){a.forEach(function(m){m.cpu=0});let d='cat /proc/stat | grep "cpu "';for(let m in a)for(let h in a[m].pids)d+=";cat /proc/"+a[m].pids[h]+"/stat";Rr(d,{maxBuffer:1024*2e4},function(m,h){let y=h.toString().split(`
`),g=An(y.shift()),S={},w={};y.forEach(x=>{if(w=Mn(x,g,Le),w.pid){let C=-1;for(let b in a)a[b].pids.indexOf(w.pid)>=0&&(C=b);C>=0&&(a[C].cpu+=w.cpuu+w.cpus),S[w.pid]={cpuu:w.cpuu,cpus:w.cpus,utime:w.utime,stime:w.stime,cutime:w.cutime,cstime:w.cstime}}}),a.forEach(function(x){x.cpu=Math.round(x.cpu*100)/100}),Le.all=g,Le.list=Object.assign({},S),Le.ms=Date.now()-Le.ms,Le.result=Object.assign({},a),r&&r(a),e(a)})}else r&&r(a),e(a)}else r&&r(a),e(a)})}}})})}Ts.processLoad=_0});var cl=M(ul=>{"use strict";var Br=require("child_process").exec,wt=oe(),xt=process.platform,E0=xt==="linux"||xt==="android",v0=xt==="darwin",P0=xt==="win32",V0=xt==="freebsd",T0=xt==="openbsd",D0=xt==="netbsd",N0=xt==="sunos";function ll(t,r){let e=[],s=[],i={},n=!0,o=[],a=[],l={},u=!0;return t.forEach(function(c){if(c==="---")u=!1;else{let p=c.replace(/ +/g," ").split(" ");u?s.push({user:p[0],tty:p[1],date:p[2],time:p[3],ip:p&&p.length>4?p[4].replace(/\(/g,"").replace(/\)/g,""):""}):n?(o=p,o.forEach(function(f){a.push(c.indexOf(f))}),n=!1):(i.user=c.substring(a[0],a[1]-1).trim(),i.tty=c.substring(a[1],a[2]-1).trim(),i.ip=c.substring(a[2],a[3]-1).replace(/\(/g,"").replace(/\)/g,"").trim(),i.command=c.substring(a[7],1e3).trim(),l=s.filter(function(f){return f.user.substring(0,8).trim()===i.user&&f.tty===i.tty}),l.length===1&&e.push({user:l[0].user,tty:l[0].tty,date:l[0].date,time:l[0].time,ip:l[0].ip,command:i.command}))}}),e.length===0&&r===2?s:e}function Rn(t){let r=[],e=[],s={},i={},n=!0;return t.forEach(function(o){if(o==="---")n=!1;else{let a=o.replace(/ +/g," ").split(" ");n?e.push({user:a[0],tty:a[1],date:""+new Date().getFullYear()+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(a[2].toUpperCase())/3+1)).slice(-2)+"-"+("0"+a[3]).slice(-2),time:a[4]}):(s.user=a[0],s.tty=a[1],s.ip=a[2]!=="-"?a[2]:"",s.command=a.slice(5,1e3).join(" "),i=e.filter(function(l){return l.user===s.user&&(l.tty.substring(3,1e3)===s.tty||l.tty===s.tty)}),i.length===1&&r.push({user:i[0].user,tty:i[0].tty,date:i[0].date,time:i[0].time,ip:s.ip,command:s.command}))}}),r}function A0(t){return new Promise(r=>{process.nextTick(()=>{let e=[];if(E0&&Br('who --ips; echo "---"; w | tail -n +2',function(s,i){if(s)t&&t(e),r(e);else{let n=i.toString().split(`
`);e=ll(n,1),e.length===0?Br('who; echo "---"; w | tail -n +2',function(o,a){o||(n=a.toString().split(`
`),e=ll(n,2)),t&&t(e),r(e)}):(t&&t(e),r(e))}}),(V0||T0||D0)&&Br('who; echo "---"; w -ih',function(s,i){if(!s){let n=i.toString().split(`
`);e=Rn(n)}t&&t(e),r(e)}),N0&&Br('who; echo "---"; w -h',function(s,i){if(!s){let n=i.toString().split(`
`);e=Rn(n)}t&&t(e),r(e)}),v0&&Br('who; echo "---"; w -ih',function(s,i){if(!s){let n=i.toString().split(`
`);e=Rn(n)}t&&t(e),r(e)}),P0)try{let s=`Get-CimInstance Win32_LogonSession | select LogonId,@{n="StartTime";e={$_.StartTime.ToString("yyyy-MM-dd HH:mm:ss")}} | fl; echo '#-#-#-#';`;s+="Get-CimInstance Win32_LoggedOnUser | select antecedent,dependent | fl ; echo '#-#-#-#';",s+=`$process = (Get-CimInstance Win32_Process -Filter "name = 'explorer.exe'"); Invoke-CimMethod -InputObject $process[0] -MethodName GetOwner | select user, domain | fl; get-process -name explorer | select-object sessionid | fl; echo '#-#-#-#';`,s+="query user",wt.powerShell(s).then(i=>{if(i){i=i.split("#-#-#-#");let n=M0((i[0]||"").split(/\n\s*\n/)),o=F0((i[1]||"").split(/\n\s*\n/)),a=W0((i[3]||"").split(`\r
`)),l=b0((i[2]||"").split(/\n\s*\n/),a);for(let u in o)({}).hasOwnProperty.call(o,u)&&(o[u].dateTime={}.hasOwnProperty.call(n,u)?n[u]:"");l.forEach(u=>{let c="";for(let p in o)({}).hasOwnProperty.call(o,p)&&o[p].user===u.user&&(!c||c<o[p].dateTime)&&(c=o[p].dateTime);e.push({user:u.user,tty:u.tty,date:`${c.substring(0,10)}`,time:`${c.substring(11,19)}`,ip:"",command:""})})}t&&t(e),r(e)})}catch{t&&t(e),r(e)}})})}function M0(t){let r={};return t.forEach(e=>{let s=e.split(`\r
`),i=wt.getValue(s,"LogonId"),n=wt.getValue(s,"starttime");i&&(r[i]=n)}),r}function R0(t,r){t=t.toLowerCase(),r=r.toLowerCase();let e=0,s=t.length;r.length>s&&(s=r.length);for(let i=0;i<s;i++){let n=t[i]||"",o=r[i]||"";n===o&&e++}return s>10?e/s>.9:s>0?e/s>.8:!1}function b0(t,r){let e=[];return t.forEach(s=>{let i=s.split(`\r
`),n=wt.getValue(i,"domain",":",!0),o=wt.getValue(i,"user",":",!0),a=wt.getValue(i,"sessionid",":",!0);if(o){let l=r.filter(u=>R0(u.user,o));e.push({domain:n,user:o,tty:l&&l[0]&&l[0].tty?l[0].tty:a})}}),e}function F0(t){let r={};return t.forEach(e=>{let s=e.split(`\r
`),n=wt.getValue(s,"antecedent",":",!0).split("="),o=n.length>2?n[1].split(",")[0].replace(/"/g,"").trim():"",a=n.length>2?n[2].replace(/"/g,"").replace(/\)/g,"").trim():"";n=wt.getValue(s,"dependent",":",!0).split("=");let u=n.length>1?n[1].replace(/"/g,"").replace(/\)/g,"").trim():"";u&&(r[u]={domain:a,user:o})}),r}function W0(t){t=t.filter(i=>i);let r=[],e=t[0],s=[];if(e){let i=e[0]===" "?1:0;s.push(i-1);let n=0;for(let o=i+1;o<e.length;o++)e[o]===" "&&(e[o-1]===" "||e[o-1]===".")?n=o:n&&(s.push(n),n=0);for(let o=1;o<t.length;o++)if(t[o].trim()){let a=t[o].substring(s[0]+1,s[1]).trim()||"",l=t[o].substring(s[1]+1,s[2]-2).trim()||"";r.push({user:a,tty:l})}}return r}ul.users=A0});var dl=M(Gn=>{"use strict";var Se=oe(),Ct=process.platform,bn=Ct==="linux"||Ct==="android",Fn=Ct==="darwin",pl=Ct==="win32",Wn=Ct==="freebsd",Bn=Ct==="openbsd",Un=Ct==="netbsd",fl=Ct==="sunos";function B0(t,r){return new Promise(e=>{process.nextTick(()=>{let s={url:t,ok:!1,status:404,ms:null};if(typeof t!="string")return r&&r(s),e(s);let i="",n=Se.sanitizeShellString(t,!0),o=Se.mathMin(n.length,2e3);for(let a=0;a<=o;a++)if(n[a]!==void 0){n[a].__proto__.toLowerCase=Se.stringToLower;let l=n[a].toLowerCase();l&&l[0]&&!l[1]&&l[0].length===1&&(i=i+l[0])}s.url=i;try{if(i&&!Se.isPrototypePolluted()){if(i.__proto__.startsWith=Se.stringStartWith,i.startsWith("file:")||i.startsWith("gopher:")||i.startsWith("telnet:")||i.startsWith("mailto:")||i.startsWith("news:")||i.startsWith("nntp:"))return r&&r(s),e(s);let a=Date.now();if(bn||Wn||Bn||Un||Fn||fl){let l=["-I","--connect-timeout","5","-m","5"];l.push(i),Se.execSafe("curl",l).then(c=>{let p=c.split(`
`),f=p[0]&&p[0].indexOf(" ")>=0?parseInt(p[0].split(" ")[1],10):404;s.status=f||404,s.ok=f===200||f===301||f===302||f===304,s.ms=s.ok?Date.now()-a:null,r&&r(s),e(s)})}if(pl){let l=i.startsWith("https:")?require("https"):require("http");try{l.get(i,u=>{let c=u.statusCode;s.status=c||404,s.ok=c===200||c===301||c===302||c===304,c!==200?(u.resume(),s.ms=s.ok?Date.now()-a:null,r&&r(s),e(s)):(u.on("data",()=>{}),u.on("end",()=>{s.ms=s.ok?Date.now()-a:null,r&&r(s),e(s)}))}).on("error",()=>{r&&r(s),e(s)})}catch{r&&r(s),e(s)}}}else r&&r(s),e(s)}catch{r&&r(s),e(s)}})})}Gn.inetChecksite=B0;function U0(t,r){return Se.isFunction(t)&&!r&&(r=t,t=""),t=t||"8.8.8.8",new Promise(e=>{process.nextTick(()=>{if(typeof t!="string")return r&&r(null),e(null);let s="",i=(Se.isPrototypePolluted()?"8.8.8.8":Se.sanitizeShellString(t,!0)).trim(),n=Se.mathMin(i.length,2e3);for(let a=0;a<=n;a++)if(i[a]!==void 0){i[a].__proto__.toLowerCase=Se.stringToLower;let l=i[a].toLowerCase();l&&l[0]&&!l[1]&&(s=s+l[0])}if(s.__proto__.startsWith=Se.stringStartWith,s.startsWith("file:")||s.startsWith("gopher:")||s.startsWith("telnet:")||s.startsWith("mailto:")||s.startsWith("news:")||s.startsWith("nntp:"))return r&&r(null),e(null);let o;if((bn||Wn||Bn||Un||Fn)&&(bn&&(o=["-c","2","-w","3",s]),(Wn||Bn||Un)&&(o=["-c","2","-t","3",s]),Fn&&(o=["-c2","-t3",s]),Se.execSafe("ping",o).then(a=>{let l=null;if(a){let c=a.split(`
`).filter(p=>p.indexOf("rtt")>=0||p.indexOf("round-trip")>=0||p.indexOf("avg")>=0).join(`
`).split("=");if(c.length>1){let p=c[1].split("/");p.length>1&&(l=parseFloat(p[1]))}}r&&r(l),e(l)})),fl){let a=["-s","-a",s,"56","2"],l="avg";Se.execSafe("ping",a,{timeout:3e3}).then(u=>{let c=null;if(u){let f=u.split(`
`).filter(d=>d.indexOf(l)>=0).join(`
`).split("=");if(f.length>1){let d=f[1].split("/");d.length>1&&(c=parseFloat(d[1].replace(",",".")))}}r&&r(c),e(c)})}if(pl){let a=null;try{let l=[s,"-n","1"];Se.execSafe("ping",l,Se.execOptsWin).then(u=>{if(u){let c=u.split(`\r
`);c.shift(),c.forEach(function(p){if((p.toLowerCase().match(/ms/g)||[]).length===3){let f=p.replace(/ +/g," ").split(" ");f.length>6&&(a=parseFloat(f[f.length-1]))}})}r&&r(a),e(a)})}catch{r&&r(a),e(a)}}})})}Gn.inetLatency=U0});var gl=M((xh,ml)=>{"use strict";var It=require("net"),G0=require("os").type()==="Windows_NT",Ot=G0?"//./pipe/docker_engine":"/var/run/docker.sock",qn=class{getInfo(r){try{let e=It.createConnection({path:Ot}),s="",i;e.on("connect",()=>{e.write(`GET http:/info HTTP/1.0\r
\r
`)}),e.on("data",n=>{s=s+n.toString()}),e.on("error",()=>{e=!1,r({})}),e.on("end",()=>{let n=s.indexOf(`\r
\r
`);s=s.substring(n+4),e=!1;try{i=JSON.parse(s),r(i)}catch{r({})}})}catch{r({})}}listImages(r,e){try{let s=It.createConnection({path:Ot}),i="",n;s.on("connect",()=>{s.write("GET http:/images/json"+(r?"?all=1":"")+` HTTP/1.0\r
\r
`)}),s.on("data",o=>{i=i+o.toString()}),s.on("error",()=>{s=!1,e({})}),s.on("end",()=>{let o=i.indexOf(`\r
\r
`);i=i.substring(o+4),s=!1;try{n=JSON.parse(i),e(n)}catch{e({})}})}catch{e({})}}inspectImage(r,e){if(r=r||"",r)try{let s=It.createConnection({path:Ot}),i="",n;s.on("connect",()=>{s.write("GET http:/images/"+r+`/json?stream=0 HTTP/1.0\r
\r
`)}),s.on("data",o=>{i=i+o.toString()}),s.on("error",()=>{s=!1,e({})}),s.on("end",()=>{let o=i.indexOf(`\r
\r
`);i=i.substring(o+4),s=!1;try{n=JSON.parse(i),e(n)}catch{e({})}})}catch{e({})}else e({})}listContainers(r,e){try{let s=It.createConnection({path:Ot}),i="",n;s.on("connect",()=>{s.write("GET http:/containers/json"+(r?"?all=1":"")+` HTTP/1.0\r
\r
`)}),s.on("data",o=>{i=i+o.toString()}),s.on("error",()=>{s=!1,e({})}),s.on("end",()=>{let o=i.indexOf(`\r
\r
`);i=i.substring(o+4),s=!1;try{n=JSON.parse(i),e(n)}catch{e({})}})}catch{e({})}}getStats(r,e){if(r=r||"",r)try{let s=It.createConnection({path:Ot}),i="",n;s.on("connect",()=>{s.write("GET http:/containers/"+r+`/stats?stream=0 HTTP/1.0\r
\r
`)}),s.on("data",o=>{i=i+o.toString()}),s.on("error",()=>{s=!1,e({})}),s.on("end",()=>{let o=i.indexOf(`\r
\r
`);i=i.substring(o+4),s=!1;try{n=JSON.parse(i),e(n)}catch{e({})}})}catch{e({})}else e({})}getInspect(r,e){if(r=r||"",r)try{let s=It.createConnection({path:Ot}),i="",n;s.on("connect",()=>{s.write("GET http:/containers/"+r+`/json?stream=0 HTTP/1.0\r
\r
`)}),s.on("data",o=>{i=i+o.toString()}),s.on("error",()=>{s=!1,e({})}),s.on("end",()=>{let o=i.indexOf(`\r
\r
`);i=i.substring(o+4),s=!1;try{n=JSON.parse(i),e(n)}catch{e({})}})}catch{e({})}else e({})}getProcesses(r,e){if(r=r||"",r)try{let s=It.createConnection({path:Ot}),i="",n;s.on("connect",()=>{s.write("GET http:/containers/"+r+`/top?ps_args=-opid,ppid,pgid,vsz,time,etime,nice,ruser,user,rgroup,group,stat,rss,args HTTP/1.0\r
\r
`)}),s.on("data",o=>{i=i+o.toString()}),s.on("error",()=>{s=!1,e({})}),s.on("end",()=>{let o=i.indexOf(`\r
\r
`);i=i.substring(o+4),s=!1;try{n=JSON.parse(i),e(n)}catch{e({})}})}catch{e({})}else e({})}listVolumes(r){try{let e=It.createConnection({path:Ot}),s="",i;e.on("connect",()=>{e.write(`GET http:/volumes HTTP/1.0\r
\r
`)}),e.on("data",n=>{s=s+n.toString()}),e.on("error",()=>{e=!1,r({})}),e.on("end",()=>{let n=s.indexOf(`\r
\r
`);s=s.substring(n+4),e=!1;try{i=JSON.parse(s),r(i)}catch{r({})}})}catch{r({})}}};ml.exports=qn});var yl=M(_t=>{"use strict";var le=oe(),Lt=gl(),q0=process.platform,$0=q0==="win32",ur={},ne,$n=0;function H0(t){return new Promise(r=>{process.nextTick(()=>{ne||(ne=new Lt);let e={};ne.getInfo(s=>{e.id=s.ID,e.containers=s.Containers,e.containersRunning=s.ContainersRunning,e.containersPaused=s.ContainersPaused,e.containersStopped=s.ContainersStopped,e.images=s.Images,e.driver=s.Driver,e.memoryLimit=s.MemoryLimit,e.swapLimit=s.SwapLimit,e.kernelMemory=s.KernelMemory,e.cpuCfsPeriod=s.CpuCfsPeriod,e.cpuCfsQuota=s.CpuCfsQuota,e.cpuShares=s.CPUShares,e.cpuSet=s.CPUSet,e.ipv4Forwarding=s.IPv4Forwarding,e.bridgeNfIptables=s.BridgeNfIptables,e.bridgeNfIp6tables=s.BridgeNfIp6tables,e.debug=s.Debug,e.nfd=s.NFd,e.oomKillDisable=s.OomKillDisable,e.ngoroutines=s.NGoroutines,e.systemTime=s.SystemTime,e.loggingDriver=s.LoggingDriver,e.cgroupDriver=s.CgroupDriver,e.nEventsListener=s.NEventsListener,e.kernelVersion=s.KernelVersion,e.operatingSystem=s.OperatingSystem,e.osType=s.OSType,e.architecture=s.Architecture,e.ncpu=s.NCPU,e.memTotal=s.MemTotal,e.dockerRootDir=s.DockerRootDir,e.httpProxy=s.HttpProxy,e.httpsProxy=s.HttpsProxy,e.noProxy=s.NoProxy,e.name=s.Name,e.labels=s.Labels,e.experimentalBuild=s.ExperimentalBuild,e.serverVersion=s.ServerVersion,e.clusterStore=s.ClusterStore,e.clusterAdvertise=s.ClusterAdvertise,e.defaultRuntime=s.DefaultRuntime,e.liveRestoreEnabled=s.LiveRestoreEnabled,e.isolation=s.Isolation,e.initBinary=s.InitBinary,e.productLicense=s.ProductLicense,t&&t(e),r(e)})})})}_t.dockerInfo=H0;function z0(t,r){le.isFunction(t)&&!r&&(r=t,t=!1),typeof t=="string"&&t==="true"&&(t=!0),typeof t!="boolean"&&t!==void 0&&(t=!1),t=t||!1;let e=[];return new Promise(s=>{process.nextTick(()=>{ne||(ne=new Lt);let i=[];ne.listImages(t,n=>{let o={};try{o=n,o&&Object.prototype.toString.call(o)==="[object Array]"&&o.length>0?(o.forEach(function(a){a.Names&&Object.prototype.toString.call(a.Names)==="[object Array]"&&a.Names.length>0&&(a.Name=a.Names[0].replace(/^\/|\/$/g,"")),i.push(X0(a.Id.trim(),a))}),i.length?Promise.all(i).then(a=>{r&&r(a),s(a)}):(r&&r(e),s(e))):(r&&r(e),s(e))}catch{r&&r(e),s(e)}})})})}function X0(t,r){return new Promise(e=>{process.nextTick(()=>{if(t=t||"",typeof t!="string")return e();let s=(le.isPrototypePolluted()?"":le.sanitizeShellString(t,!0)).trim();s?(ne||(ne=new Lt),ne.inspectImage(s.trim(),i=>{try{e({id:r.Id,container:i.Container,comment:i.Comment,os:i.Os,architecture:i.Architecture,parent:i.Parent,dockerVersion:i.DockerVersion,size:i.Size,sharedSize:r.SharedSize,virtualSize:i.VirtualSize,author:i.Author,created:i.Created?Math.round(new Date(i.Created).getTime()/1e3):0,containerConfig:i.ContainerConfig?i.ContainerConfig:{},graphDriver:i.GraphDriver?i.GraphDriver:{},repoDigests:i.RepoDigests?i.RepoDigests:{},repoTags:i.RepoTags?i.RepoTags:{},config:i.Config?i.Config:{},rootFS:i.RootFS?i.RootFS:{}})}catch{e()}})):e()})})}_t.dockerImages=z0;function Hn(t,r){function e(i,n){return i.filter(a=>a.Id&&a.Id===n).length>0}le.isFunction(t)&&!r&&(r=t,t=!1),typeof t=="string"&&t==="true"&&(t=!0),typeof t!="boolean"&&t!==void 0&&(t=!1),t=t||!1;let s=[];return new Promise(i=>{process.nextTick(()=>{ne||(ne=new Lt);let n=[];ne.listContainers(t,o=>{let a={};try{if(a=o,a&&Object.prototype.toString.call(a)==="[object Array]"&&a.length>0){for(let l in ur)({}).hasOwnProperty.call(ur,l)&&(e(a,l)||delete ur[l]);a.forEach(function(l){l.Names&&Object.prototype.toString.call(l.Names)==="[object Array]"&&l.Names.length>0&&(l.Name=l.Names[0].replace(/^\/|\/$/g,"")),n.push(k0(l.Id.trim(),l))}),n.length?Promise.all(n).then(l=>{r&&r(l),i(l)}):(r&&r(s),i(s))}else r&&r(s),i(s)}catch{for(let u in ur)({}).hasOwnProperty.call(ur,u)&&(e(a,u)||delete ur[u]);r&&r(s),i(s)}})})})}function k0(t,r){return new Promise(e=>{process.nextTick(()=>{if(t=t||"",typeof t!="string")return e();let s=(le.isPrototypePolluted()?"":le.sanitizeShellString(t,!0)).trim();s?(ne||(ne=new Lt),ne.getInspect(s.trim(),i=>{try{e({id:r.Id,name:r.Name,image:r.Image,imageID:r.ImageID,command:r.Command,created:r.Created,started:i.State&&i.State.StartedAt?Math.round(new Date(i.State.StartedAt).getTime()/1e3):0,finished:i.State&&i.State.FinishedAt&&!i.State.FinishedAt.startsWith("0001-01-01")?Math.round(new Date(i.State.FinishedAt).getTime()/1e3):0,createdAt:i.Created?i.Created:"",startedAt:i.State&&i.State.StartedAt?i.State.StartedAt:"",finishedAt:i.State&&i.State.FinishedAt&&!i.State.FinishedAt.startsWith("0001-01-01")?i.State.FinishedAt:"",state:r.State,restartCount:i.RestartCount||0,platform:i.Platform||"",driver:i.Driver||"",ports:r.Ports,mounts:r.Mounts})}catch{e()}})):e()})})}_t.dockerContainers=Hn;function j0(t,r){if($0){let e=le.nanoSeconds(),s=0;if($n>0){let i=e-$n,n=t.cpu_usage.total_usage-r.cpu_usage.total_usage;i>0&&(s=100*n/i)}return $n=e,s}else{let e=0,s=t.cpu_usage.total_usage-r.cpu_usage.total_usage,i=t.system_cpu_usage-r.system_cpu_usage;return i>0&&s>0&&(r.online_cpus?e=s/i*r.online_cpus*100:e=s/i*t.cpu_usage.percpu_usage.length*100),e}}function Y0(t){let r,e;for(let s in t){if(!{}.hasOwnProperty.call(t,s))continue;let i=t[s];r=+i.rx_bytes,e=+i.tx_bytes}return{rx:r,wx:e}}function K0(t){let r={r:0,w:0};return t&&t.io_service_bytes_recursive&&Object.prototype.toString.call(t.io_service_bytes_recursive)==="[object Array]"&&t.io_service_bytes_recursive.length>0&&t.io_service_bytes_recursive.forEach(function(e){e.op&&e.op.toLowerCase()==="read"&&e.value&&(r.r+=e.value),e.op&&e.op.toLowerCase()==="write"&&e.value&&(r.w+=e.value)}),r}function zn(t,r){let e=[];return new Promise(s=>{process.nextTick(()=>{if(le.isFunction(t)&&!r)r=t,e=["*"];else{if(t=t||"*",typeof t!="string")return r&&r([]),s([]);let o="";if(o.__proto__.toLowerCase=le.stringToLower,o.__proto__.replace=le.stringReplace,o.__proto__.trim=le.stringTrim,o=t,o=o.trim(),o!=="*"){o="";let a=(le.isPrototypePolluted()?"":le.sanitizeShellString(t,!0)).trim(),l=le.mathMin(a.length,2e3);for(let u=0;u<=l;u++)if(a[u]!==void 0){a[u].__proto__.toLowerCase=le.stringToLower;let c=a[u].toLowerCase();c&&c[0]&&!c[1]&&(o=o+c[0])}}o=o.trim().toLowerCase().replace(/,+/g,"|"),e=o.split("|")}let i=[],n=[];if(e.length&&e[0].trim()==="*")e=[],Hn().then(o=>{for(let a of o)e.push(a.id.substring(0,12));e.length?zn(e.join(",")).then(a=>{r&&r(a),s(a)}):(r&&r(i),s(i))});else{for(let o of e)n.push(J0(o.trim()));n.length?Promise.all(n).then(o=>{r&&r(o),s(o)}):(r&&r(i),s(i))}})})}function J0(t){t=t||"";let r={id:t,memUsage:0,memLimit:0,memPercent:0,cpuPercent:0,pids:0,netIO:{rx:0,wx:0},blockIO:{r:0,w:0},restartCount:0,cpuStats:{},precpuStats:{},memoryStats:{},networks:{}};return new Promise(e=>{process.nextTick(()=>{t?(ne||(ne=new Lt),ne.getInspect(t,s=>{try{ne.getStats(t,i=>{try{let n=i;n.message||(i.id&&(r.id=i.id),r.memUsage=n.memory_stats&&n.memory_stats.usage?n.memory_stats.usage:0,r.memLimit=n.memory_stats&&n.memory_stats.limit?n.memory_stats.limit:0,r.memPercent=n.memory_stats&&n.memory_stats.usage&&n.memory_stats.limit?n.memory_stats.usage/n.memory_stats.limit*100:0,r.cpuPercent=n.cpu_stats&&n.precpu_stats?j0(n.cpu_stats,n.precpu_stats):0,r.pids=n.pids_stats&&n.pids_stats.current?n.pids_stats.current:0,r.restartCount=s.RestartCount?s.RestartCount:0,n.networks&&(r.netIO=Y0(n.networks)),n.blkio_stats&&(r.blockIO=K0(n.blkio_stats)),r.cpuStats=n.cpu_stats?n.cpu_stats:{},r.precpuStats=n.precpu_stats?n.precpu_stats:{},r.memoryStats=n.memory_stats?n.memory_stats:{},r.networks=n.networks?n.networks:{})}catch{le.noop()}e(r)})}catch{le.noop()}})):e(r)})})}_t.dockerContainerStats=zn;function hl(t,r){let e=[];return new Promise(s=>{process.nextTick(()=>{if(t=t||"",typeof t!="string")return s(e);let i=(le.isPrototypePolluted()?"":le.sanitizeShellString(t,!0)).trim();i?(ne||(ne=new Lt),ne.getProcesses(i,n=>{try{if(n&&n.Titles&&n.Processes){let o=n.Titles.map(function(C){return C.toUpperCase()}),a=o.indexOf("PID"),l=o.indexOf("PPID"),u=o.indexOf("PGID"),c=o.indexOf("VSZ"),p=o.indexOf("TIME"),f=o.indexOf("ELAPSED"),d=o.indexOf("NI"),m=o.indexOf("RUSER"),h=o.indexOf("USER"),y=o.indexOf("RGROUP"),g=o.indexOf("GROUP"),S=o.indexOf("STAT"),w=o.indexOf("RSS"),x=o.indexOf("COMMAND");n.Processes.forEach(C=>{e.push({pidHost:a>=0?C[a]:"",ppid:l>=0?C[l]:"",pgid:u>=0?C[u]:"",user:h>=0?C[h]:"",ruser:m>=0?C[m]:"",group:g>=0?C[g]:"",rgroup:y>=0?C[y]:"",stat:S>=0?C[S]:"",time:p>=0?C[p]:"",elapsed:f>=0?C[f]:"",nice:d>=0?C[d]:"",rss:w>=0?C[w]:"",vsz:c>=0?C[c]:"",command:x>=0?C[x]:""})})}}catch{le.noop()}r&&r(e),s(e)})):(r&&r(e),s(e))})})}_t.dockerContainerProcesses=hl;function Q0(t){let r=[];return new Promise(e=>{process.nextTick(()=>{ne||(ne=new Lt),ne.listVolumes(s=>{let i={};try{i=s,i&&i.Volumes&&Object.prototype.toString.call(i.Volumes)==="[object Array]"&&i.Volumes.length>0?(i.Volumes.forEach(function(n){r.push({name:n.Name,driver:n.Driver,labels:n.Labels,mountpoint:n.Mountpoint,options:n.Options,scope:n.Scope,created:n.CreatedAt?Math.round(new Date(n.CreatedAt).getTime()/1e3):0})}),t&&t(r),e(r)):(t&&t(r),e(r))}catch{t&&t(r),e(r)}})})})}_t.dockerVolumes=Q0;function Z0(t){return new Promise(r=>{process.nextTick(()=>{Hn(!0).then(e=>{if(e&&Object.prototype.toString.call(e)==="[object Array]"&&e.length>0){let s=e.length;e.forEach(function(i){zn(i.id).then(n=>{i.memUsage=n[0].memUsage,i.memLimit=n[0].memLimit,i.memPercent=n[0].memPercent,i.cpuPercent=n[0].cpuPercent,i.pids=n[0].pids,i.netIO=n[0].netIO,i.blockIO=n[0].blockIO,i.cpuStats=n[0].cpuStats,i.precpuStats=n[0].precpuStats,i.memoryStats=n[0].memoryStats,i.networks=n[0].networks,hl(i.id).then(o=>{i.processes=o,s-=1,s===0&&(t&&t(e),r(e))})})})}else t&&t(e),r(e)})})})}_t.dockerAll=Z0});var wl=M(Sl=>{"use strict";var Xn=require("os"),em=require("child_process").exec,J=oe();function tm(t){let r=[];return new Promise(e=>{process.nextTick(()=>{try{em(J.getVboxmanage()+" list vms --long",function(s,i){let n=(Xn.EOL+i.toString()).split(Xn.EOL+"Name:");n.shift(),n.forEach(o=>{let a=("Name:"+o).split(Xn.EOL),l=J.getValue(a,"State"),u=l.startsWith("running"),c=u?l.replace("running (since ","").replace(")","").trim():"",p=0;try{if(u){let m=new Date(c),h=m.getTimezoneOffset();p=Math.round((Date.now()-Date.parse(m))/1e3)+h*60}}catch{J.noop()}let f=u?"":l.replace("powered off (since","").replace(")","").trim(),d=0;try{if(!u){let m=new Date(f),h=m.getTimezoneOffset();d=Math.round((Date.now()-Date.parse(m))/1e3)+h*60}}catch{J.noop()}r.push({id:J.getValue(a,"UUID"),name:J.getValue(a,"Name"),running:u,started:c,runningSince:p,stopped:f,stoppedSince:d,guestOS:J.getValue(a,"Guest OS"),hardwareUUID:J.getValue(a,"Hardware UUID"),memory:parseInt(J.getValue(a,"Memory size","     "),10),vram:parseInt(J.getValue(a,"VRAM size"),10),cpus:parseInt(J.getValue(a,"Number of CPUs"),10),cpuExepCap:J.getValue(a,"CPU exec cap"),cpuProfile:J.getValue(a,"CPUProfile"),chipset:J.getValue(a,"Chipset"),firmware:J.getValue(a,"Firmware"),pageFusion:J.getValue(a,"Page Fusion")==="enabled",configFile:J.getValue(a,"Config file"),snapshotFolder:J.getValue(a,"Snapshot folder"),logFolder:J.getValue(a,"Log folder"),hpet:J.getValue(a,"HPET")==="enabled",pae:J.getValue(a,"PAE")==="enabled",longMode:J.getValue(a,"Long Mode")==="enabled",tripleFaultReset:J.getValue(a,"Triple Fault Reset")==="enabled",apic:J.getValue(a,"APIC")==="enabled",x2Apic:J.getValue(a,"X2APIC")==="enabled",acpi:J.getValue(a,"ACPI")==="enabled",ioApic:J.getValue(a,"IOAPIC")==="enabled",biosApicMode:J.getValue(a,"BIOS APIC mode"),bootMenuMode:J.getValue(a,"Boot menu mode"),bootDevice1:J.getValue(a,"Boot Device 1"),bootDevice2:J.getValue(a,"Boot Device 2"),bootDevice3:J.getValue(a,"Boot Device 3"),bootDevice4:J.getValue(a,"Boot Device 4"),timeOffset:J.getValue(a,"Time offset"),rtc:J.getValue(a,"RTC")})}),t&&t(r),e(r)})}catch{t&&t(r),e(r)}})})}Sl.vboxInfo=tm});var Ol=M(Il=>{"use strict";var kn=require("child_process").exec,de=oe(),Et=process.platform,xl=Et==="linux"||Et==="android",rm=Et==="darwin",sm=Et==="win32",nm=Et==="freebsd",im=Et==="openbsd",om=Et==="netbsd",am=Et==="sunos",Cl={1:"Other",2:"Unknown",3:"Idle",4:"Printing",5:"Warmup",6:"Stopped Printing",7:"Offline"};function lm(t){let r={};if(t&&t.length&&t[0].indexOf(" CUPS v")>0){let e=t[0].split(" CUPS v");r.cupsVersion=e[1]}return r}function um(t){let r={},e=de.getValue(t,"PrinterId"," ");return r.id=e?parseInt(e,10):null,r.name=de.getValue(t,"Info"," "),r.model=t.length>0&&t[0]?t[0].split(" ")[0]:"",r.uri=de.getValue(t,"DeviceURI"," "),r.uuid=de.getValue(t,"UUID"," "),r.status=de.getValue(t,"State"," "),r.local=de.getValue(t,"Location"," ").toLowerCase().startsWith("local"),r.default=null,r.shared=de.getValue(t,"Shared"," ").toLowerCase().startsWith("yes"),r}function cm(t,r){let e={};return e.id=r,e.name=de.getValue(t,"Description",":",!0),e.model=t.length>0&&t[0]?t[0].split(" ")[0]:"",e.uri=null,e.uuid=null,e.status=t.length>0&&t[0]?t[0].indexOf(" idle")>0?"idle":t[0].indexOf(" printing")>0?"printing":"unknown":null,e.local=de.getValue(t,"Location",":",!0).toLowerCase().startsWith("local"),e.default=null,e.shared=de.getValue(t,"Shared"," ").toLowerCase().startsWith("yes"),e}function pm(t,r){let e={},s=t.uri.split("/");return e.id=r,e.name=t._name,e.model=s.length?s[s.length-1]:"",e.uri=t.uri,e.uuid=null,e.status=t.status,e.local=t.printserver==="local",e.default=t.default==="yes",e.shared=t.shared==="yes",e}function fm(t,r){let e={},s=parseInt(de.getValue(t,"PrinterStatus",":"),10);return e.id=r,e.name=de.getValue(t,"name",":"),e.model=de.getValue(t,"DriverName",":"),e.uri=null,e.uuid=null,e.status=Cl[s]?Cl[s]:null,e.local=de.getValue(t,"Local",":").toUpperCase()==="TRUE",e.default=de.getValue(t,"Default",":").toUpperCase()==="TRUE",e.shared=de.getValue(t,"Shared",":").toUpperCase()==="TRUE",e}function dm(t){return new Promise(r=>{process.nextTick(()=>{let e=[];if(xl||nm||im||om){let s="cat /etc/cups/printers.conf 2>/dev/null";kn(s,function(i,n){if(!i){let o=n.toString().split("<Printer "),a=lm(o[0]);for(let l=1;l<o.length;l++){let u=um(o[l].split(`
`));u.name&&(u.engine="CUPS",u.engineVersion=a.cupsVersion,e.push(u))}}e.length===0&&xl?(s="export LC_ALL=C; lpstat -lp 2>/dev/null; unset LC_ALL",kn(s,function(o,a){let l=(`
`+a.toString()).split(`
printer `);for(let u=1;u<l.length;u++){let c=cm(l[u].split(`
`),u);e.push(c)}}),t&&t(e),r(e)):(t&&t(e),r(e))})}rm&&kn("system_profiler SPPrintersDataType -json",function(i,n){if(!i)try{let o=JSON.parse(n.toString());if(o.SPPrintersDataType&&o.SPPrintersDataType.length)for(let a=0;a<o.SPPrintersDataType.length;a++){let l=pm(o.SPPrintersDataType[a],a);e.push(l)}}catch{de.noop()}t&&t(e),r(e)}),sm&&de.powerShell("Get-CimInstance Win32_Printer | select PrinterStatus,Name,DriverName,Local,Default,Shared | fl").then((s,i)=>{if(!i){let n=s.toString().split(/\n\s*\n/);for(let o=0;o<n.length;o++){let a=fm(n[o].split(`
`),o);(a.name||a.model)&&e.push(a)}}t&&t(e),r(e)}),am&&r(null)})})}Il.printer=dm});var El=M(_l=>{"use strict";var Ll=require("child_process").exec,be=oe(),vt=process.platform,mm=vt==="linux"||vt==="android",gm=vt==="darwin",hm=vt==="win32",ym=vt==="freebsd",Sm=vt==="openbsd",wm=vt==="netbsd",xm=vt==="sunos";function Cm(t,r){let e=t,s=(r+" "+t).toLowerCase();return s.indexOf("camera")>=0?e="Camera":s.indexOf("hub")>=0?e="Hub":s.indexOf("keybrd")>=0||s.indexOf("keyboard")>=0?e="Keyboard":s.indexOf("mouse")>=0?e="Mouse":s.indexOf("stora")>=0?e="Storage":s.indexOf("microp")>=0?e="Microphone":(s.indexOf("headset")>=0||s.indexOf("audio")>=0)&&(e="Audio"),e}function Im(t){let r={},e=t.split(`
`);if(e&&e.length&&e[0].indexOf("Device")>=0){let S=e[0].split(" ");r.bus=parseInt(S[0],10),S[2]?r.deviceId=parseInt(S[2],10):r.deviceId=null}else r.bus=null,r.deviceId=null;let s=be.getValue(e,"idVendor"," ",!0).trim(),i=s.split(" ");i.shift();let n=i.join(" "),o=be.getValue(e,"idProduct"," ",!0).trim(),a=o.split(" ");a.shift();let l=a.join(" "),c=be.getValue(e,"bInterfaceClass"," ",!0).trim().split(" ");c.shift();let p=c.join(" "),d=be.getValue(e,"iManufacturer"," ",!0).trim().split(" ");d.shift();let m=d.join(" "),y=be.getValue(e,"iSerial"," ",!0).trim().split(" ");y.shift();let g=y.join(" ");return r.id=(s.startsWith("0x")?s.split(" ")[0].substr(2,10):"")+":"+(o.startsWith("0x")?o.split(" ")[0].substr(2,10):""),r.name=l,r.type=Cm(p,l),r.removable=null,r.vendor=n,r.manufacturer=m,r.maxPower=be.getValue(e,"MaxPower"," ",!0),r.serialNumber=g,r}function Om(t){let r="";return t.indexOf("camera")>=0?r="Camera":t.indexOf("touch bar")>=0?r="Touch Bar":t.indexOf("controller")>=0?r="Controller":t.indexOf("headset")>=0?r="Audio":t.indexOf("keyboard")>=0?r="Keyboard":t.indexOf("trackpad")>=0?r="Trackpad":t.indexOf("sensor")>=0?r="Sensor":t.indexOf("bthusb")>=0||t.indexOf("bth")>=0||t.indexOf("rfcomm")>=0?r="Bluetooth":t.indexOf("usbhub")>=0||t.indexOf(" hub")>=0?r="Hub":t.indexOf("mouse")>=0?r="Mouse":t.indexOf("microp")>=0?r="Microphone":t.indexOf("removable")>=0&&(r="Storage"),r}function Lm(t,r){let e={};e.id=r,t=t.replace(/ \|/g,""),t=t.trim();let s=t.split(`
`);s.shift();try{for(let o=0;o<s.length;o++){s[o]=s[o].trim(),s[o]=s[o].replace(/=/g,":"),s[o]!=="{"&&s[o]!=="}"&&s[o+1]&&s[o+1].trim()!=="}"&&(s[o]=s[o]+","),s[o]=s[o].replace(":Yes,",':"Yes",'),s[o]=s[o].replace(": Yes,",': "Yes",'),s[o]=s[o].replace(": Yes",': "Yes"'),s[o]=s[o].replace(":No,",':"No",'),s[o]=s[o].replace(": No,",': "No",'),s[o]=s[o].replace(": No",': "No"'),s[o]=s[o].replace("((","").replace("))","");let a=/<(\w+)>/.exec(s[o]);if(a){let l=a[0];s[o]=s[o].replace(l,`"${l}"`)}}let i=JSON.parse(s.join(`
`)),n=(i["Built-In"]?i["Built-In"].toLowerCase()!=="yes":!0)&&(i["non-removable"]?i["non-removable"].toLowerCase()==="no":!0);return e.bus=null,e.deviceId=null,e.id=i["USB Address"]||null,e.name=i.kUSBProductString||i["USB Product Name"]||null,e.type=Om((i.kUSBProductString||i["USB Product Name"]||"").toLowerCase()+(n?" removable":"")),e.removable=i["non-removable"]?i["non-removable"].toLowerCase()||!1:!0,e.vendor=i.kUSBVendorString||i["USB Vendor Name"]||null,e.manufacturer=i.kUSBVendorString||i["USB Vendor Name"]||null,e.maxPower=null,e.serialNumber=i.kUSBSerialNumberString||null,e.name?e:null}catch{return null}}function _m(t,r){let e="";return r.indexOf("storage")>=0||r.indexOf("speicher")>=0?e="Storage":t.indexOf("usbhub")>=0?e="Hub":t.indexOf("storage")>=0?e="Storage":t.indexOf("usbcontroller")>=0?e="Controller":t.indexOf("keyboard")>=0?e="Keyboard":t.indexOf("pointing")>=0?e="Mouse":t.indexOf("microp")>=0?e="Microphone":t.indexOf("disk")>=0&&(e="Storage"),e}function Em(t,r){let e=_m(be.getValue(t,"CreationClassName",":").toLowerCase(),be.getValue(t,"name",":").toLowerCase());if(e){let s={};return s.bus=null,s.deviceId=be.getValue(t,"deviceid",":"),s.id=r,s.name=be.getValue(t,"name",":"),s.type=e,s.removable=null,s.vendor=null,s.manufacturer=be.getValue(t,"Manufacturer",":"),s.maxPower=null,s.serialNumber=null,s}else return null}function vm(t){return new Promise(r=>{process.nextTick(()=>{let e=[];mm&&Ll("export LC_ALL=C; lsusb -v 2>/dev/null; unset LC_ALL",{maxBuffer:1024*1024*128},function(i,n){if(!i){let o=(`

`+n.toString()).split(`

Bus `);for(let a=1;a<o.length;a++){let l=Im(o[a]);e.push(l)}}t&&t(e),r(e)}),gm&&Ll("ioreg -p IOUSB -c AppleUSBRootHubDevice -w0 -l",{maxBuffer:1024*1024*128},function(i,n){if(!i){let o=n.toString().split(" +-o ");for(let a=1;a<o.length;a++){let l=Lm(o[a]);l&&e.push(l)}t&&t(e),r(e)}t&&t(e),r(e)}),hm&&be.powerShell('Get-CimInstance CIM_LogicalDevice | where { $_.Description -match "USB"} | select Name,CreationClassName,DeviceId,Manufacturer | fl').then((s,i)=>{if(!i){let n=s.toString().split(/\n\s*\n/);for(let o=0;o<n.length;o++){let a=Em(n[o].split(`
`),o);a&&e.filter(l=>l.deviceId===a.deviceId).length===0&&e.push(a)}}t&&t(e),r(e)}),(xm||ym||Sm||wm)&&r(null)})})}_l.usb=vm});var Vl=M(Pl=>{"use strict";var vl=require("child_process").exec,Pm=require("child_process").execSync,Ie=oe(),Pt=process.platform,Vm=Pt==="linux"||Pt==="android",Tm=Pt==="darwin",Dm=Pt==="win32",Nm=Pt==="freebsd",Am=Pt==="openbsd",Mm=Pt==="netbsd",Rm=Pt==="sunos";function jn(t,r,e){t=t.toLowerCase();let s="";return t.indexOf("input")>=0&&(s="Microphone"),t.indexOf("display audio")>=0&&(s="Speaker"),t.indexOf("speak")>=0&&(s="Speaker"),t.indexOf("laut")>=0&&(s="Speaker"),t.indexOf("loud")>=0&&(s="Speaker"),t.indexOf("head")>=0&&(s="Headset"),t.indexOf("mic")>=0&&(s="Microphone"),t.indexOf("mikr")>=0&&(s="Microphone"),t.indexOf("phone")>=0&&(s="Phone"),t.indexOf("controll")>=0&&(s="Controller"),t.indexOf("line o")>=0&&(s="Line Out"),t.indexOf("digital o")>=0&&(s="Digital Out"),t.indexOf("smart sound technology")>=0&&(s="Digital Signal Processor"),t.indexOf("high definition audio")>=0&&(s="Sound Driver"),!s&&e?s="Speaker":!s&&r&&(s="Microphone"),s}function bm(){let t="lspci -v 2>/dev/null",r=[];try{return Pm(t,Ie.execOptsLinux).toString().split(`

`).forEach(s=>{let i=s.split(`
`);if(i&&i.length&&i[0].toLowerCase().indexOf("audio")>=0){let n={};n.slotId=i[0].split(" ")[0],n.driver=Ie.getValue(i,"Kernel driver in use",":",!0)||Ie.getValue(i,"Kernel modules",":",!0),r.push(n)}}),r}catch{return r}}function Fm(t,r){let e={},s=Ie.getValue(t,"Slot"),i=r.filter(function(n){return n.slotId===s});return e.id=s,e.name=Ie.getValue(t,"SDevice"),e.manufacturer=Ie.getValue(t,"SVendor"),e.revision=Ie.getValue(t,"Rev"),e.driver=i&&i.length===1&&i[0].driver?i[0].driver:"",e.default=null,e.channel="PCIe",e.type=jn(e.name,null,null),e.in=null,e.out=null,e.status="online",e}function Wm(t){let r="";return t.indexOf("builtin")>=0&&(r="Built-In"),t.indexOf("extern")>=0&&(r="Audio-Jack"),t.indexOf("hdmi")>=0&&(r="HDMI"),t.indexOf("displayport")>=0&&(r="Display-Port"),t.indexOf("usb")>=0&&(r="USB"),t.indexOf("pci")>=0&&(r="PCIe"),r}function Bm(t,r){let e={},s=((t.coreaudio_device_transport||"")+" "+(t._name||"")).toLowerCase();return e.id=r,e.name=t._name,e.manufacturer=t.coreaudio_device_manufacturer,e.revision=null,e.driver=null,e.default=!!t.coreaudio_default_audio_input_device||!!t.coreaudio_default_audio_output_device,e.channel=Wm(s),e.type=jn(e.name,!!t.coreaudio_device_input,!!t.coreaudio_device_output),e.in=!!t.coreaudio_device_input,e.out=!!t.coreaudio_device_output,e.status="online",e}function Um(t){let r={},e=Ie.getValue(t,"StatusInfo",":");return r.id=Ie.getValue(t,"DeviceID",":"),r.name=Ie.getValue(t,"name",":"),r.manufacturer=Ie.getValue(t,"manufacturer",":"),r.revision=null,r.driver=null,r.default=null,r.channel=null,r.type=jn(r.name,null,null),r.in=null,r.out=null,r.status=e,r}function Gm(t){return new Promise(r=>{process.nextTick(()=>{let e=[];(Vm||Nm||Am||Mm)&&vl("lspci -vmm 2>/dev/null",function(i,n){if(!i){let o=bm();n.toString().split(`

`).forEach(l=>{let u=l.split(`
`);if(Ie.getValue(u,"class",":",!0).toLowerCase().indexOf("audio")>=0){let c=Fm(u,o);e.push(c)}})}t&&t(e),r(e)}),Tm&&vl("system_profiler SPAudioDataType -json",function(i,n){if(!i)try{let o=JSON.parse(n.toString());if(o.SPAudioDataType&&o.SPAudioDataType.length&&o.SPAudioDataType[0]&&o.SPAudioDataType[0]._items&&o.SPAudioDataType[0]._items.length)for(let a=0;a<o.SPAudioDataType[0]._items.length;a++){let l=Bm(o.SPAudioDataType[0]._items[a],a);e.push(l)}}catch{Ie.noop()}t&&t(e),r(e)}),Dm&&Ie.powerShell("Get-CimInstance Win32_SoundDevice | select DeviceID,StatusInfo,Name,Manufacturer | fl").then((s,i)=>{i||s.toString().split(/\n\s*\n/).forEach(o=>{let a=o.split(`
`);Ie.getValue(a,"name",":")&&e.push(Um(a))}),t&&t(e),r(e)}),Rm&&r(null)})})}Pl.audio=Gm});var Dl=M(Tl=>{"use strict";var qm=require("child_process").exec,$m=require("child_process").execSync,Hm=require("path"),Je=oe(),zm=require("fs"),Vt=process.platform,Xm=Vt==="linux"||Vt==="android",km=Vt==="darwin",jm=Vt==="win32",Ym=Vt==="freebsd",Km=Vt==="openbsd",Jm=Vt==="netbsd",Qm=Vt==="sunos";function Kn(t){let r="";return t.indexOf("keyboard")>=0&&(r="Keyboard"),t.indexOf("mouse")>=0&&(r="Mouse"),t.indexOf("trackpad")>=0&&(r="Trackpad"),t.indexOf("speaker")>=0&&(r="Speaker"),t.indexOf("headset")>=0&&(r="Headset"),t.indexOf("phone")>=0&&(r="Phone"),t.indexOf("macbook")>=0&&(r="Computer"),t.indexOf("imac")>=0&&(r="Computer"),t.indexOf("ipad")>=0&&(r="Tablet"),t.indexOf("watch")>=0&&(r="Watch"),t.indexOf("headphone")>=0&&(r="Headset"),r}function Zm(t){let r=t.split(" ")[0];return t=t.toLowerCase(),t.indexOf("apple")>=0&&(r="Apple"),t.indexOf("ipad")>=0&&(r="Apple"),t.indexOf("imac")>=0&&(r="Apple"),t.indexOf("iphone")>=0&&(r="Apple"),t.indexOf("magic mouse")>=0&&(r="Apple"),t.indexOf("magic track")>=0&&(r="Apple"),t.indexOf("macbook")>=0&&(r="Apple"),r}function eg(t,r,e){let s={};return s.device=null,s.name=Je.getValue(t,"name","="),s.manufacturer=null,s.macDevice=r,s.macHost=e,s.batteryPercent=null,s.type=Kn(s.name.toLowerCase()),s.connected=!1,s}function Yn(t,r){let e={},s=((t.device_minorClassOfDevice_string||t.device_majorClassOfDevice_string||t.device_minorType||"")+(t.device_name||"")).toLowerCase();return e.device=t.device_services||"",e.name=t.device_name||"",e.manufacturer=t.device_manufacturer||Zm(t.device_name||"")||"",e.macDevice=(t.device_addr||t.device_address||"").toLowerCase().replace(/-/g,":"),e.macHost=r,e.batteryPercent=t.device_batteryPercent||null,e.type=Kn(s),e.connected=t.device_isconnected==="attrib_Yes"||!1,e}function tg(t){let r={};return r.device=null,r.name=Je.getValue(t,"name",":"),r.manufacturer=Je.getValue(t,"manufacturer",":"),r.macDevice=null,r.macHost=null,r.batteryPercent=null,r.type=Kn(r.name.toLowerCase()),r.connected=null,r}function rg(t){return new Promise(r=>{process.nextTick(()=>{let e=[];if(Xm){Je.getFilesInPath("/var/lib/bluetooth/").forEach(i=>{let n=Hm.basename(i),o=i.split("/"),a=o.length>=6?o[o.length-2]:null,l=o.length>=7?o[o.length-3]:null;if(n==="info"){let u=zm.readFileSync(i,{encoding:"utf8"}).split(`
`);e.push(eg(u,a,l))}});try{let i=$m("hcitool con",Je.execOptsLinux).toString().toLowerCase();for(let n=0;n<e.length;n++)e[n].macDevice&&e[n].macDevice.length>10&&i.indexOf(e[n].macDevice.toLowerCase())>=0&&(e[n].connected=!0)}catch{Je.noop()}t&&t(e),r(e)}km&&qm("system_profiler SPBluetoothDataType -json",function(i,n){if(!i)try{let o=JSON.parse(n.toString());if(o.SPBluetoothDataType&&o.SPBluetoothDataType.length&&o.SPBluetoothDataType[0]&&o.SPBluetoothDataType[0].device_title&&o.SPBluetoothDataType[0].device_title.length){let a=null;o.SPBluetoothDataType[0].local_device_title&&o.SPBluetoothDataType[0].local_device_title.general_address&&(a=o.SPBluetoothDataType[0].local_device_title.general_address.toLowerCase().replace(/-/g,":")),o.SPBluetoothDataType[0].device_title.forEach(l=>{let u=l,c=Object.keys(u);if(c&&c.length===1){let p=u[c[0]];p.device_name=c[0];let f=Yn(p,a);e.push(f)}})}if(o.SPBluetoothDataType&&o.SPBluetoothDataType.length&&o.SPBluetoothDataType[0]&&o.SPBluetoothDataType[0].device_connected&&o.SPBluetoothDataType[0].device_connected.length){let a=o.SPBluetoothDataType[0].controller_properties&&o.SPBluetoothDataType[0].controller_properties.controller_address?o.SPBluetoothDataType[0].controller_properties.controller_address.toLowerCase().replace(/-/g,":"):null;o.SPBluetoothDataType[0].device_connected.forEach(l=>{let u=l,c=Object.keys(u);if(c&&c.length===1){let p=u[c[0]];p.device_name=c[0],p.device_isconnected="attrib_Yes";let f=Yn(p,a);e.push(f)}})}if(o.SPBluetoothDataType&&o.SPBluetoothDataType.length&&o.SPBluetoothDataType[0]&&o.SPBluetoothDataType[0].device_not_connected&&o.SPBluetoothDataType[0].device_not_connected.length){let a=o.SPBluetoothDataType[0].controller_properties&&o.SPBluetoothDataType[0].controller_properties.controller_address?o.SPBluetoothDataType[0].controller_properties.controller_address.toLowerCase().replace(/-/g,":"):null;o.SPBluetoothDataType[0].device_not_connected.forEach(l=>{let u=l,c=Object.keys(u);if(c&&c.length===1){let p=u[c[0]];p.device_name=c[0],p.device_isconnected="attrib_No";let f=Yn(p,a);e.push(f)}})}}catch{Je.noop()}t&&t(e),r(e)}),jm&&Je.powerShell("Get-CimInstance Win32_PNPEntity | select PNPClass, Name, Manufacturer | fl").then((s,i)=>{i||s.toString().split(/\n\s*\n/).forEach(o=>{Je.getValue(o.split(`
`),"PNPClass",":")==="Bluetooth"&&e.push(tg(o.split(`
`)))}),t&&t(e),r(e)}),(Ym||Jm||Km||Qm)&&r(null)})})}Tl.bluetoothDevices=rg});var Bl=M(R=>{"use strict";var sg=Jo().version,qt=oe(),Tt=da(),Qe=ga(),Fe=Ca(),Ns=Da(),Nl=Ma(),Al=Ba(),ke=Ha(),Ze=Qa(),As=nl(),$r=al(),Ml=cl(),Jn=dl(),$t=yl(),ng=wl(),ig=Ol(),og=El(),ag=Vl(),lg=Dl(),Hr=process.platform,Ds=Hr==="win32",Ur=Hr==="freebsd",Gr=Hr==="openbsd",qr=Hr==="netbsd",Xe=Hr==="sunos";Ds&&qt.getCodepage();function Rl(){return sg}function bl(t){return new Promise(r=>{process.nextTick(()=>{let e={};e.version=Rl(),Promise.all([Tt.system(),Tt.bios(),Tt.baseboard(),Tt.chassis(),Qe.osInfo(),Qe.uuid(),Qe.versions(),Fe.cpu(),Fe.cpuFlags(),Al.graphics(),Ze.networkInterfaces(),Ns.memLayout(),ke.diskLayout()]).then(s=>{e.system=s[0],e.bios=s[1],e.baseboard=s[2],e.chassis=s[3],e.os=s[4],e.uuid=s[5],e.versions=s[6],e.cpu=s[7],e.cpu.flags=s[8],e.graphics=s[9],e.net=s[10],e.memLayout=s[11],e.diskLayout=s[12],t&&t(e),r(e)})})})}function Fl(t,r,e){return qt.isFunction(r)&&(e=r,r=""),qt.isFunction(t)&&(e=t,t=""),new Promise(s=>{process.nextTick(()=>{r=r||Ze.getDefaultNetworkInterface(),t=t||"";let i=function(){let o=15;return Ds&&(o=13),(Ur||Gr||qr)&&(o=11),Xe&&(o=6),function(){--o===0&&(e&&e(n),s(n))}}(),n={};n.time=Qe.time(),n.node=process.versions.node,n.v8=process.versions.v8,Fe.cpuCurrentSpeed().then(o=>{n.cpuCurrentSpeed=o,i()}),Ml.users().then(o=>{n.users=o,i()}),$r.processes().then(o=>{n.processes=o,i()}),Fe.currentLoad().then(o=>{n.currentLoad=o,i()}),Xe||Fe.cpuTemperature().then(o=>{n.temp=o,i()}),!Gr&&!Ur&&!qr&&!Xe&&Ze.networkStats(r).then(o=>{n.networkStats=o,i()}),Xe||Ze.networkConnections().then(o=>{n.networkConnections=o,i()}),Ns.mem().then(o=>{n.mem=o,i()}),Xe||Nl().then(o=>{n.battery=o,i()}),Xe||$r.services(t).then(o=>{n.services=o,i()}),Xe||ke.fsSize().then(o=>{n.fsSize=o,i()}),!Ds&&!Gr&&!Ur&&!qr&&!Xe&&ke.fsStats().then(o=>{n.fsStats=o,i()}),!Ds&&!Gr&&!Ur&&!qr&&!Xe&&ke.disksIO().then(o=>{n.disksIO=o,i()}),!Gr&&!Ur&&!qr&&!Xe&&As.wifiNetworks().then(o=>{n.wifiNetworks=o,i()}),Jn.inetLatency().then(o=>{n.inetLatency=o,i()})})})}function ug(t,r,e){return new Promise(s=>{process.nextTick(()=>{let i={};r&&qt.isFunction(r)&&!e&&(e=r,r=""),t&&qt.isFunction(t)&&!r&&!e&&(e=t,t="",r=""),bl().then(n=>{i=n,Fl(t,r).then(o=>{for(let a in o)({}).hasOwnProperty.call(o,a)&&(i[a]=o[a]);e&&e(i),s(i)})})})})}function Wl(t,r){return new Promise(e=>{process.nextTick(()=>{let s=Object.keys(t).filter(i=>({}).hasOwnProperty.call(R,i)).map(i=>{let n=t[i].substring(t[i].lastIndexOf("(")+1,t[i].lastIndexOf(")")),o=i.indexOf(")")>=0?i.split(")")[1].trim():i;return o=i.indexOf("|")>=0?i.split("|")[0].trim():o,n?R[o](n):R[o]("")});Promise.all(s).then(i=>{let n={},o=0;for(let a in t)if({}.hasOwnProperty.call(t,a)&&{}.hasOwnProperty.call(R,a)&&i.length>o){if(t[a]==="*"||t[a]==="all")n[a]=i[o];else{let l=t[a],u="",c=[];if(l.indexOf(")")>=0&&(l=l.split(")")[1].trim()),l.indexOf("|")>=0&&(u=l.split("|")[1].trim(),c=u.split(":"),l=l.split("|")[0].trim()),l=l.replace(/,/g," ").replace(/ +/g," ").split(" "),i[o])if(Array.isArray(i[o])){let p=[];i[o].forEach(f=>{let d={};if(l.length===1&&(l[0]==="*"||l[0]==="all")?d=f:l.forEach(m=>{({}).hasOwnProperty.call(f,m)&&(d[m]=f[m])}),u&&c.length===2){if({}.hasOwnProperty.call(d,c[0].trim())){let m=d[c[0].trim()];typeof m=="number"?m===parseFloat(c[1].trim())&&p.push(d):typeof m=="string"&&m.toLowerCase()===c[1].trim().toLowerCase()&&p.push(d)}}else p.push(d)}),n[a]=p}else{let p={};l.forEach(f=>{({}).hasOwnProperty.call(i[o],f)&&(p[f]=i[o][f])}),n[a]=p}else n[a]={}}o++}r&&r(n),e(n)})})})}function cg(t,r,e){let s=null;return setInterval(()=>{Wl(t).then(n=>{JSON.stringify(s)!==JSON.stringify(n)&&(s=Object.assign({},n),e(n))})},r)}R.version=Rl;R.system=Tt.system;R.bios=Tt.bios;R.baseboard=Tt.baseboard;R.chassis=Tt.chassis;R.time=Qe.time;R.osInfo=Qe.osInfo;R.versions=Qe.versions;R.shell=Qe.shell;R.uuid=Qe.uuid;R.cpu=Fe.cpu;R.cpuFlags=Fe.cpuFlags;R.cpuCache=Fe.cpuCache;R.cpuCurrentSpeed=Fe.cpuCurrentSpeed;R.cpuTemperature=Fe.cpuTemperature;R.currentLoad=Fe.currentLoad;R.fullLoad=Fe.fullLoad;R.mem=Ns.mem;R.memLayout=Ns.memLayout;R.battery=Nl;R.graphics=Al.graphics;R.fsSize=ke.fsSize;R.fsOpenFiles=ke.fsOpenFiles;R.blockDevices=ke.blockDevices;R.fsStats=ke.fsStats;R.disksIO=ke.disksIO;R.diskLayout=ke.diskLayout;R.networkInterfaceDefault=Ze.networkInterfaceDefault;R.networkGatewayDefault=Ze.networkGatewayDefault;R.networkInterfaces=Ze.networkInterfaces;R.networkStats=Ze.networkStats;R.networkConnections=Ze.networkConnections;R.wifiNetworks=As.wifiNetworks;R.wifiInterfaces=As.wifiInterfaces;R.wifiConnections=As.wifiConnections;R.services=$r.services;R.processes=$r.processes;R.processLoad=$r.processLoad;R.users=Ml.users;R.inetChecksite=Jn.inetChecksite;R.inetLatency=Jn.inetLatency;R.dockerInfo=$t.dockerInfo;R.dockerImages=$t.dockerImages;R.dockerContainers=$t.dockerContainers;R.dockerContainerStats=$t.dockerContainerStats;R.dockerContainerProcesses=$t.dockerContainerProcesses;R.dockerVolumes=$t.dockerVolumes;R.dockerAll=$t.dockerAll;R.vboxInfo=ng.vboxInfo;R.printer=ig.printer;R.usb=og.usb;R.audio=ag.audio;R.bluetoothDevices=lg.bluetoothDevices;R.getStaticData=bl;R.getDynamicData=Fl;R.getAllData=ug;R.get=Wl;R.observe=cg;R.powerShellStart=qt.powerShellStart;R.powerShellRelease=qt.powerShellRelease});var fg={};Xl(fg,{default:()=>Ul});module.exports=kl(fg);var $=require("@raycast/api"),Qn=require("child_process");var ri=zt(require("node:os"),1),jl=new Map([[24,["Sequoia","15"]],[23,["Sonoma","14"]],[22,["Ventura","13"]],[21,["Monterey","12"]],[20,["Big Sur","11"]],[19,["Catalina","10.15"]],[18,["Mojave","10.14"]],[17,["High Sierra","10.13"]],[16,["Sierra","10.12"]],[15,["El Capitan","10.11"]],[14,["Yosemite","10.10"]],[13,["Mavericks","10.9"]],[12,["Mountain Lion","10.8"]],[11,["Lion","10.7"]],[10,["Snow Leopard","10.6"]],[9,["Leopard","10.5"]],[8,["Tiger","10.4"]],[7,["Panther","10.3"]],[6,["Jaguar","10.2"]],[5,["Puma","10.1"]]]);function Dt(t){t=Number((t||ri.default.release()).split(".")[0]);let[r,e]=jl.get(t)||["Unknown",""];return{name:r,version:e}}var Zs=zt(require("node:process"),1),Yo=zt(require("node:fs"),1),$p=zt(jo(),1),Hp=Zs.default.platform==="darwin",Qs,zp=t=>{let{length:r}=t.split(".");return r===1?`${t}.0.0`:r===2?`${t}.0`:t},Ko=t=>{let r=/<key>ProductVersion<\/key>\s*<string>([\d.]+)<\/string>/.exec(t);if(r)return r[1].replace("10.16","11")};function yr(){if(Hp){if(!Qs){let t=Yo.default.readFileSync("/System/Library/CoreServices/SystemVersion.plist","utf8"),r=Ko(t);if(!r)return;Qs=zp(r)}return Qs}}Zs.default.env.NODE_ENV==="test"&&(yr._parseVersion=Ko);var et=zt(require("os")),Ht=require("react"),Zn=zt(Bl()),Q=require("react/jsx-runtime");async function pg(){let r=(await Zn.default.fsSize())[0],e=(r.size/(1024*1024*1024)).toFixed(2);return`${(r.available/(1024*1024*1024)).toFixed(2)} GB available of ${e} GB`}function Ul(){let[t,r]=(0,Ht.useState)(""),[e,s]=(0,Ht.useState)(""),[i,n]=(0,Ht.useState)([]),[o,a]=(0,Ht.useState)([]),l=()=>{switch(Dt().name){case"Sonoma":return`${$.environment.assetsPath}/macos_sonoma.png`;case"Ventura":return`${$.environment.assetsPath}/macos_ventura.png`;case"Monterey":return`${$.environment.assetsPath}/macos_monterey.png`;default:return`${$.environment.assetsPath}/macos_sequoia.png`}};(0,Ht.useEffect)(()=>{pg().then(f=>{r(f)}),(0,Qn.exec)("/usr/sbin/system_profiler SPHardwareDataType",(f,d,m)=>{if(f){s(`Error: ${f.message}`);return}if(m){s(`stderr: ${m}`);return}let h=d.match(/Serial Number \(system\): (.+)/),y=h?h[1]:null;s(y)});let c=et.default.networkInterfaces(),p=[];for(let[f,d]of Object.entries(c))for(let m of d)m.family==="IPv4"&&!m.internal&&p.push({name:f,ip:m.address});n(p),Zn.default.processes().then(f=>{a(f.list)})},[]);let u=c=>{(0,Qn.exec)(`kill ${c}`,p=>{p?console.error(`Failed to kill process with PID ${c}: ${p.message}`):(console.log(`Process with PID ${c} has been killed.`),a(f=>f.filter(d=>d.pid!==c)))})};return(0,Q.jsxs)($.List,{children:[(0,Q.jsxs)($.List.Section,{title:"About This Mac",children:[(0,Q.jsx)($.List.Item,{icon:$.Icon.Person,title:"Hostname",accessories:[{text:et.default.hostname().replace(/\.local/g,"")}],actions:(0,Q.jsx)($.ActionPanel,{children:(0,Q.jsx)($.Action.CopyToClipboard,{title:"Copy Hostname",content:et.default.hostname().replace(/\.local/g,"")})})}),(0,Q.jsx)($.List.Item,{icon:$.Icon.ComputerChip,title:"Chip",accessories:[{text:et.default.cpus()[0].model}],actions:(0,Q.jsx)($.ActionPanel,{children:(0,Q.jsx)($.Action.CopyToClipboard,{title:"Copy Chip Model",content:et.default.cpus()[0].model})})}),(0,Q.jsx)($.List.Item,{icon:$.Icon.MemoryChip,title:"Memory",accessories:[{text:et.default.totalmem()/(1024*1024*1024)+" GB"}]}),(0,Q.jsx)($.List.Item,{icon:$.Icon.Hashtag,title:"Serial Number",accessories:[{text:e||"-"}],actions:(0,Q.jsx)($.ActionPanel,{children:(0,Q.jsx)($.Action.CopyToClipboard,{title:"Copy Serial Number",content:e||"-"})})})]}),(0,Q.jsxs)($.List.Section,{title:"macOS",children:[(0,Q.jsx)($.List.Item,{icon:l(),title:`macOS ${Dt().name=="Unknown"?yr().split(".")[0]:`${Dt().name}`}`,accessories:[{text:`Version ${yr()}`}],actions:(0,Q.jsx)($.ActionPanel,{children:(0,Q.jsx)($.Action.CopyToClipboard,{title:"Copy macOS Version",content:`macOS ${Dt().name=="Unknown"?yr():`${Dt().name}`}`})})}),(0,Q.jsx)($.List.Item,{icon:$.Icon.Info,title:"Darwin Kernel",accessories:[{text:`${et.default.version().replace("Darwin Kernel","")}`}],actions:(0,Q.jsx)($.ActionPanel,{children:(0,Q.jsx)($.Action.CopyToClipboard,{title:"Copy Kernel Version",content:et.default.version()})})})]}),(0,Q.jsx)($.List.Section,{title:"Storage",children:(0,Q.jsx)($.List.Item,{icon:$.Icon.HardDrive,title:"Macintosh HD",accessories:[{text:t,tooltip:"This information may be inaccurate"}],actions:(0,Q.jsx)($.ActionPanel,{children:(0,Q.jsx)($.Action.Open,{target:"x-apple.systempreferences:com.apple.settings.Storage",title:"Open Storage Settings"})})})}),(0,Q.jsx)($.List.Section,{title:"Network",children:i.map(c=>(0,Q.jsx)($.List.Item,{icon:$.Icon.Globe,title:c.name,accessories:[{text:c.ip}],actions:(0,Q.jsx)($.ActionPanel,{children:(0,Q.jsx)($.Action.CopyToClipboard,{title:"Copy IP Address",content:c.ip})})},c.name))}),(0,Q.jsx)($.List.Section,{title:"Running Processes",children:o.map(c=>(0,Q.jsx)($.List.Item,{icon:$.Icon.Application,title:`${c.name}`,accessories:[{text:`PID: ${c.pid}`}],actions:(0,Q.jsxs)($.ActionPanel,{children:[(0,Q.jsx)($.Action,{title:"Quit Process",onAction:()=>u(c.pid)}),(0,Q.jsx)($.Action.CopyToClipboard,{title:"Copy Process Name",content:c.name}),(0,Q.jsx)($.Action.CopyToClipboard,{title:"Copy PID",content:c.pid.toString()})]})},c.pid))})]})}
